var Main=function(t){function e(){t.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.onAddToStage=function(t){egret.registerFontMapping("华康方圆体W7","..fonts/font3.TTF"),egret.MainContext.deviceType==egret.MainContext.DEVICE_PC&&(this.stage.scaleMode="showAll"),wy.init(),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},s.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("loading")},s.onResourceLoadComplete=function(t){switch(t.groupName){case"loading":wy.BaseViewManager.changeScene(LoadingUI),this.loadingView=wy.BaseViewManager.nowScene,RES.loadGroup("preload");break;case"preload":RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.createGameScene()}},s.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},s.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},s.onResourceProgress=function(t){"preload"==t.groupName&&this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal)},s.createGameScene=function(){var t=JSON.parse("231");console.log("_______________"),console.log(t),console.log(typeof t),console.log("number"==typeof t),console.log("_______________"),SocketManager.getInstance().init(),Net.urlIP="http://test.i-h5.cn/wangj_game/Aug_TSS_phone/",SocketManager.getInstance().start("112.74.97.169",9502),window.addEventListener("beforeunload",function(){SocketManager.getInstance().socket&&SocketManager.getInstance().socket.close()}),wy.changeScene(p1),wy.BGM.init("bgm",!0,"music_btn_png")},e}(egret.DisplayObjectContainer);egret.registerClass(Main,"Main");var wy;!function(t){var e=function(t){function e(){t.call(this),this._isHide=!0}__extends(e,t);var i=(__define,e),s=i.prototype;return s.show=function(t){this._isHide&&(this._isHide=!1)},s.hide=function(){this._isHide||(this._isHide=!0)},e}(egret.DisplayObjectContainer);t.BaseSprite=e,egret.registerClass(e,"wy.BaseSprite")}(wy||(wy={}));var chong1UI=function(t){function e(){t.call(this),this.width=640,this.height=1070,this.createChildren()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createChildren=function(){var t=new egret.Bitmap(RES.getRes("chong1_3_png"));t.x=205,t.y=514,this.addChild(t);var e=new egret.Bitmap(RES.getRes("chong1_2_png"));e.x=205,e.y=665,this.addChild(e);var i=new egret.Bitmap(RES.getRes("chong1_1_png"));i.x=182,i.y=250,this.addChild(i)},e}(wy.BaseSprite);egret.registerClass(chong1UI,"chong1UI");var chong1=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createChildren=function(){t.prototype.createChildren.call(this)},s.show=function(e){t.prototype.show.call(this,e),wy.Tween["do"](this)},s.hide=function(){t.prototype.hide.call(this)},s.onTouchTap=function(t){switch(t.currentTarget){}},e}(chong1UI);egret.registerClass(chong1,"chong1");var chong2UI=function(t){function e(){t.call(this),this.width=640,this.height=1070,this.createChildren()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createChildren=function(){var t=new egret.Bitmap(RES.getRes("chong2_2_png"));t.x=200,t.y=488,this.addChild(t);var e=new egret.Bitmap(RES.getRes("chong2_3_png"));e.x=200,e.y=598,this.addChild(e);var i=new egret.Bitmap(RES.getRes("chong2_1_png"));i.x=179,i.y=232,this.addChild(i)},e}(wy.BaseSprite);egret.registerClass(chong2UI,"chong2UI");var chong2=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createChildren=function(){t.prototype.createChildren.call(this)},s.show=function(e){t.prototype.show.call(this,e),wy.Tween["do"](this)},s.hide=function(){t.prototype.hide.call(this)},s.onTouchTap=function(t){switch(t.currentTarget){}},e}(chong2UI);egret.registerClass(chong2,"chong2");var chong3UI=function(t){function e(){t.call(this),this.width=640,this.height=1070,this.createChildren()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createChildren=function(){var t=new egret.Bitmap(RES.getRes("chong3_2_png"));t.x=257,t.y=400,this.addChild(t);var e=new egret.Bitmap(RES.getRes("chong3_1_png"));e.x=239,e.y=298,this.addChild(e);var i=new egret.Bitmap(RES.getRes("chong3_3_png"));i.x=257,i.y=493,this.addChild(i)},e}(wy.BaseSprite);egret.registerClass(chong3UI,"chong3UI");var chong3=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createChildren=function(){t.prototype.createChildren.call(this)},s.show=function(e){t.prototype.show.call(this,e),wy.Tween["do"](this)},s.hide=function(){t.prototype.hide.call(this)},s.onTouchTap=function(t){switch(t.currentTarget){}},e}(chong3UI);egret.registerClass(chong3,"chong3");var chong4UI=function(t){function e(){t.call(this),this.width=640,this.height=1070,this.createChildren()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createChildren=function(){var t=new egret.Bitmap(RES.getRes("chong4_2_png"));t.x=245,t.y=528,this.addChild(t);var e=new egret.Bitmap(RES.getRes("chong4_1_png"));e.x=197,e.y=328,this.addChild(e);var i=new egret.Bitmap(RES.getRes("chong4_3_png"));i.x=245,i.y=650,this.addChild(i)},e}(wy.BaseSprite);egret.registerClass(chong4UI,"chong4UI");var chong4=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createChildren=function(){t.prototype.createChildren.call(this)},s.show=function(e){t.prototype.show.call(this,e),wy.Tween["do"](this)},s.hide=function(){t.prototype.hide.call(this)},s.onTouchTap=function(t){switch(t.currentTarget){}},e}(chong4UI);egret.registerClass(chong4,"chong4");var chong5UI=function(t){function e(){t.call(this),this.width=640,this.height=1070,this.createChildren()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createChildren=function(){var t=new egret.Bitmap(RES.getRes("chong5_3_png"));t.x=246,t.y=609,this.addChild(t);var e=new egret.Bitmap(RES.getRes("chong5_2_png"));e.x=257,e.y=502,this.addChild(e);var i=new egret.Bitmap(RES.getRes("chong5_1_png"));i.x=130,i.y=165,this.addChild(i)},e}(wy.BaseSprite);egret.registerClass(chong5UI,"chong5UI");var chong5=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createChildren=function(){t.prototype.createChildren.call(this)},s.show=function(e){t.prototype.show.call(this,e),wy.Tween["do"](this)},s.hide=function(){t.prototype.hide.call(this)},s.onTouchTap=function(t){switch(t.currentTarget){}},e}(chong5UI);egret.registerClass(chong5,"chong5");var chong6UI=function(t){function e(){t.call(this),this.width=640,this.height=1070,this.createChildren()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createChildren=function(){var t=new egret.Bitmap(RES.getRes("chong6_2_png"));t.x=218,t.y=461,this.addChild(t);var e=new egret.Bitmap(RES.getRes("chong6_3_png"));e.x=218,e.y=569,this.addChild(e);var i=new egret.Bitmap(RES.getRes("chong6_1_png"));i.x=186,i.y=302,this.addChild(i)},e}(wy.BaseSprite);egret.registerClass(chong6UI,"chong6UI");var chong6=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createChildren=function(){t.prototype.createChildren.call(this)},s.show=function(e){t.prototype.show.call(this,e),wy.Tween["do"](this)},s.hide=function(){t.prototype.hide.call(this)},s.onTouchTap=function(t){switch(t.currentTarget){}},e}(chong6UI);egret.registerClass(chong6,"chong6");var chong7UI=function(t){function e(){t.call(this),this.width=640,this.height=1070,this.createChildren()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createChildren=function(){var t=new egret.Bitmap(RES.getRes("chong7_2_png"));t.x=235,t.y=423,this.addChild(t);var e=new egret.Bitmap(RES.getRes("chong7_3_png"));e.x=235,e.y=540,this.addChild(e);var i=new egret.Bitmap(RES.getRes("chong7_1_png"));i.x=185,i.y=243,this.addChild(i)},e}(wy.BaseSprite);egret.registerClass(chong7UI,"chong7UI");var chong7=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createChildren=function(){t.prototype.createChildren.call(this)},s.show=function(e){t.prototype.show.call(this,e),wy.Tween["do"](this)},s.hide=function(){t.prototype.hide.call(this)},s.onTouchTap=function(t){switch(t.currentTarget){}},e}(chong7UI);egret.registerClass(chong7,"chong7");var chong8UI=function(t){function e(){t.call(this),this.width=640,this.height=1070,this.createChildren()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createChildren=function(){var t=new egret.Bitmap(RES.getRes("chong8_4_png"));t.x=380,t.y=695,this.addChild(t);var e=new egret.Bitmap(RES.getRes("chong8_2_png"));e.x=230,e.y=595,this.addChild(e);var i=new egret.Bitmap(RES.getRes("chong8_3_png"));i.x=230,i.y=688,this.addChild(i);var s=new egret.Bitmap(RES.getRes("chong8_1_png"));s.x=183,s.y=239,this.addChild(s)},e}(wy.BaseSprite);egret.registerClass(chong8UI,"chong8UI");var chong8=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createChildren=function(){t.prototype.createChildren.call(this)},s.show=function(e){t.prototype.show.call(this,e),wy.Tween["do"](this)},s.hide=function(){t.prototype.hide.call(this)},s.onTouchTap=function(t){switch(t.currentTarget){}},e}(chong8UI);egret.registerClass(chong8,"chong8");var LoadingUIUI=function(t){function e(){t.call(this),this.width=1920,this.height=1080,this.createChildren()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createChildren=function(){this.textField=new egret.TextField,this.textField.text="100%",this.textField.x=245,this.textField.y=498,this.textField.width=150,this.textField.height=40,this.textField.textAlign="center",this.textField.textColor=16711680,this.textField.size=20,this.textField.fontFamily="微软雅黑",this.addChild(this.textField)},e}(wy.BaseSprite);egret.registerClass(LoadingUIUI,"LoadingUIUI");var LoadingUI=function(t){function e(){t.call(this);var e=document.getElementById("loading");e.parentNode&&e.parentNode.removeChild(e),document.body.style.background="#fff"}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createChildren=function(){t.prototype.createChildren.call(this),this.shape=wy.Tools.createMovieClip("loading"),this.addChild(this.shape),this.shape.play(-1),this.shape.scaleX=this.shape.scaleY=.7,this.shape.x=257,this.shape.y=300,this.lineDown=new egret.Shape,this.lineDown.graphics.lineStyle(.5,16777215,.5),this.lineDown.graphics.moveTo(0,0),this.lineDown.graphics.lineTo(120,0),this.lineDown.graphics.endFill(),this.addChild(this.lineDown),this.lineUp=new egret.Shape,this.addChild(this.lineUp),this.lineDown.x=this.width/2-this.lineDown.width/2,this.lineDown.y=830,this.lineUp.x=this.lineDown.x,this.lineUp.y=this.lineDown.y,this.textField.text=""},s.hide=function(){t.prototype.hide.call(this)},s.setProgress=function(t,e){var i=Math.round(100*t/e);this.lineUp.graphics.clear(),this.lineUp.graphics.lineStyle(2,0,1),this.lineUp.graphics.moveTo(0,0),this.lineUp.graphics.lineTo(this.lineDown.width*i/100,0)},e}(LoadingUIUI);egret.registerClass(LoadingUI,"LoadingUI");var wj;!function(t){var e=function(){function e(){}var i=(__define,e);i.prototype;return e.savedata=function(t,e){localStorage.setItem(t,e)},e.getdata=function(t){return localStorage.getItem(t)},e.closewindow=function(t){window.onbeforeunload=function(){t()},console.log(window.orientation=90)},e.checkMobile=function(t){var e=/^0?1[3|4|5|8|7][0-9]\d{8}$/;return e.test(t)?!0:!1},e.checkShengfenzheng=function(t){var e=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;return e.test(t)?!0:!1},e.checkzhongwen=function(t){var e=/[^\u4e00-\u9fa5]/;return e.test(t)?!1:!0},e.checkyingwen=function(t){var e=/[^a-zA-Z]/;return e.test(t)?!1:!0},e.checkshuzi=function(t){var e=/^[0-9]*$/;return e.test(t)?!0:!1},e.checkzijie=function(e){e||(e="");for(var i=0,s=0;s<e.length;s++)t.Mytools.checkzhongwen(e.charAt(s))?i+=2:i++;return i},e.checkYouxiang=function(t){var e=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return e.test(t)?!0:!1},e.getstrtime=function(t){var e,i,s=t/60>>0,n=t%60;return e=9>=s?"0"+s:""+s,i=9>=n?"0"+n:""+n,e+":"+i},e.huaxian=function(e,i,s,n){void 0===i&&(i=0),void 0===s&&(s=4),void 0===n&&(n=new egret.Rectangle(0,0,640,1036)),t.Mytools._dianji=[],t.Mytools._leng=[];var h=new egret.DisplayObjectContainer;h.width=n.width,h.height=n.height;var a;return e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(o){e.dispatchEventWith("ssss");var r=new egret.Point(o.stageX,o.stageY);t.Mytools._dianji.push(r),a=new egret.Shape,t.Mytools._qidian.x=o.stageX,t.Mytools._qidian.y=o.stageY,a.graphics.lineStyle(s,i),a.graphics.moveTo(o.stageX,o.stageY),a.x-=h.x,a.y-=h.y,h.addChild(a),h.mask=n},this),e.addEventListener(egret.TouchEvent.TOUCH_MOVE,function(o){if(a)a.graphics.lineTo(o.stageX,o.stageY);else{e.dispatchEventWith("ssss");var r=new egret.Point(o.stageX,o.stageY);t.Mytools._dianji.push(r),a=new egret.Shape,t.Mytools._qidian.x=o.stageX,t.Mytools._qidian.y=o.stageY;var r=new egret.Point(o.stageX,o.stageY);t.Mytools._dianji.push(r),a.graphics.lineStyle(s,i),a.graphics.moveTo(o.stageX,o.stageY),a.x-=h.x,a.y-=h.y,h.addChild(a),h.mask=n}},this),e.addEventListener(egret.TouchEvent.TOUCH_END,function(e){return a&&a.graphics.endFill(),t.Mytools._leng.push(t.Mytools._dianji.length),a},this),h},e.dong=function(t,e,i,s){void 0===e&&(e=4),void 0===i&&(i=!0);for(var n=0;n<t.length;n++)t[n].alpha=0;t[0].alpha=1;var h=0,a=egret.setInterval(function(){for(var e=0;e<t.length;e++)t[e].alpha=0,e==h&&(t[e].alpha=1);h++,i?h%=t.length:h==t.length&&(s&&s(),egret.clearInterval(a))},this,1e3/e);return a},e.creatdonghua=function(e,i,s,n){void 0===s&&(s=24),void 0===n&&(n=0);var h=e.length,a=-1;return 0==h?null:(t.Mytools.tu=t.Mytools.createBitmapByName(e[0]),i.addChild(t.Mytools.tu),void egret.setTimeout(function(){var n=egret.setInterval(function(){return a++,t.Mytools.tu.texture=RES.getRes(e[a]),a==h-1&&(a=-1),n},i,1e3/s)},i,n))},e.creatdonghua2=function(e,i,s,n){void 0===s&&(s=24),void 0===n&&(n=0);var h=e.length,a=-1;return 0==h?null:(t.Mytools.tu2=t.Mytools.createBitmapByName(e[0]),i.addChild(t.Mytools.tu2),void egret.setTimeout(function(){var n=egret.setInterval(function(){a++,t.Mytools.tu2.texture=RES.getRes(e[a]),a==h-1&&egret.clearInterval(n)},i,1e3/s)},i,n))},e.createvideo=function(t,e,i,s,n,h,a,o,r){void 0===h&&(h=0),void 0===a&&(a=0),void 0===o&&(o=640),void 0===r&&(r=320);var d=new egret.Video;return d.x=h,d.y=a,d.width=o,d.height=r,d.fullscreen=!1,d.poster=e,d.load(i),d.once(egret.Event.COMPLETE,s,this),d.once(egret.IOErrorEvent.IO_ERROR,n,this),d},e.createTextField=function(t,e,i,s,n,h){void 0===t&&(t=0);var a=new egret.TextField;return e&&(a.width=e),i&&(a.height=i),s&&(a.x=s),n&&(a.y=n),h?a.size=h:a.size=28,1==t&&(a.type=egret.TextFieldType.INPUT),a.textAlign="center",a},e.createReField=function(e,i,s){return void 0===i&&(i=1),s||(s=t.Mytools.createTextField(1)),s.addEventListener(egret.Event.CHANGE,function(t){switch(i){case 0:s.restrict="一-龥";break;case 1:s.restrict="0-9",s.inputType=egret.TextFieldInputType.TEL;break;case 2:s.restrict="a-zA-z_";break;case 3:s.restrict="a-zA-z_0-9";break;case 4:s.restrict="0-9",s.inputType=egret.TextFieldInputType.TEL,s.maxChars=11}},e),s},e.like=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},e.jiaohuanweizi=function(t,e){var i=t.x,s=t.y;t.x=e.x,t.y=e.y,e.x=i,e.y=s},e.yasuoshangchuang=function(e,i,s,n,h){void 0===n&&(n=100),void 0===h&&(h=100),wy.Tools.upload_base64(t.Mytools.yasuotupian(i,s,n,h).toDataURL("image/png"),e,i)},e.yasuotupian=function(t,e,i,s){var n=new egret.Bitmap(e);n.width=100,i&&(n.width=i),n.height=100,s&&(n.height=s),t.addChild(n);var h=new egret.RenderTexture;return h.drawToTexture(t,new egret.Rectangle(0,0,n.width,n.height)),t.removeChild(n),h},e.createScolltext=function(e,i){void 0===i&&(i=30),e.multiline=!0;var s=t.Mytools.createshap(0,0,e.width,e.height,16711680,0);s.x=e.x,s.y=e.y,e.parent.addChild(s);var n=-1,h=0;s.touchEnabled=!0,e.parent.addChildAt(s,e.parent.getChildIndex(e)),s.addEventListener(egret.TouchEvent.TOUCH_MOVE,function(t){-1==n?n=t.stageY:(t.stageY>n?(h+=t.stageY-n,h>=i&&(h-=i,e.scrollV-=1,0==e.scrollV&&(e.scrollV=1))):(h+=n-t.stageY,h>=i&&(h-=i,e.scrollV==e.maxScrollV||(e.scrollV+=1))),n=t.stageY)},e.parent),s.parent.addEventListener(egret.TouchEvent.TOUCH_END,function(t){n=-1},e.parent)},e.GetBtn1=function(t,e,i,s,n){var h=new egret.Sprite;return h.graphics.beginFill(16711680,0),h.graphics.drawRect(0,0,t,e),h.graphics.endFill(),h.width=t,h.height=e,h.x=i,h.y=s,h.touchEnabled=!0,n&&n.addChild(h),h},e.setweiz=function(t,e,i,s,n){t.x=e,t.y=i,t.width=s,t.height=n},e.oneAction=function(t,e){this._isonce&&(e.func(),this._isonce=!1)},e.maodian=function(t,e,i){t.x-=t.anchorOffsetX,t.y-=t.anchorOffsetY,t.anchorOffsetX=e-t.x,t.anchorOffsetY=i-t.y,t.x+=e-t.x,t.y+=i-t.y},e.youshang=function(t){t.x-=t.anchorOffsetX,t.y-=t.anchorOffsetY,t.anchorOffsetX=t.width,t.anchorOffsetY=0,t.x+=t.anchorOffsetX,t.y+=t.anchorOffsetY},e.youzhong=function(t){t.x-=t.anchorOffsetX,t.y-=t.anchorOffsetY,t.anchorOffsetX=t.width,t.anchorOffsetY=t.height>>1,t.x+=t.width,t.y+=t.height>>1},e.youxia=function(t){t.x-=t.anchorOffsetX,t.y-=t.anchorOffsetY,t.anchorOffsetX=t.width,t.anchorOffsetY=t.height,t.x+=t.width,t.y+=t.height},e.zhongshang=function(t){t.x-=t.anchorOffsetX,t.y-=t.anchorOffsetY,t.anchorOffsetX=t.width>>1,t.x+=t.width>>1},e.zhongxia=function(t){t.x-=t.anchorOffsetX,t.y-=t.anchorOffsetY,t.anchorOffsetX=t.width>>1,t.anchorOffsetY=t.height,t.x+=t.width>>1,t.y+=t.height},e.zuozhong=function(t){t.x-=t.anchorOffsetX,t.y-=t.anchorOffsetY,t.anchorOffsetY=t.height>>1,t.y+=t.height>>1},e.zuoxia=function(t){t.x-=t.anchorOffsetX,t.y-=t.anchorOffsetY,t.anchorOffsetY=t.height,t.y+=t.height},e.cut=function(e,i){var s="";return t.Mytools.checkzijie(e)>i?(s=e.substr(0,e.length-1),this.cut(s,i)):e},e.zishuguochang=function(e,i){var s;return s=t.Mytools.checkzijie(e)<=i?e:this.cut(e,i)+"..."},e.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},e.createshap=function(t,e,i,s,n,h){void 0===n&&(n=16777215),void 0===h&&(h=1);var a=new egret.Shape;return a.graphics.beginFill(n,h),a.graphics.drawRect(0,0,i,s),a.graphics.endFill(),a.x=t,a.y=e,a},e.createshap1=function(t,e,i,s,n,h,a){void 0===n&&(n=16777215),void 0===h&&(h=1),void 0===a&&(a=10);var o=new egret.Shape;return o.graphics.beginFill(n,h),o.graphics.drawRoundRect(t,e,i,s,a,a),o.graphics.endFill(),o},e.createshap2=function(t,e,i,s,n){void 0===s&&(s=16777215),void 0===n&&(n=1);var h=new egret.Shape;return h.graphics.beginFill(s,n),h.graphics.drawCircle(t,e,i),h.graphics.endFill(),h},e._dianji=[],e._leng=[],e._qidian=new egret.Point(0,0),e.tu=null,e.tu2=null,e._isonce=!0,e}();t.Mytools=e,egret.registerClass(e,"wj.Mytools");var i=function(){function e(){}var i=(__define,e);i.prototype;return e.jianxian=function(e,i,s,n){if(void 0===i&&(i=1e3),void 0===s&&(s=2e3),void 0===n&&(n=2),2==n){var h=20,a=new egret.Sprite,o=t.Mytools.createshap(0,-h,e.width,e.height);a.addChild(o);for(var r=1;20>=r;r++){var d=t.Mytools.createshap(0,e.height-h/20*r,e.width,h/20,0,r/20);a.addChild(d)}a.x=e.x,a.y=e.y-e.height,e.parent.addChild(a),e.mask=a,egret.setTimeout(function(){egret.Tween.get(a).to({y:e.y+h},s)},e.parent.addChild(a),i)}else{var h=20,a=new egret.Sprite,o=t.Mytools.createshap(0-h,0,e.width,e.height);a.addChild(o);for(var r=1;20>=r;r++){var d=t.Mytools.createshap(e.width-h/20*r,0,h/20,e.height,0,r/20);a.addChild(d)}a.x=e.x-e.width,a.y=e.y,e.parent.addChild(a),e.mask=a,egret.setTimeout(function(){egret.Tween.get(a).to({x:e.x+h},s).call(function(){e.parent.removeChild(a)})},e.parent.addChild(a),i)}},e.yaobai=function(e,i,s){void 0===i&&(i=800),void 0===s&&(s=1e3);var n=e.parent;egret.setTimeout(function(){t.Mytools.zhongxia(e),egret.Tween.get(e,{loop:!0}).to({skewX:-3},s).to({skewX:3},2*s).to({skewX:0},s)},n,i)},e.youyi=function(e,i,s){void 0===i&&(i=1e3);var n=e.parent,h=new egret.Bitmap(e.texture);return t.Mytools.like(h,e),h.x=-e.width,n.addChildAt(h,n.getChildIndex(e)),egret.setTimeout(function(){var t=egret.setInterval(function(){e.x+=s,h.x+=s,e.x>=e.width&&(e.x=-e.width),h.x>=h.width&&(h.x=-h.width)},n,1e3/24);return t},n,i),-1},e.liuxin=function(t,e,i){void 0===e&&(e=1e3),void 0===i&&(i=1e4);var s=t.parent,n=t.width,h=t.x,a=t.y;egret.setTimeout(function(){wy.Tools.center(t),egret.Tween.get(t).to({x:-n,y:a+n+h},i)},s,e)},e.yingru=function(t,e,i){void 0===e&&(e=1e3),void 0===i&&(i=350);var s=t.parent;t.alpha=0,t.scaleX=2,t.scaleY=2,wy.Tools.center(t),egret.setTimeout(function(){t.alpha=1,egret.Tween.get(t).to({scaleX:1,scaleY:1},i)},s,e)},e.shansuo=function(t,e,i){void 0===e&&(e=1e3),void 0===i&&(i=1e3);var s=t.parent;egret.setTimeout(function(){t.alpha=1,egret.Tween.get(t,{loop:!0}).to({alpha:0},i).to({alpha:1},i)},s,e)},e.shansuo2=function(t,e,i){void 0===e&&(e=1e3),void 0===i&&(i=1e3);var s=t.parent;egret.setTimeout(function(){egret.Tween.get(t,{loop:!0}).to({alpha:.5},i).to({alpha:1},i)},s,e)},e.xialuo=function(e,i,s){void 0===i&&(i=1e3),void 0===s&&(s=10);var n=e.parent,h=new egret.Bitmap(e.texture);return t.Mytools.like(h,e),h.y=-e.height,n.addChildAt(h,n.getChildIndex(e)),egret.setTimeout(function(){var t=egret.setInterval(function(){e.y+=s,h.y+=s,e.y>=e.height&&(e.y=-e.height),h.y>=h.height&&(h.y=-h.height)},n,1e3/24);return t},n,i),-1},e.xuanzhuan=function(t,e,i){void 0===e&&(e=2e3),void 0===i&&(i=1e4);var s=t.parent;egret.setTimeout(function(){wy.Tools.center(t),egret.Tween.get(t,{loop:!0}).to({rotation:360},i)},s,e)},e.zhuanru=function(t,e,i){void 0===e&&(e=2e3),void 0===i&&(i=1e4),wy.Tools.center(t),t.scaleX=t.scaleY=0;var s=t.parent;egret.setTimeout(function(){egret.Tween.get(t).to({rotation:1080,scaleX:1,scaleY:1},i)},s,e)},e.fadasuoxiao=function(t,e,i){void 0===e&&(e=1e3),void 0===i&&(i=1e3);var s=t.parent;egret.setTimeout(function(){wy.Tools.center(t),egret.Tween.get(t,{loop:!0}).to({scaleX:.9,scaleY:.9},i).to({scaleX:1,scaleY:1},i)},s,e)},e.doudong=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=300);var s=t.parent;egret.setTimeout(function(){wy.Tools.center(t),egret.Tween.get(t,{loop:!0}).to({y:t.y+3},i).to({y:t.y-3},2*i).to({y:t.y},i)},s,e)},e.zuofeiru=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=1e3);var s=t.parent,n=t.x;t.x=-t.width,egret.setTimeout(function(){egret.Tween.get(t).to({x:n},i,egret.Ease.elasticOut)},s,e)},e.zuofeiru1=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=1e3);var s=t.parent,n=t.x;t.x=-t.width,egret.setTimeout(function(){egret.Tween.get(t).to({x:n},i)},s,e)},e.youfeiru=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=1e3);var s=t.parent,n=t.x;t.x=640,egret.setTimeout(function(){egret.Tween.get(t).to({x:n},i,egret.Ease.elasticOut)},s,e)},e.youfeiru1=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=1e3);var s=t.parent,n=t.x;t.x=640,egret.setTimeout(function(){egret.Tween.get(t).to({x:n},i)},s,e)},e.shangfeiru=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=1e3);var s=t.parent,n=t.y;t.y=-t.height,egret.setTimeout(function(){egret.Tween.get(t).to({y:n},i)},s,e)},e.shangfeiru1=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=1e3);var s=t.parent,n=t.y;t.y=-t.height,egret.setTimeout(function(){egret.Tween.get(t).to({y:n},i,egret.Ease.elasticOut)},s,e)},e.hengchushang=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=1e3);var s=t.parent;t.scaleY=0,egret.setTimeout(function(){egret.Tween.get(t).to({scaleY:1},i,egret.Ease.elasticOut)},s,e)},e.hengchuxia=function(e,i,s){void 0===i&&(i=800),void 0===s&&(s=1e3);var n=e.parent;t.Mytools.zuoxia(e),e.scaleY=0,egret.setTimeout(function(){egret.Tween.get(e).to({scaleY:1},s)},n,i)},e.hengchuzhong=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=1e3);var s=t.parent;wy.Tools.center(t),t.scaleY=0,egret.setTimeout(function(){egret.Tween.get(t).to({scaleY:1},i,egret.Ease.elasticOut)},s,e)},e.danru=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=1e3);var s=t.parent;t.alpha=0,egret.setTimeout(function(){egret.Tween.get(t).to({alpha:1},i)},s,e)},e.danchu=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=1e3);var s=t.parent;t.alpha=1,egret.setTimeout(function(){egret.Tween.get(t).to({alpha:0},i)},s,e)},e.xiafeiru=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=1e3);var s=t.parent,n=t.y;t.y=1036+t.height,egret.setTimeout(function(){egret.Tween.get(t).to({y:n},i)},s,e)},e.zuoyouyaobai=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=300);var s=t.parent;egret.setTimeout(function(){wy.Tools.center(t),egret.Tween.get(t,{loop:!0}).to({x:t.x+3},i).to({x:t.x-3},i)},s,e)},e.yaoyiyao=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=300);var s=t.parent;egret.setTimeout(function(){wy.Tools.center(t),egret.Tween.get(t,{loop:!0}).to({rotation:15},i).to({rotation:-15},600).to({rotation:0},i)},s,e)},e.lianxu=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=1e3);var s=t[0].parent;t[0].x;egret.setTimeout(function(){for(var e=0;e<t.length;e++)wy.Tools.center(t[e]);egret.setInterval(function(){for(var e=0;e<t.length;e++)egret.Tween.get(t[e]).wait(2*i*e).to({scaleX:1.1,scaleY:1.1},i).to({scaleX:1,scaleY:1},i)},s,2*i*t.length)},s,e)},e.qishi=function(e,i,s){void 0===i&&(i=800),void 0===s&&(s=300),t.Donghua.isqis=!1;var n=e.parent,h=new egret.Bitmap(e.texture);return t.Mytools.like(h,e),wy.Tools.center(h),egret.setTimeout(function(){n.addChild(h),wy.Tools.center(e),egret.Tween.get(h,{loop:!0}).to({alpha:1,scaleX:1,scaleY:1},0).to({alpha:0,scaleX:1.2,scaleY:1.2},s).call(function(){t.Donghua.isqis&&wy.Tools.stop(h)})},n,i),h},e.isqis=!1,e}();t.Donghua=i,egret.registerClass(i,"wj.Donghua");var s=function(){function t(){}var e=(__define,t);e.prototype;return t.setContent=function(t,e,i,s){void 0===e&&(e=wy.GameInterface),void 0===i&&(i=900),void 0===s&&(s=!1);var n=this.InstanceSpr();this.toastText.text=t,egret.Tween.removeTweens(n),s&&(n.y=1036,egret.Tween.get(n).to({y:i},500)),egret.Tween.get(n).to({alpha:1},300).wait(2e3).to({alpha:0},300).call(function(){n.parent&&n.parent.removeChild(n)}),n.y=i,e.stage.addChild(n)},t.InstanceSpr=function(){if(null==this._instanceSpr){this._instanceSpr=new egret.Sprite;var t=new egret.Matrix;t.createGradientBox(this.TF_WIDTH,this.TF_HEIGHT),this._instanceSpr.graphics.beginGradientFill(egret.GradientType.LINEAR,[this.BG_COLOR,this.BG_COLOR,this.BG_COLOR],[0,1,0],[0,127,255],t),this._instanceSpr.graphics.drawRect(0,0,this.TF_WIDTH,this.TF_HEIGHT),this._instanceSpr.graphics.endFill(),this.toastText=new egret.TextField,this.toastText.size=this.FONT_SIZE,this.toastText.x=this.toastText.y=0,this.toastText.width=this.TF_WIDTH,this.toastText.height=this.TF_HEIGHT,this.toastText.textAlign="center",this.toastText.fontFamily="微软雅黑",this.toastText.verticalAlign=egret.VerticalAlign.MIDDLE,this.toastText.textColor=this.TXT_COLOR,this._instanceSpr.addChild(this.toastText)}return this._instanceSpr.alpha=0,this._instanceSpr},t.BG_COLOR=3488060,t.TXT_COLOR=16777215,t.FONT_SIZE=30,t.TF_HEIGHT=60,t.TF_WIDTH=640,t}();t.Toast=s,egret.registerClass(s,"wj.Toast");var n=function(){function t(){}var e=(__define,t),i=e.prototype;return t.limit=function(t,e){t=Math.min(t,e),e=Math.max(t,e);var i=e-t;return t+Math.random()*i},t.limitInteger=function(t,e){return Math.round(this.limit(t,e))},t.limitInteger1=function(t,e,i){for(var s=[],n=0;i>n;n++){s[n]=Math.round(this.limit(t,e));for(var h=0;n>h;h++)s[n]==s[h]&&n--}return s},i.randomArray=function(t){var e=Math.floor(Math.random()*t.length);return t[e]},t}();t.RandomUtils=n,egret.registerClass(n,"wj.RandomUtils");var h=function(t){function e(i,s,n){void 0===n&&(n=!0),t.call(this);var h;h=i?i:e.RADIUS,this.bmp=new egret.Bitmap,this.addChild(this.bmp),this.bmp.width=h,this.bmp.height=s,n&&(this.shpMask=new egret.Shape,this.shpMask.graphics.beginFill(16777215,1),this.shpMask.graphics.drawCircle(0,0,h),this.shpMask.graphics.endFill(),this.addChild(this.shpMask),this.bmp.mask=this.shpMask)}__extends(e,t);var i=__define,s=e,n=s.prototype;return i(n,"source",function(){return this._source},function(t){this._source=t,RES.getResByUrl(t,this.compFunc,this,RES.ResourceItem.TYPE_IMAGE)}),n.compFunc=function(t){this.bmp&&(this.bmp.texture=t)},i(n,"texture",function(){return this.bmp?this.bmp.texture:null},function(t){this.bmp&&(this.bmp.texture=t)}),e.RADIUS=50,e}(egret.DisplayObjectContainer);t.HeadImg=h,egret.registerClass(h,"wj.HeadImg");var a=function(){function t(){}var e=(__define,t);e.prototype;return t.play=function(t){if(t){var e=t.play(0,1);return e}return null},t.stop1=function(t){t&&t.stop()},t.loadmusic=function(t,e){var i=new egret.Sound;i.addEventListener(egret.Event.COMPLETE,e,this),i.load("resource/assets/"+t+".mp3")},t.loadmusicbyurl=function(t,e){var i=new egret.URLLoader;i.addEventListener(egret.Event.COMPLETE,e,this),i.dataFormat=egret.URLLoaderDataFormat.SOUND,i.load(new egret.URLRequest(t))},t}();t.Music=a,egret.registerClass(a,"wj.Music");var o=function(e){function i(i,s,n,h,a,o){void 0===o&&(o=1),e.call(this),this.index=0,this.jianju=this._w/this._lie,this.duix=[],this._x=i,this._y=s,this._w=n,this._h=h,this._lie=o,this._hanggao=a,this.scollvi=new egret.ScrollView,t.Mytools.setweiz(this.scollvi,i,s,n,h),this.spr=new egret.Sprite,this.scollvi.setContent(this.spr),this.addChild(this.scollvi)}__extends(i,e);var s=__define,n=i,h=n.prototype;return h.inint=function(t,e,i,s){var n=this;void 0===s&&(s=this._w/this._lie),this.jianju=s,this.data1=i,this.duixiang=t,this.type=e;for(var h=0;h<i.length;h++)this.createyuansu(i[h],h);this.scollvi.addEventListener(egret.Event.CHANGE,function(){n.scollvi.scrollTop==n.scollvi.getMaxScrollTop()&&n.dispatchEventWith("mowei")},this)},h.createyuansu=function(e,i){var s=t.Mytools.createshap(0+this._w/this._lie*(i%this._lie),0+(i/this._lie>>0)*this._hanggao,this._w/this._lie-1,this._hanggao,0,0);this.spr.addChild(s),this.onclic(s,i),this.duix.push(s);for(var n=0;n<this.duixiang.length;n++)switch(this.duixiang[n].alpha=0,this.type[n]){case 1:var h=t.Mytools.createBitmapByName(e[n]);t.Mytools.setweiz(h,this.duixiang[n].x-this._x+this.jianju*(i%this._lie),this.duixiang[n].y-this._y+(i/this._lie>>0)*this._hanggao,this.duixiang[n].width,this.duixiang[n].height),this.spr.addChild(h);break;case 2:var a=new t.HeadImg(this.duixiang[n].width,this.duixiang[n].height,!1);a.source=e[n],t.Mytools.setweiz(a,this.duixiang[n].x-this._x+this.jianju*(i%this._lie),this.duixiang[n].y-this._y+(i/this._lie>>0)*this._hanggao,this.duixiang[n].width,this.duixiang[n].height),a.x=this.duixiang[n].x-this._x+this.jianju*(i%this._lie),a.y=this.duixiang[n].y-this._y+(i/this._lie>>0)*this._hanggao,this.spr.addChild(a);break;case 3:var o=new egret.TextField;t.Mytools.setweiz(o,this.duixiang[n].x-this._x+this.jianju*(i%this._lie),this.duixiang[n].y-this._y+(i/this._lie>>0)*this._hanggao,this.duixiang[n].width,this.duixiang[n].height),o.textColor=this.duixiang[n].textColor,o.size=this.duixiang[n].size,o.bold=this.duixiang[n].bold,o.text=e[n],this.spr.addChild(o);break;case 4:var r=new wy.HeadImg(this.duixiang[n].width/2);r.source=e[n],t.Mytools.setweiz(r,this.duixiang[n].x-this._x+this.jianju*(i%this._lie),this.duixiang[n].y-this._y+(i/this._lie>>0)*this._hanggao,this.duixiang[n].width,this.duixiang[n].height),r.x=this.duixiang[n].x-this._x+this.jianju*(i%this._lie),r.x+=this.duixiang[n].width/2,r.y=this.duixiang[n].y-this._y+(i/this._lie>>0)*this._hanggao,r.y+=this.duixiang[n].width/2,this.spr.addChild(r)
}},h.onclic=function(t,e){var i=this;t.touchEnabled=!0,t.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){i.index=i.duix.indexOf(t.target),i.dispatchEventWith("choose")},this)},s(h,"data",function(){return this.data1},function(t){this.data1=t,this.spr.removeChildren(),this.duix=[],this.inint(this.duixiang,this.type,this.data,this.jianju)}),i}(egret.DisplayObjectContainer);t.paihangban=o,egret.registerClass(o,"wj.paihangban")}(wj||(wj={}));var Net=function(){function t(){}var e=(__define,t);e.prototype;return t.doReqPost=function(t,e,i,s,n){void 0===n&&(n=egret.HttpResponseType.TEXT);var h=new egret.HttpRequest;h.responseType=n,h.open(this.urlIP+i,egret.HttpMethod.POST),h.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),h.send(s),h.addEventListener(egret.Event.COMPLETE,e,t)},t.doReqGet=function(t,e,i,s,n){void 0===n&&(n=egret.HttpResponseType.TEXT);var h=new egret.HttpRequest;h.responseType=n,h.open(this.urlIP+i+s,egret.HttpMethod.POST),h.send(),h.addEventListener(egret.Event.COMPLETE,e,t)},t.send=function(t,e,i,s,n,h,a,o,r,d){var c="score="+i+"&kill_num="+s+"&resurrection="+n+"&time_live="+h+"&time_chuo="+a+"&openid="+o+"&nickname="+r+"&headimgurl="+d;this.doReqPost(t,e,"api.php?a=information",c)},t.rank=function(t,e){var i="";this.doReqPost(t,e,"api.php?a=rankList",i)},t.urlIP="",t}();egret.registerClass(Net,"Net");var p1UI=function(t){function e(){t.call(this),this.width=1920,this.height=1080,this.createChildren()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createChildren=function(){this.bg=new egret.Bitmap(RES.getRes("p1_bg_jpg")),this.bg.x=0,this.bg.y=0,this.addChild(this.bg),this.dan1=new egret.Bitmap(RES.getRes("p1_dan1_png")),this.dan1.x=176,this.dan1.y=244,this.addChild(this.dan1),this.dan2=new egret.Bitmap(RES.getRes("p1_dan2_png")),this.dan2.x=540,this.dan2.y=244,this.addChild(this.dan2),this.dan3=new egret.Bitmap(RES.getRes("p1_dan3_png")),this.dan3.x=904,this.dan3.y=244,this.addChild(this.dan3),this.dan4=new egret.Bitmap(RES.getRes("p1_dan4_png")),this.dan4.x=1269,this.dan4.y=244,this.addChild(this.dan4),this.dan5=new egret.Bitmap(RES.getRes("p1_dan5_png")),this.dan5.x=176,this.dan5.y=629,this.addChild(this.dan5),this.dan6=new egret.Bitmap(RES.getRes("p1_dan6_png")),this.dan6.x=541,this.dan6.y=629,this.addChild(this.dan6),this.dan7=new egret.Bitmap(RES.getRes("p1_dan7_png")),this.dan7.x=905,this.dan7.y=629,this.addChild(this.dan7),this.dan8=new egret.Bitmap(RES.getRes("p1_dan8_png")),this.dan8.x=1270,this.dan8.y=629,this.addChild(this.dan8),this.cao81=new egret.Bitmap(RES.getRes("p1_cao81_png")),this.cao81.x=1307,this.cao81.y=666,this.addChild(this.cao81),this.cao71=new egret.Bitmap(RES.getRes("p1_cao71_png")),this.cao71.x=944,this.cao71.y=667,this.addChild(this.cao71),this.cao61=new egret.Bitmap(RES.getRes("p1_cao61_png")),this.cao61.x=586,this.cao61.y=665,this.addChild(this.cao61),this.cao51=new egret.Bitmap(RES.getRes("p1_cao51_png")),this.cao51.x=198,this.cao51.y=667,this.addChild(this.cao51),this.cao41=new egret.Bitmap(RES.getRes("p1_cao41_png")),this.cao41.x=1310,this.cao41.y=306,this.addChild(this.cao41),this.cao31=new egret.Bitmap(RES.getRes("p1_cao31_png")),this.cao31.x=956,this.cao31.y=297,this.addChild(this.cao31),this.cao21=new egret.Bitmap(RES.getRes("p1_cao21_png")),this.cao21.x=584,this.cao21.y=312,this.addChild(this.cao21),this.cao11=new egret.Bitmap(RES.getRes("p1_cao11_png")),this.cao11.x=217,this.cao11.y=266,this.addChild(this.cao11),this.ewm8=new egret.Bitmap(RES.getRes("p1_ewm8_png")),this.ewm8.x=1376,this.ewm8.y=769,this.addChild(this.ewm8),this.ewm7=new egret.Bitmap(RES.getRes("p1_ewm7_png")),this.ewm7.x=1015,this.ewm7.y=761,this.addChild(this.ewm7),this.ewm6=new egret.Bitmap(RES.getRes("p1_ewm6_png")),this.ewm6.x=648,this.ewm6.y=771,this.addChild(this.ewm6),this.ewm5=new egret.Bitmap(RES.getRes("p1_ewm5_png")),this.ewm5.x=267,this.ewm5.y=759,this.addChild(this.ewm5),this.ewm4=new egret.Bitmap(RES.getRes("p1_ewm4_png")),this.ewm4.x=1377,this.ewm4.y=377,this.addChild(this.ewm4),this.ewm3=new egret.Bitmap(RES.getRes("p1_ewm3_png")),this.ewm3.x=1009,this.ewm3.y=374,this.addChild(this.ewm3),this.ewm2=new egret.Bitmap(RES.getRes("p1_ewm2_png")),this.ewm2.x=650,this.ewm2.y=377,this.addChild(this.ewm2),this.ewm1=new egret.Bitmap(RES.getRes("p1_ewm1_png")),this.ewm1.x=279,this.ewm1.y=379,this.addChild(this.ewm1);var t=new egret.Bitmap(RES.getRes("phb_png"));t.x=1702,t.y=3,this.addChild(t),this.l4=new egret.TextField,this.l4.text="",this.l4.textAlign="left",this.l4.size=20,this.l4.textColor=0,this.l4.x=1721,this.l4.y=397,this.l4.width=180,this.l4.height=22,this.addChild(this.l4),this.l5=new egret.TextField,this.l5.text="",this.l5.textAlign="left",this.l5.size=20,this.l5.textColor=0,this.l5.x=1721,this.l5.y=425,this.l5.width=180,this.l5.height=22,this.addChild(this.l5),this.l6=new egret.TextField,this.l6.text="",this.l6.textAlign="left",this.l6.size=20,this.l6.textColor=0,this.l6.x=1721,this.l6.y=455,this.l6.width=180,this.l6.height=22,this.addChild(this.l6),this.l1=new egret.TextField,this.l1.text="",this.l1.textAlign="left",this.l1.size=22,this.l1.textColor=0,this.l1.x=1762,this.l1.y=187,this.l1.width=197,this.l1.height=30,this.addChild(this.l1),this.l2=new egret.TextField,this.l2.text="",this.l2.textAlign="left",this.l2.size=22,this.l2.textColor=0,this.l2.x=1762,this.l2.y=250,this.l2.width=197,this.l2.height=30,this.addChild(this.l2),this.l3=new egret.TextField,this.l3.text="",this.l3.textAlign="left",this.l3.size=22,this.l3.textColor=0,this.l3.x=1762,this.l3.y=309,this.l3.width=197,this.l3.height=30,this.addChild(this.l3),this.l7=new egret.TextField,this.l7.text="",this.l7.textAlign="left",this.l7.size=20,this.l7.textColor=0,this.l7.x=1721,this.l7.y=485,this.l7.width=180,this.l7.height=22,this.addChild(this.l7),this.l8=new egret.TextField,this.l8.text="",this.l8.textAlign="left",this.l8.size=20,this.l8.textColor=0,this.l8.x=1721,this.l8.y=515,this.l8.width=180,this.l8.height=22,this.addChild(this.l8),this.l9=new egret.TextField,this.l9.text="",this.l9.x=1721,this.l9.y=545,this.l9.width=180,this.l9.height=22,this.l9.textColor=0,this.l9.size=20,this.l9.textAlign="left",this.addChild(this.l9),this.l10=new egret.TextField,this.l10.text="",this.l10.x=1721,this.l10.y=575,this.l10.width=180,this.l10.height=22,this.l10.textColor=0,this.l10.size=20,this.l10.textAlign="left",this.addChild(this.l10),this.l11=new egret.TextField,this.l11.text="",this.l11.x=1721,this.l11.y=605,this.l11.width=180,this.l11.height=22,this.l11.textColor=0,this.l11.size=20,this.l11.textAlign="left",this.addChild(this.l11),this.timetext=new egret.TextField,this.timetext.text="03:00",this.timetext.x=0,this.timetext.y=0,this.timetext.width=1920,this.timetext.height=45,this.timetext.textAlign="center",this.timetext.fontFamily="宋体",this.timetext.size=38,this.timetext.textColor=16663634,this.addChild(this.timetext),this.title=new egret.Bitmap(RES.getRes("p1_title_png")),this.title.x=362,this.title.y=203,this.addChild(this.title),this.btn=new egret.Bitmap(RES.getRes("p1_btn_png")),this.btn.x=639,this.btn.y=667,this.btn.name="btn",this.addChild(this.btn),this.timedao=new egret.TextField,this.timedao.text="00:45",this.timedao.x=0,this.timedao.y=96,this.timedao.width=1920,this.timedao.height=90,this.timedao.fontFamily="宋体",this.timedao.textColor=16711935,this.timedao.size=80,this.timedao.textAlign="center",this.addChild(this.timedao)},e}(wy.BaseSprite);egret.registerClass(p1UI,"p1UI");var p1=function(t){function e(){t.call(this),this.tetext=wy.Tools.createBitmapText("font2_fnt"),this.tetext1=wy.Tools.createBitmapText("font2_fnt"),this.cundatax=[],this.cundatay=[],this.cundataz=[],this.a_num=-1,this.ng=0,this.tex=0,this.count=[],this.count2=[],this.isgame=!1,this.iskaishi=!1,this.tim=0,this.daojishi=45,this.ci=[],this.xishu=5,this.guiji=[],this.fenshus=[],this.currentShe=[],this.r=20}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createChildren=function(){t.prototype.createChildren.call(this)},s.show=function(e){var i=this;t.prototype.show.call(this,e),wj.Mytools.like(this.tetext,this.timetext),wj.Mytools.like(this.tetext1,this.timedao),this.tetext.textAlign="center",this.tetext.y+=50,this.tetext.x-=50,wy.Tools.center(this.tetext),this.tetext.scaleX=this.tetext.scaleY=.45,this.tetext1.textAlign="center",this.addChild(this.tetext),this.addChild(this.tetext1),SocketManager.getInstance().p1x=this,this.inint(),this.donghua(),this.btn.touchEnabled=!0,this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),1==e&&(this.btn.touchEnabled=!1,wj.Donghua.danchu(this.btn,0,1e3),wy.Tools.center(this.title),egret.Tween.get(this.title).to({alpha:0,scaleX:3,scaleY:3},1e3).call(function(){i.kongzhi()}))},s.inint=function(){this.timetext.alpha=0,this.tetext.alpha=0,this.timedao.alpha=0,this.timedao.bold=!0,this.timetext.bold=!0,this.l1.x+=this.r+this.r,this.l2.x+=this.r+this.r,this.l3.x+=this.r+this.r;for(var t=1;8>=t;t++)this["dan"+t].alpha=0,this["cao"+t+"1"].alpha=0,this["ewm"+t].alpha=0,this["ewm"+t].width=this["ewm"+t].height=110;this.jianzhi={},this.shes=[],this.foods=[],this.foods2=[];for(var t=1;8>=t;t++)wy.Tools.center(this["dan"+t])},s.donghua=function(){wj.Donghua.yingru(this.title,0,1e3)},s.createfood=function(){for(var t=[16571142,16535440,13041910,108676,42882,51711],e=0;50>e;e++)this.foods[e]=new egret.Shape,this.foods[e].name="food"+e,this.foods[e].x=Math.ceil(1621*Math.random()+45),this.foods[e].y=Math.ceil(986*Math.random()+45),this.foods[e].graphics.beginFill(t[Math.ceil(5*Math.random())],1),this.foods[e].graphics.drawCircle(0,0,8),this.foods[e].graphics.endFill(),this.addChildAt(this.foods[e],this.getChildIndex(this.ewm1))},s.createfood2=function(t,e){var i=[16571142,16535440,13041910,108676,42882,51711];this.ng++;var s=new egret.Shape;s.name="fd"+this.ng,s.x=t,s.y=e,s.graphics.beginFill(i[Math.ceil(5*Math.random())],1),s.graphics.drawCircle(0,0,12),s.graphics.endFill(),this.addChildAt(s,this.getChildIndex(this.foods[0])),this.foods2.push(s)},s.view=function(t){this.move();for(var e=0;e<this.foods.length;e++)for(var i=0;i<this.shes.length;i++)Math.abs(this.shes[i].head.x-this.foods[e].x)<=8+(this.shes[i].body.width>>1)&&Math.abs(this.shes[i].head.y-this.foods[e].y)<=8+(this.shes[i].body.width>>1)&&(this.count.push(this.foods[e].name),this.shes[i].jifen=this.shes[i]._jifen+2,this.foods[e].x=Math.ceil(1621*Math.random()+45),this.foods[e].y=Math.ceil(986*Math.random()+45));for(var i=0;i<this.shes.length;i++)for(var s=0;s<this.foods2.length;s++)Math.abs(this.shes[i].head.x-this.foods2[s].x)<=12+(this.shes[i].body.width>>1)&&Math.abs(this.shes[i].head.y-this.foods2[s].y)<=12+(this.shes[i].body.width>>1)&&(this.shes[i].jifen=this.shes[i]._jifen+5,this.removeChild(this.foods2[s]),this.foods2.splice(s,1))},s.createshe=function(t,i,s,n){if(this.iskaishi){var h=new she(t,this);h.playername=i,h.openid=s,h.headimgurl=n,h.adds(),this.shes.push(h),this.cundatax.push(e.xx),this.cundatax.push(e.xx),this.cundataz.push(!1),this.jianzhi[""+t]=this.shes.length-1,this.guiji.push([])}},s.close=function(){this.time.stop();for(var t=[],e=0;e<this.fenshus.length;e++)t.push([this.fenshus[e]._id,this.fenshus[e].live,this.fenshus[e].kill,this.fenshus[e].maxjifen,this.fenshus[e].maxtime]);SocketManager.getInstance().send({gameover:1,data:t}),this.removeEventListener(egret.Event.ENTER_FRAME,this.view,this),this.time.removeEventListener(egret.TimerEvent.TIMER,this.add,this),SocketManager.getInstance().p1x=null},s.add=function(){if(this.isgame&&this.tim++,this.iskaishi&&this.daojishi--,this.tetext.text=wj.Mytools.getstrtime(180-this.tim),this.tetext1.text=this.daojishi+"",this.tim>=180){for(var t=0;t<this.shes.length;t++)this.shes[t].close();this.close(),wy.changeScene(p3,"",this.fenshus)}0==this.daojishi&&(this.daojishi=-100,this.tetext1.alpha=0,this.startgame())},s.startgame=function(){this.tetext.alpha=1,wy.Tools.removeFromParent(this.menc),this.isgame=!0;for(var t=1;8>=t;t++){this.cundatax[t-1]=418*Math.random()*2,this.cundatay[t-1]=171*Math.random()*2,this.cundataz[t-1]=!1,1==this["dan"+t].alpha&&this.createshe(t,"电脑"+t,"computer"+t,"");for(var e=0;e<this.shes.length;e++)this.fenshus[e]=this.shes[e],this.currentShe[e]=this.shes[e];this.addChild(this.tetext)}this.createfood(),this.iskaishi=!1},s.kongzhi=function(){this.menc=wj.Mytools.createshap(0,0,1920,1080,0,.3),this.addChildAt(this.menc,1);for(var t=1;8>=t;t++)this["dan"+t].alpha=1,this["cao"+t+"1"].alpha=1,this["ewm"+t].alpha=1;this.time=new egret.Timer(1e3,0),this.time.addEventListener(egret.TimerEvent.TIMER,this.add,this),this.time.start(),this.iskaishi=!0,this.addEventListener(egret.Event.ENTER_FRAME,this.view,this)},s.hide=function(){t.prototype.hide.call(this),this.btn.touchEnabled=!1,this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this)},s.onTouchTap=function(t){var e=this;switch(t.currentTarget){case this.btn:this.btn.touchEnabled=!1,wj.Donghua.danchu(this.btn,0,1e3),wy.Tools.center(this.title),egret.Tween.get(this.title).to({alpha:0,scaleX:3,scaleY:3},1e3).call(function(){e.kongzhi()})}},s.move=function(){for(var t=0;t<this.shes.length;t++){var e=40/this.xishu;for(this.cundatax[t]>=171&&this.cundatay[t]<=418?(!this.shes[t].isbudong&&this.isgame&&(this.shes[t].head.x+=Math.cos(Math.atan((this.cundatay[t]-418)/(this.cundatax[t]-171)))*e,this.shes[t].head.y+=Math.sin(Math.atan((this.cundatay[t]-418)/(this.cundatax[t]-171)))*e),this.ci[t]=90+180*Math.atan((this.cundatay[t]-418)/(this.cundatax[t]-171))/3.1415926):this.cundatax[t]<=171&&this.cundatay[t]<=418?(!this.shes[t].isbudong&&this.isgame&&(this.shes[t].head.x-=Math.cos(Math.atan((this.cundatay[t]-418)/(this.cundatax[t]-171)))*e,this.shes[t].head.y-=Math.sin(Math.atan((this.cundatay[t]-418)/(this.cundatax[t]-171)))*e),this.ci[t]=-90+180*Math.atan((this.cundatay[t]-418)/(this.cundatax[t]-171))/3.1415926):this.cundatax[t]<=171&&this.cundatay[t]>=121?(!this.shes[t].isbudong&&this.isgame&&(this.shes[t].head.x-=Math.cos(Math.atan((this.cundatay[t]-418)/(this.cundatax[t]-171)))*e,this.shes[t].head.y-=Math.sin(Math.atan((this.cundatay[t]-418)/(this.cundatax[t]-171)))*e),this.ci[t]=-90+180*Math.atan((this.cundatay[t]-418)/(this.cundatax[t]-171))/3.1415926):this.cundatax[t]>=171&&this.cundatay[t]>=418&&(!this.shes[t].isbudong&&this.isgame&&(this.shes[t].head.x+=Math.cos(Math.atan((this.cundatay[t]-418)/(this.cundatax[t]-171)))*e,this.shes[t].head.y+=Math.sin(Math.atan((this.cundatay[t]-418)/(this.cundatax[t]-171)))*e),this.ci[t]=90+180*Math.atan((this.cundatay[t]-418)/(this.cundatax[t]-171))/3.1415926),this.shes[t].head.rotation=this.ci[t],this.shes[t].bodys[0].rotation=this.shes[t].head.rotation,this.shes[t].bodys[0].x=this.shes[t].head.x,this.shes[t].bodys[0].y=this.shes[t].head.y,this.shes[t].txchange(),this.guiji[t].length>=(this.shes[t].bodys.length+1)*this.xishu?(this.guiji[t].splice(this.guiji[t].length-1,1),this.guiji[t].splice(0,0,[this.shes[t].head.x,this.shes[t].head.y,this.shes[t].head.rotation])):this.guiji[t].splice(0,0,[this.shes[t].head.x,this.shes[t].head.y,this.shes[t].head.rotation]),i=0;i<this.shes[t].bodys.length;i++)this.guiji[t][i*this.xishu-1]&&(this.shes[t].bodys[i].rotation=this.guiji[t][i*this.xishu-1][2]),this.guiji[t][i*this.xishu-1]&&(this.shes[t].bodys[i].x=this.guiji[t][i*this.xishu-1][0]),this.guiji[t][i*this.xishu-1]&&(this.shes[t].bodys[i].y=this.guiji[t][i*this.xishu-1][1]);var i;if(this.cundataz[t]){for(this.cundatax[t]>=171&&this.cundatay[t]<=418?(!this.shes[t].isbudong&&this.isgame&&(this.shes[t].head.x+=Math.cos(Math.atan((this.cundatay[t]-418)/(this.cundatax[t]-171)))*e,this.shes[t].head.y+=Math.sin(Math.atan((this.cundatay[t]-418)/(this.cundatax[t]-171)))*e),this.ci[t]=90+180*Math.atan((this.cundatay[t]-418)/(this.cundatax[t]-171))/3.1415926):this.cundatax[t]<=171&&this.cundatay[t]<=418?(!this.shes[t].isbudong&&this.isgame&&(this.shes[t].head.x-=Math.cos(Math.atan((this.cundatay[t]-418)/(this.cundatax[t]-171)))*e,this.shes[t].head.y-=Math.sin(Math.atan((this.cundatay[t]-418)/(this.cundatax[t]-171)))*e),this.ci[t]=-90+180*Math.atan((this.cundatay[t]-418)/(this.cundatax[t]-171))/3.1415926):this.cundatax[t]<=171&&this.cundatay[t]>=418?(!this.shes[t].isbudong&&this.isgame&&(this.shes[t].head.x-=Math.cos(Math.atan((this.cundatay[t]-418)/(this.cundatax[t]-171)))*e,this.shes[t].head.y-=Math.sin(Math.atan((this.cundatay[t]-418)/(this.cundatax[t]-171)))*e),this.ci[t]=-90+180*Math.atan((this.cundatay[t]-418)/(this.cundatax[t]-171))/3.1415926):this.cundatax[t]>=171&&this.cundatay[t]>=418&&(!this.shes[t].isbudong&&this.isgame&&(this.shes[t].head.x+=Math.cos(Math.atan((this.cundatay[t]-418)/(this.cundatax[t]-171)))*e,this.shes[t].head.y+=Math.sin(Math.atan((this.cundatay[t]-418)/(this.cundatax[t]-171)))*e),this.ci[t]=90+180*Math.atan((this.cundatay[t]-418)/(this.cundatax[t]-171))/3.1415926),this.shes[t].head.rotation=this.ci[t],this.shes[t].bodys[0].rotation=this.shes[t].head.rotation,this.shes[t].bodys[0].x=this.shes[t].head.x,this.shes[t].bodys[0].y=this.shes[t].head.y,this.guiji[t].length>=(this.shes[t].bodys.length+1)*this.xishu?(this.guiji[t].splice(this.guiji[t].length-1,1),this.guiji[t].splice(0,0,[this.shes[t].head.x,this.shes[t].head.y,this.shes[t].head.rotation])):this.guiji[t].splice(0,0,[this.shes[t].head.x,this.shes[t].head.y,this.shes[t].head.rotation]),i=0;i<this.shes[t].bodys.length;i++)this.guiji[t][i*this.xishu-1]&&(this.shes[t].bodys[i].rotation=this.guiji[t][i*this.xishu-1][2]),this.guiji[t][i*this.xishu-1]&&(this.shes[t].bodys[i].x=this.guiji[t][i*this.xishu-1][0]),this.guiji[t][i*this.xishu-1]&&(this.shes[t].bodys[i].y=this.guiji[t][i*this.xishu-1][1]);var i}}this.pengzhuang(),this.datachangging()},s.datachangging=function(){this.fenshus.sort(function(t,e){return t.maxjifen<e.maxjifen?1:t.maxjifen>e.maxjifen?-1:0});for(var t=0;t<this.fenshus.length;t++)if(wy.Tools.removeFromParent(this.fenshus[t].headimg),3>t){var e=this.fenshus[t].headimg;e&&(e.x=1762+this.r,e.y=this["l"+(t+1)].y+(this["l"+(t+1)].height>>1),this.addChild(e)),this["l"+(t+1)].text=wj.Mytools.zishuguochang(this.fenshus[t].playername,6)+" "+this.fenshus[t].maxjifen}this.currentShe.sort(function(t,e){return t._jifen<e._jifen?1:t._jifen>e._jifen?-1:0});for(var t=0;t<this.currentShe.length;t++)this["l"+(t+4)].text=t+1+"："+wj.Mytools.zishuguochang(this.currentShe[t].playername,6)+"  "+this.currentShe[t]._jifen},s.pengzhuang=function(){for(var t=0;t<this.shes.length;t++)if(this.shes[t].isyouli)this.shes[t].head.y-(this.shes[t].body.width>>1)<=45?this.cundatay[t]=640:this.shes[t].head.y+(this.shes[t].body.width>>1)>=this.stage.stageHeight-45&&(this.cundatay[t]=0),this.shes[t].head.x-(this.shes[t].body.width>>1)<=45?this.cundatax[t]=1036:this.shes[t].head.x+(this.shes[t].body.width>>1)>=1666&&(this.cundatax[t]=0);else{this.shes[t].head.y-(this.shes[t].body.width>>1)<=45?this.shes[t].die():this.shes[t].head.y+(this.shes[t].body.width>>2)>=this.stage.stageHeight-45&&this.shes[t].die(),this.shes[t].head.x-(this.shes[t].body.width>>1)<=45?this.shes[t].die():this.shes[t].head.x+(this.shes[t].body.width>>1)>=1666&&this.shes[t].die();for(var e=0;e<this.shes.length;e++)if(t!=e&&!this.shes[e].isyouli)for(var i=0;i<this.shes[e].bodys.length;i++){var s=Math.abs(this.shes[t].head.y-this.shes[e].bodys[i].y)<(this.shes[t].body.height>>1)+(this.shes[e].bodys[i].width>>1),n=Math.abs(this.shes[t].head.x-this.shes[e].bodys[i].x)<(this.shes[t].body.width>>1)+(this.shes[e].bodys[i].width>>1);s&&n&&(this.shes[t].die(),this.shes[e].kill++)}}},e.jiasu=!1,e.xx=418,e.yy=171,e}(p1UI);egret.registerClass(p1,"p1");var p2UI=function(t){function e(){t.call(this),this.width=1920,this.height=1080,this.createChildren()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createChildren=function(){this.bg=new egret.Bitmap(RES.getRes("p2_bg_png")),this.bg.x=0,this.bg.y=0,this.addChild(this.bg),this.jin=new egret.Bitmap(RES.getRes("p2_jin_png")),this.jin.x=327,this.jin.y=267,this.addChild(this.jin),this.g1=new egret.Bitmap(RES.getRes("p2_1_png")),this.g1.x=387,this.g1.y=255,this.addChild(this.g1),this.g2=new egret.Bitmap(RES.getRes("p2_2_png")),this.g2.x=380,this.g2.y=348,this.addChild(this.g2),this.g3=new egret.Bitmap(RES.getRes("p2_3_png")),this.g3.x=382,this.g3.y=441,this.addChild(this.g3),this.yin=new egret.Bitmap(RES.getRes("p2_yin_png")),this.yin.x=327,this.yin.y=365,this.addChild(this.yin),this.tong=new egret.Bitmap(RES.getRes("p2_tong_png")),this.tong.x=324,this.tong.y=454,this.addChild(this.tong),this.xian=new egret.Bitmap(RES.getRes("p2_xian_png")),this.xian.x=275,this.xian.y=246,this.addChild(this.xian),this.kk=new egret.Bitmap(RES.getRes("p2_k3_png")),this.kk.x=0,this.kk.y=187,this.addChild(this.kk),this.toux=new egret.Bitmap(RES.getRes("p2_touxiang_png")),this.toux.x=406,this.toux.y=263,this.addChild(this.toux),this.btn1=new egret.Bitmap(RES.getRes("p2_btn1_png")),this.btn1.x=487,this.btn1.y=964,this.btn1.name="btn",this.addChild(this.btn1),this.btn2=new egret.Bitmap(RES.getRes("p2_btn2_png")),this.btn2.x=829,this.btn2.y=964,this.btn2.name="btn",this.addChild(this.btn2),this.btn3=new egret.Bitmap(RES.getRes("p2_btn3_png")),this.btn3.x=1173,this.btn3.y=964,this.btn3.name="btn",this.addChild(this.btn3),this.shugan=new egret.Bitmap(RES.getRes("p2_tiao_png")),this.shugan.x=824,this.shugan.y=286,this.addChild(this.shugan),this.zan=new egret.Bitmap(RES.getRes("p2_zao_png")),this.zan.x=1540,this.zan.y=288,this.addChild(this.zan),this.pren=new egret.Bitmap(RES.getRes("p2_preb_png")),this.pren.x=1615,this.pren.y=284,this.addChild(this.pren),this.l2=new egret.TextField,this.l2.text="label",this.l2.textAlign="left",this.l2.size=20,this.l2.textColor=0,this.l2.x=923,this.l2.y=295,this.l2.width=110,this.l2.height=27,this.addChild(this.l2),this.l1=new egret.TextField,this.l1.text="label",this.l1.textAlign="left",this.l1.size=20,this.l1.textColor=0,this.l1.x=553,this.l1.y=294,this.l1.width=216,this.l1.height=30,this.addChild(this.l1),this.l3=new egret.TextField,this.l3.text="label",this.l3.textAlign="left",this.l3.size=20,this.l3.textColor=0,this.l3.x=1203,this.l3.y=297,this.l3.width=18,this.l3.height=24,this.addChild(this.l3),this.l4=new egret.TextField,this.l4.text="label",this.l4.textAlign="left",this.l4.size=20,this.l4.textColor=0,this.l4.x=1407,this.l4.y=297,this.l4.width=18,this.l4.height=24,this.addChild(this.l4),this.nv=new egret.Bitmap(RES.getRes("p2_nv_png")),this.nv.x=494,this.nv.y=284,this.addChild(this.nv),this.nan=new egret.Bitmap(RES.getRes("p2_nan_png")),this.nan.x=494,this.nan.y=552,this.addChild(this.nan),this.title=new egret.Bitmap(RES.getRes("p2_title_png")),this.title.x=697,this.title.y=37,this.addChild(this.title),this.diandian=new egret.Bitmap(RES.getRes("p2_diandian_png")),this.diandian.x=680,this.diandian.y=21,this.addChild(this.diandian),this.caidai=new egret.Bitmap(RES.getRes("p2_caidai_png")),this.caidai.x=305,this.caidai.y=67,this.addChild(this.caidai)},e}(wy.BaseSprite);egret.registerClass(p2UI,"p2UI");var p2=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createChildren=function(){t.prototype.createChildren.call(this)},s.show=function(e){t.prototype.show.call(this,e),this.bg.touchEnabled=!0,this.bg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.jin.touchEnabled=!0,this.jin.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.g1.touchEnabled=!0,this.g1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.g2.touchEnabled=!0,this.g2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.g3.touchEnabled=!0,this.g3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.yin.touchEnabled=!0,this.yin.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.tong.touchEnabled=!0,this.tong.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.xian.touchEnabled=!0,this.xian.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.kk.touchEnabled=!0,this.kk.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.toux.touchEnabled=!0,this.toux.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.btn1.touchEnabled=!0,this.btn1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.btn2.touchEnabled=!0,this.btn2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.btn3.touchEnabled=!0,this.btn3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.shugan.touchEnabled=!0,this.shugan.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.zan.touchEnabled=!0,this.zan.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.pren.touchEnabled=!0,this.pren.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.l2.touchEnabled=!0,this.l2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.l1.touchEnabled=!0,this.l1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.l3.touchEnabled=!0,this.l3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.l4.touchEnabled=!0,this.l4.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.nv.touchEnabled=!0,this.nv.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.nan.touchEnabled=!0,this.nan.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.title.touchEnabled=!0,this.title.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.diandian.touchEnabled=!0,this.diandian.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.caidai.touchEnabled=!0,this.caidai.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),wy.Tween["do"](this)},s.hide=function(){t.prototype.hide.call(this),this.bg.touchEnabled=!1,this.bg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.jin.touchEnabled=!1,this.jin.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.g1.touchEnabled=!1,this.g1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.g2.touchEnabled=!1,this.g2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.g3.touchEnabled=!1,this.g3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.yin.touchEnabled=!1,this.yin.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.tong.touchEnabled=!1,this.tong.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.xian.touchEnabled=!1,this.xian.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.kk.touchEnabled=!1,this.kk.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.toux.touchEnabled=!1,this.toux.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.btn1.touchEnabled=!1,this.btn1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.btn2.touchEnabled=!1,this.btn2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.btn3.touchEnabled=!1,this.btn3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.shugan.touchEnabled=!1,this.shugan.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.zan.touchEnabled=!1,this.zan.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.pren.touchEnabled=!1,this.pren.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.l2.touchEnabled=!1,this.l2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.l1.touchEnabled=!1,this.l1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.l3.touchEnabled=!1,this.l3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.l4.touchEnabled=!1,this.l4.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.nv.touchEnabled=!1,this.nv.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.nan.touchEnabled=!1,this.nan.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.title.touchEnabled=!1,this.title.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.diandian.touchEnabled=!1,this.diandian.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.caidai.touchEnabled=!1,this.caidai.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this)},s.onTouchTap=function(t){switch(t.currentTarget){case this.bg:break;case this.jin:break;case this.g1:break;case this.g2:break;case this.g3:break;case this.yin:break;case this.tong:break;case this.xian:break;case this.kk:break;case this.toux:break;case this.btn1:break;case this.btn2:break;case this.btn3:break;case this.shugan:break;case this.zan:break;case this.pren:break;case this.l2:break;case this.l1:break;case this.l3:break;case this.l4:break;case this.nv:break;case this.nan:break;case this.title:break;case this.diandian:break;case this.caidai:}},e}(p2UI);egret.registerClass(p2,"p2");var p3UI=function(t){function e(){t.call(this),this.width=1920,this.height=1080,this.createChildren()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createChildren=function(){this.bg=new egret.Bitmap(RES.getRes("p3_bg_jpg")),this.bg.x=0,this.bg.y=0,this.addChild(this.bg),this.btn1=new egret.Bitmap(RES.getRes("p3_btn1_png")),this.btn1.x=487,this.btn1.y=886,this.btn1.name="btn",this.addChild(this.btn1),this.btn2=new egret.Bitmap(RES.getRes("p3_btn2_png")),this.btn2.x=1173,this.btn2.y=886,this.btn2.name="btn",this.addChild(this.btn2),this.caidai=new egret.Bitmap(RES.getRes("p3_caidai_png")),this.caidai.x=305,this.caidai.y=127,this.addChild(this.caidai),this.title=new egret.Bitmap(RES.getRes("p3_title_png")),this.title.x=697,this.title.y=97,this.addChild(this.title),this.diandian=new egret.Bitmap(RES.getRes("p3_diandian_png")),this.diandian.x=680,this.diandian.y=81,this.addChild(this.diandian),this.wuta11=new egret.Bitmap(RES.getRes("p3_wutai11_png")),this.wuta11.x=772,this.wuta11.y=601,this.addChild(this.wuta11),this.guang11=new egret.Bitmap(RES.getRes("p3_guang11_png")),this.guang11.x=754,this.guang11.y=431,this.addChild(this.guang11),this.chong11=new egret.Bitmap(RES.getRes("p3_chong11_png")),this.chong11.x=923,this.chong11.y=418,this.addChild(this.chong11),this.wuta21=new egret.Bitmap(RES.getRes("p3_wutai21_png")),this.wuta21.x=525,this.wuta21.y=669,this.addChild(this.wuta21),this.guang21=new egret.Bitmap(RES.getRes("p3_guang21_png")),this.guang21.x=534,this.guang21.y=521,this.addChild(this.guang21),this.chong21=new egret.Bitmap(RES.getRes("p3_chong21_png")),this.chong21.x=629,this.chong21.y=466,this.addChild(this.chong21),this.wuta31=new egret.Bitmap(RES.getRes("p3_wutai31_png")),this.wuta31.x=1122,this.wuta31.y=688,this.addChild(this.wuta31),this.guang31=new egret.Bitmap(RES.getRes("p3_guang31_png")),this.guang31.x=1144,this.guang31.y=568,this.addChild(this.guang31),this.chong31=new egret.Bitmap(RES.getRes("p3_chong31_png")),this.chong31.x=1203,this.chong31.y=507,this.addChild(this.chong31),this.headbg1=new egret.Bitmap(RES.getRes("p3_headbg1_png")),this.headbg1.x=798,this.headbg1.y=255,this.addChild(this.headbg1),this.head1=new egret.Bitmap(RES.getRes("p3_head1_png")),this.head1.x=817,this.head1.y=278,this.addChild(this.head1),this.headbg2=new egret.Bitmap(RES.getRes("p3_headbg2_png")),this.headbg2.x=468,this.headbg2.y=317,this.addChild(this.headbg2),this.l1=new egret.TextField,this.l1.text="",this.l1.textAlign="left",this.l1.size=25,this.l1.textColor=16777215,this.l1.x=912,this.l1.y=286,this.l1.width=170,this.l1.height=30,this.addChild(this.l1),this.l2=new egret.TextField,this.l2.text="",this.l2.textAlign="left",this.l2.size=25,this.l2.textColor=16777215,this.l2.x=580,this.l2.y=352,this.l2.width=170,this.l2.height=30,this.addChild(this.l2),this.head2=new egret.Bitmap(RES.getRes("p3_head2_png")),this.head2.x=486,this.head2.y=344,this.addChild(this.head2),this.l11=new egret.TextField,this.l11.text="",this.l11.textAlign="left",this.l11.size=20,this.l11.textColor=16428833,this.l11.x=1012,this.l11.y=316,this.l11.width=64,this.l11.height=32,this.addChild(this.l11),this.l22=new egret.TextField,this.l22.text="",this.l22.textAlign="left",this.l22.size=20,this.l22.textColor=16428833,this.l22.x=686,this.l22.y=382,this.l22.width=58,this.l22.height=32,this.addChild(this.l22),this.headbg3=new egret.Bitmap(RES.getRes("p3_headbg3_png")),this.headbg3.x=1115,this.headbg3.y=324,this.addChild(this.headbg3),this.l3=new egret.TextField,this.l3.text="",this.l3.textAlign="left",this.l3.size=25,this.l3.textColor=16777215,this.l3.x=1227,this.l3.y=355,this.l3.width=170,this.l3.height=30,this.addChild(this.l3),this.l33=new egret.TextField,this.l33.text="",this.l33.textAlign="left",this.l33.size=20,this.l33.textColor=16428833,this.l33.x=1326,this.l33.y=386,this.l33.width=64,this.l33.height=32,this.addChild(this.l33),this.head3=new egret.Bitmap(RES.getRes("p3_head3_png")),this.head3.x=1133,this.head3.y=345,this.addChild(this.head3)
},e}(wy.BaseSprite);egret.registerClass(p3UI,"p3UI");var p3=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createChildren=function(){t.prototype.createChildren.call(this)},s.show=function(e){t.prototype.show.call(this,e);var i=e;wj.Mytools.zhongxia(this.chong11),wj.Mytools.zhongxia(this.chong21),wj.Mytools.zhongxia(this.chong31);var s=(new Date).getTime();this.l1.bold;for(var n=0;n<i.length;n++)if(Net.send(this,function(){},i[n].maxjifen+"",i[n].kill+"",i[n].live+"",i[n].maxtime+"",s+"",i[n].openid,i[n].playername,i[n].headimgurl),2>=n){this["l"+(n+1)].text=""+i[n].playername,this["l"+(n+1)+(n+1)].text=""+i[n].maxjifen,this["l"+(n+1)+(n+1)].y+=10,this["head"+(n+1)].alpha=0,i[n].headimg.x=this["head"+(n+1)].x+this["head"+(n+1)].width/2,i[n].headimg.y=this["head"+(n+1)].y+this["head"+(n+1)].height/2,i[n].headimg.scaleX=i[n].headimg.scaleY=i[n].headimg.scaleY*(this["head"+(n+1)].width/2/20),this.addChild(i[n].headimg);var h=new egret.Bitmap(RES.getRes("chongzi"+i[n]._id+"_png"));wj.Mytools.zhongxia(h),h.x=this["chong"+(n+1)+"1"].x,h.y=this["chong"+(n+1)+"1"].y,this["chong"+(n+1)+"1"].alpha=0,this.addChild(h)}this.inint(),this.donghua(),this.btn1.touchEnabled=!0,this.btn1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.btn2.touchEnabled=!0,this.btn2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this)},s.inint=function(){},s.donghua=function(){var t=this;wy.Tools.center(this.caidai),this.num1=egret.setInterval(function(){t.caidai.scaleX=-1*t.caidai.scaleX},this,500),wj.Donghua.shansuo(this.diandian,0,300),wj.Donghua.shansuo2(this.guang11,0,500),wj.Donghua.shansuo2(this.guang21,100,500),wj.Donghua.shansuo2(this.guang31,200,500)},s.getstr=function(t){var e=(t/60>>0)+"分"+t%60+"秒";return e},s.hide=function(){t.prototype.hide.call(this),this.btn1.touchEnabled=!1,this.btn1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.btn2.touchEnabled=!1,this.btn2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this)},s.onTouchTap=function(t){switch(t.currentTarget){case this.btn1:wy.changeScene(p1);break;case this.btn2:wy.changeScene(p1,"",1)}},e}(p3UI);egret.registerClass(p3,"p3");var SocketManager=function(){function t(){this.dataErrorCount=2,this.isMessageError=!1}var e=(__define,t),i=e.prototype;return t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},i.init=function(){this.socket=new egret.WebSocket,this.socket.type=egret.WebSocket.TYPE_STRING,this.socket.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.onReceiveMessage,this),this.socket.addEventListener(egret.Event.CONNECT,this.onSocketOpen,this),this.socket.addEventListener(egret.Event.CLOSE,this.onSocketClose,this),this.socket.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onSocketError,this)},i.start=function(t,e){this.socket.connect(t,e),wy.LoadingData.open(!1),this.state="",this.inRank=!1},i.end=function(){this.socket.close()},i.onReceiveMessage=function(t){var e=this.socket.readUTF();if(this.data=JSON.parse(e),this.p1x)if(this.data["new"]&&this.p1x){for(var i=!0,s=0;s<this.p1x.shes.length;s++)this.p1x.shes[s]._id==Number(this.data["new"])&&(i=!1);i&&this.p1x.createshe(Number(this.data["new"]),this.data.nickname,this.data.openid,this.data.headimgurl)}else"1"==this.data.shan?this.p1x.shes[this.p1x.jianzhi[""+this.data.type]].openid==this.data.openid&&this.p1x.shes[this.p1x.jianzhi[""+this.data.type]].shan():this.data.x&&this.p1x&&this.p1x.shes[this.p1x.jianzhi[""+this.data.type]]&&this.p1x.shes[this.p1x.jianzhi[""+this.data.type]].openid==this.data.openid&&0==this.p1x.shes[this.p1x.jianzhi[""+this.data.type]].isbudong&&(this.p1x.cundatax[this.p1x.jianzhi[""+this.data.type]]=Number(this.data.x),this.p1x.cundatay[this.p1x.jianzhi[""+this.data.type]]=Number(this.data.y),"1"==this.data.z?this.p1x.cundataz[this.p1x.jianzhi[""+this.data.type]]=!0:this.p1x.cundataz[this.p1x.jianzhi[""+this.data.type]]=!1)},i.send=function(t){this.socket.writeUTF(JSON.stringify(t))},i.onSocketOpen=function(t){wy.LoadingData.close(),egret.log("websocket connected!链接成功")},i.onSocketClose=function(t){console.log("websocket disconnected!")},i.onSocketError=function(t){wy.Dialog.show("参数错误")},t}();egret.registerClass(SocketManager,"SocketManager");var she=function(){function t(t,e){this.headimg=null,this.isbudong=!1,this.isyouli=!1,this.maxjifen=0,this.maxtime=0,this.cuntinme=0,this.kill=0,this.live=0,this.playername="我是游客",this.playersex="1",this._jifen=0,this.soud=RES.getRes("end_wav"),this.time=new egret.Timer(1e3),this.time.start(),this.time.addEventListener(egret.TimerEvent.TIMER,this.add,this),this.Objthis=e,this._id=t,wj.Donghua.danchu(this.Objthis["dan"+this._id],0,500),wj.Donghua.danchu(this.Objthis["ewm"+this._id],0,500),wj.Donghua.danchu(this.Objthis["cao"+this._id+"1"],0,500),this.bodys=[],this.head=wy.Tools.createBitmapByName("chong"+this._id+"_1_png"),this.body=wy.Tools.createBitmapByName("chong"+this._id+"_2_png"),wy.Tools.center(this.body),this.wei=wy.Tools.createBitmapByName("chong"+this._id+"_3_png"),this.head.x=this.Objthis["dan"+this._id].x,this.body.x=this.Objthis["dan"+this._id].x,this.wei.x=this.Objthis["dan"+this._id].x,this.head.y=this.Objthis["dan"+this._id].y,this.body.y=this.Objthis["dan"+this._id].y,this.wei.y=this.Objthis["dan"+this._id].y,this.bodys.push(this.body),this.bodys.push(this.wei),this.head.anchorOffsetX=this.head.width/2,this.head.anchorOffsetY=this.head.height-this.body.anchorOffsetY,this.wei.anchorOffsetX=this.body.anchorOffsetX,this.wei.anchorOffsetY=this.body.anchorOffsetY,5==this._id&&(this.head.anchorOffsetY=this.head.height-this.body.anchorOffsetY-15,this.head.scaleX=this.head.scaleY=.8)}var e=__define,i=t,s=i.prototype;return s.add=function(){this.cuntinme++,this.cuntinme>this.maxtime&&(this.maxtime=this.cuntinme)},e(s,"headimgurl",function(){return this._headimgurl},function(t){this._headimgurl=t,this.headimg=new wy.HeadImg(this.Objthis.r,!1),this.headimg.source=t}),s.addshengti=function(){if(2==this._id||6==this._id||8==this._id){var t=wy.Tools.createBitmapByName("chong"+this._id+"_"+(this.bodys.length%2+2)+"_png");this.isyouli&&(t.alpha=.5),wy.Tools.center(t),t.x=this.bodys[this.bodys.length-1].x,t.y=this.bodys[this.bodys.length-1].y,t.rotation=this.bodys[this.bodys.length-1].rotation,this.Objthis.addChildAt(t,this.Objthis.getChildIndex(this.bodys[this.bodys.length-1])),this.bodys.push(t)}else if(3==this._id){if(this.bodys.length%2==0){this.wei.texture=RES.getRes("chong"+this._id+"1_3_png");var t=wy.Tools.createBitmapByName("chong"+this._id+"_2_png")}else{this.wei.texture=RES.getRes("chong"+this._id+"_3_png");var t=wy.Tools.createBitmapByName("chong"+this._id+"1_2_png")}this.isyouli&&(t.alpha=.5),wy.Tools.center(t),t.x=this.bodys[this.bodys.length-2].x,t.y=this.bodys[this.bodys.length-2].y,t.rotation=this.bodys[this.bodys.length-2].rotation,this.Objthis.addChildAt(t,this.Objthis.getChildIndex(this.bodys[this.bodys.length-2])),this.bodys.splice(this.bodys.length-1,0,t)}else{var t=wy.Tools.createBitmapByName("chong"+this._id+"_2_png");this.isyouli&&(t.alpha=.5),wy.Tools.center(t),t.x=this.bodys[this.bodys.length-2].x,t.y=this.bodys[this.bodys.length-2].y,t.rotation=this.bodys[this.bodys.length-2].rotation,this.Objthis.addChildAt(t,this.Objthis.getChildIndex(this.bodys[this.bodys.length-2])),this.bodys.splice(this.bodys.length-1,0,t)}},e(s,"jifen",void 0,function(t){this._jifen=t,this.maxjifen<this._jifen&&(this.maxjifen=this._jifen),Math.floor(this._jifen)/(1.5*this.bodys.length)>this.bodys.length&&this.addshengti()}),s.adds=function(){this.Objthis.addChild(this.wei),this.Objthis.addChild(this.body),this.Objthis.addChild(this.head);var t=new egret.TextField,e=[16571142,16535440,13041910,108676,42882,51711];this.namek=t,t.width=150,t.height=40,wy.Tools.center(t),t.bold=!0,t.textColor=e[Math.ceil(5*Math.random())],t.size=20,t.text=this.playername,t.textAlign="center",t.verticalAlign="middle",this.addshengti(),this.Objthis.addChild(t)},s.txchange=function(){this.namek.x=this.head.x,this.namek.y=this.head.y-this.body.height},s.die=function(){SocketManager.getInstance().send({type:this._id,die:1}),this.soud&&this.soud.play(0,1),this.cuntinme=0,this.live++,this._jifen=0;for(var t=this.bodys.length,e=0;t>e;e++)this.Objthis.createfood2(this.bodys[e].x+Math.random()*(this.body.width>>1),this.bodys[e].y+Math.random()*(this.body.width>>1)),wy.Tools.stop(this.bodys[e]),this.Objthis.removeChild(this.bodys[e]),this.bodys[e]=null;this.fuhuo()},s.shan=function(){var t=this;if(!this.isyouli){wj.Donghua.shansuo(this.head,0,100),egret.setTimeout(function(){wy.Tools.stop(t.head)},this,2e3);for(var e=this.bodys.length,i=function(e){wj.Donghua.shansuo(s.bodys[e],0,100),egret.setTimeout(function(){wy.Tools.stop(t.bodys[e])},s,2e3)},s=this,n=0;e>n;n++)i(n)}},s.fuhuo=function(){var t=this;this.head.alpha=.5,this.bodys=[],this.body=wy.Tools.createBitmapByName("chong"+this._id+"_2_png"),wy.Tools.center(this.body),this.bodys.push(this.body),this.wei=wy.Tools.createBitmapByName("chong"+this._id+"_3_png"),this.bodys.push(this.wei),this.wei.anchorOffsetX=this.body.anchorOffsetX,this.wei.anchorOffsetY=this.body.anchorOffsetY,this.body.x=this.head.x,this.wei.x=this.head.x,this.body.y=this.head.y,this.wei.y=this.head.y,this.Objthis.addChild(this.wei),this.Objthis.addChild(this.body),this.Objthis.addChild(this.head),this.addshengti(),this.Objthis.addChild(this.namek),this.isyouli=!0,this.isbudong=!0;for(var e=0;e<this.bodys.length;e++)this.bodys[e].alpha=.5;egret.setTimeout(function(){t.isbudong=!1},this,3e3),egret.setTimeout(function(){t.isyouli=!1,t.head.alpha=1;for(var e=0;e<t.bodys.length;e++)t.bodys[e].alpha=1},this,5e3)},s.close=function(){this.time.removeEventListener(egret.TimerEvent.TIMER,this.add,this),this.time.stop()},t}();egret.registerClass(she,"she");var StaticVar=function(){function t(){}var e=(__define,t);e.prototype;return t}();egret.registerClass(StaticVar,"StaticVar");var wy;!function(t){var e=function(t){function e(){t.call(this)}__extends(e,t);var i=__define,s=e,n=s.prototype;return i(n,"data",function(){return this._data},function(t){this._data=t,this.dataChanged()}),n.dataChanged=function(){},n.clear=function(){},e}(t.BaseSprite);t.ItemRenderer=e,egret.registerClass(e,"wy.ItemRenderer",["wy.IItemRenderer"])}(wy||(wy={}));var wy;!function(t){var e=function(t){function e(){t.call(this),this.top=0,this.bottom=0,this.left=0,this.right=0,this.cols=1,this.rows=1,this._layout="vertical"}__extends(e,t);var i=__define,s=e,n=s.prototype;return i(n,"dataProvider",function(){return this._dataProvider},function(t){if(this._itemRenderer)for(var e,i=0;i<this._itemRenderer.length;++i)e=this._itemRenderer[i],e.hide(),e.parent&&e.parent.removeChild(e);this._itemRenderer=[],this._dataProvider=t;var s,n;if(!this.itemRenderer)throw Error("没有设置渲染器");for(var i=0;i<this._dataProvider.length;++i)s=this._dataProvider[i],n=new this.itemRenderer,n.show(),n.itemIndex=i,n.data=s,n.selected=!1,this.addChild(n),this._itemRenderer.push(n);this.updateDisplayList()}),i(n,"layout",void 0,function(t){this._layout!=t&&(this._layout=t,this.updateDisplayList())}),n.updateDisplayList=function(){if(this._itemRenderer&&!(this._itemRenderer.length<=0)){var t=0;if(this._layout==e.VERTICAL)for(var i=this._itemRenderer[0].width,s=this._itemRenderer[0].height;t<this._itemRenderer.length;)for(var n=0;n<this.cols&&t<this._itemRenderer.length;++n)this._itemRenderer[t].x=n*(i+this.left+this.right)+this.left+this._itemRenderer[t].anchorOffsetX,this._itemRenderer[t].y=Math.floor(t/this.cols)*(s+this.top+this.bottom)+this.top+this._itemRenderer[t].anchorOffsetY,++t;else if(this._layout==e.HORIZENTOL)for(var i=this._itemRenderer[0].width,s=this._itemRenderer[0].height;t<this._itemRenderer.length;)for(var n=0;n<this.rows&&t<this._itemRenderer.length;++n)this._itemRenderer[t].x=Math.floor(t/this.rows)*(i+this.left+this.right)+this.left+this._itemRenderer[t].anchorOffsetX,this._itemRenderer[t].y=n*(s+this.top+this.bottom)+this.top+this._itemRenderer[t].anchorOffsetY,++t;this.bgShape||(this.bgShape=new egret.Shape,this.addChildAt(this.bgShape,0)),this.bgShape.graphics.clear(),this.bgShape.graphics.beginFill(0,.01),this.bgShape.graphics.drawRect(0,0,this.width,this.height),this.bgShape.graphics.endFill()}},n.updateItem=function(t,e){0>t||!e||!this._itemRenderer||this._itemRenderer.length<=0||this._itemRenderer.length<=t||(this._itemRenderer[t].data=e,this.updateDisplayList())},n.addItem=function(t){if(t&&this._itemRenderer&&!(this._itemRenderer.length<=0)&&this.itemRenderer){var e=new this.itemRenderer;e.show(),e.data=t,e.itemIndex=this._itemRenderer.length,e.selected=!1,this.addChild(e),this._itemRenderer.push(e),this.updateDisplayList()}},n.getItemByIndex=function(t){return t<this._itemRenderer.length?this._itemRenderer[t]:null},n.show=function(){this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this);for(var t=0;t<this._itemRenderer.length;t++)this._itemRenderer[t].show()},n.hide=function(){this.touchEnabled=!1,this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this);for(var t=0;t<this._itemRenderer.length;t++)this._itemRenderer[t].hide()},n.onTouchTap=function(t){if(this._itemRenderer&&!(this._itemRenderer.length<=0)){var i=this._itemRenderer[0].width,s=this._itemRenderer[0].height,n=Math.floor(t.localX/(i+this.left+this.right)),h=Math.floor(t.localY/(s+this.top+this.bottom));n++,h++;var a;this._layout==e.VERTICAL?(h=h-1>=0?h-1:0,a=h*this.cols+n):this._layout==e.HORIZENTOL&&(n=n-1>=0?n-1:0,a=n*this.rows+h),a--,this.dispatchEventWith(e.ITEM_CLICKED,null,this._itemRenderer[a])}},e.VERTICAL="vertical",e.HORIZENTOL="horizental",e.ITEM_CLICKED="item_clicked",e}(t.BaseSprite);t.List=e,egret.registerClass(e,"wy.List")}(wy||(wy={}));var wy;!function(t){var e=function(e){function i(){e.call(this),this.init()}__extends(i,e);var s=__define,n=i,h=n.prototype;return h.init=function(){this._container=new egret.DisplayObjectContainer,this._scroller=new egret.ScrollView(this._container),this.addChild(this._scroller),this._list=new t.List,this._container.addChild(this._list)},s(h,"scrollTop",void 0,function(t){this._scroller.scrollTop=t}),s(h,"scrollLeft",void 0,function(t){this._scroller.scrollLeft=t}),s(h,"verticalScrollPolicy",void 0,function(t){this._scroller.verticalScrollPolicy=t}),s(h,"horizontalScrollPolicy",void 0,function(t){this._scroller.horizontalScrollPolicy=t}),s(h,"bounces",void 0,function(t){this._scroller.bounces=t}),s(h,"itemRenderer",void 0,function(t){this._list.itemRenderer=t}),s(h,"width",function(){return this._width},function(t){this._width=t,this._scroller.width=this._width}),s(h,"height",function(){return this._height},function(t){this._height=t,this._scroller.height=this._height}),s(h,"dataProvider",function(){return this._list.dataProvider},function(t){this._list.dataProvider=t}),h.updateDisplayList=function(){this._list.updateDisplayList()},s(h,"layout",void 0,function(t){this._list.layout=t}),h.updateItem=function(t,e){this._list.updateItem(t,e)},h.addItem=function(t){this._list.addItem(t)},h.show=function(){this._list.show()},h.hide=function(){this._list.hide()},i}(t.BaseSprite);t.ScrollerList=e,egret.registerClass(e,"wy.ScrollerList")}(wy||(wy={}));var wy;!function(t){function e(){i.init()}var i=function(){function e(){}var i=(__define,e);i.prototype;return e.init=function(){this.stage=egret.MainContext.instance.stage,this.sceneContainer=new egret.DisplayObjectContainer,this.stage.addChild(this.sceneContainer),this.viewContainer=new egret.DisplayObjectContainer,this.stage.addChild(this.viewContainer),this.PopUpContainer=new egret.DisplayObjectContainer,this.stage.addChild(this.PopUpContainer),this.MsgContainer=new egret.DisplayObjectContainer,this.stage.addChild(this.MsgContainer),t.BaseViewManager.init(),t.Data.init(),t.StageBtnUtils.init(),t.Slider.init(),t.InputUtils.init()},e.stage=null,e.PopUpContainer=null,e.MsgContainer=null,e.viewContainer=null,e.sceneContainer=null,e}();t.GameInterface=i,egret.registerClass(i,"wy.GameInterface"),t.init=e}(wy||(wy={}));var wy;!function(t){function e(t,e,i,s){o.changeScene(t,e,i,s)}function i(t,e){o.hideScene(t,e)}function s(t,e,i,s,n){void 0===n&&(n=!1),o.changeView(t,e,i,s,n)}function n(t,e){o.hideView(t,e)}function h(t,e,i,s,n){void 0===n&&(n=!0),o.openPopUpView(t,e,i,s,n)}function a(t,e){o.hidePopUpView(t,e)}var o=function(){function e(){}var i=(__define,e);i.prototype;return e.init=function(){this.getViewMustNew=!0,this.panels=[],this.shape=new egret.Shape,this.shape.graphics.beginFill(0,.5),this.shape.graphics.drawRect(0,0,egret.MainContext.instance.stage.stageWidth,egret.MainContext.instance.stage.stageHeight),this.shape.graphics.endFill(),this.shape.touchEnabled=!0,this.viewshape=new egret.Shape,this.viewshape.graphics.beginFill(0,.5),this.viewshape.graphics.drawRect(0,0,egret.MainContext.instance.stage.stageWidth,egret.MainContext.instance.stage.stageHeight),this.viewshape.graphics.endFill(),this.viewshape.touchEnabled=!0},e.getView=function(t){var e,i;if(this.getViewMustNew||("string"==typeof t?e=this.panels[t]:(i=egret.getQualifiedClassName(t),e=this.panels[i])),null==e||void 0==e)if("string"==typeof t){var s=egret.getDefinitionByName(t);e=new s,this.panels[t]=e}else e=new t,i=egret.getQualifiedClassName(t),this.panels[i]=e;return e},e.changeScene=function(e,i,s,n){t.Tween.switchPagePopType=i,this.preScene=this.nowScene;var h=this.getView(e);h.show(s),t.GameInterface.sceneContainer.addChild(h),this.nowScene=h,this.preScene==this.nowScene&&(this.preScene=null),this.preScene&&this.preScene.hide(),i?this.play(this.nowScene,this.preScene,i,n):this.preScene&&t.Tools.removeFromParent(this.preScene)},e.hideScene=function(e,i){this.nowScene&&this.nowScene.hide(),e?(this.preScene=null,this.play(this.preScene,this.nowScene,e,i)):t.Tools.removeFromParent(this.nowScene)},e.changeView=function(e,i,s,n,h){void 0===h&&(h=!1),t.Tween.switchPagePopType=i,this.preView=this.nowView;var a=this.getView(e);a.show(s),h&&t.GameInterface.viewContainer.addChild(this.viewshape),t.GameInterface.viewContainer.addChild(a),this.nowView=a,this.preView==this.nowView&&(this.preView=null),this.preView&&this.preView.hide(),i?this.play(this.nowView,this.preView,i,n):this.preView&&t.Tools.removeFromParent(this.preView)},e.openPopUpView=function(e,i,s,n,h){void 0===h&&(h=!0),t.Tween.switchPagePopType=i,this.prePopUpView=this.nowPopUpView;var a=this.getView(e);a.show(s),a.x=.5*t.GameInterface.stage.stageWidth-.5*a.width+a.anchorOffsetX,a.y=.5*t.GameInterface.stage.stageHeight-.5*a.height+a.anchorOffsetY,h&&t.GameInterface.PopUpContainer.addChild(this.shape),t.GameInterface.PopUpContainer.addChild(a),this.nowPopUpView=a,this.prePopUpView==this.nowPopUpView&&(this.prePopUpView=null),this.prePopUpView&&this.prePopUpView.hide(),i?this.play(this.nowPopUpView,this.prePopUpView,i,n):this.prePopUpView&&t.Tools.removeFromParent(this.prePopUpView)},e.hideView=function(e,i){t.Tools.removeFromParent(this.viewshape),this.nowView&&this.nowView.hide(),e?(this.preView=null,this.play(this.preView,this.nowView,e,i)):t.Tools.removeFromParent(this.nowView)},e.hidePopUpView=function(e,i){t.Tools.removeFromParent(this.shape),this.nowPopUpView&&this.nowPopUpView.hide(),e?(this.prePopUpView=null,this.play(this.prePopUpView,this.nowPopUpView,e,i)):t.Tools.removeFromParent(this.nowPopUpView)},e.play=function(e,i,s,n){var h=egret.getDefinitionByName(s),a=new h;a&&a.switching(e,i,t.Tools.removeFromParent,this,n)},e.panels=null,e.preScene=null,e.nowScene=null,e.preView=null,e.nowView=null,e.prePopUpView=null,e.nowPopUpView=null,e.shape=null,e.viewshape=null,e.getViewMustNew=!0,e}();t.BaseViewManager=o,egret.registerClass(o,"wy.BaseViewManager"),t.changeScene=e,t.hideScene=i,t.changeView=s,t.hideView=n,t.openPopUpView=h,t.hidePopUpView=a}(wy||(wy={}));var wy;!function(t){function e(t,e,i){n.getInstance().subscribeFunc(t,e,i)}function i(t,e,i){n.getInstance().unsubscribeFunc(t,e,i)}function s(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];(s=n.getInstance()).notify.apply(s,[t].concat(e));var s}var n=function(){function t(){this.regis=new Object,this.freshStrs=[]}var e=(__define,t),i=e.prototype;return t.getInstance=function(){return(null==this.instance||void 0==this.instance)&&(this.instance=new t),this.instance},i.subscribeFunc=function(t,e,i){this.regis[e]||(this.regis[e]=[]);var s=this.freshStrs.indexOf(e);0>s&&this.freshStrs.push(e),this.regis[e].push({func:t,"this":i})},i.unsubscribeFunc=function(t,e,i){for(var s=this.regis[e],n=0;n<s.length;n++)if(s[n].func==t&&s[n]["this"]==i){s.splice(n,1);break}},i.notify=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var s,n,h;for(n=0;n<this.freshStrs.length;n++)if(t==this.freshStrs[n])for(s=this.regis[this.freshStrs[n]],h=0;h<s.length;h++)if(s[h].func instanceof Function)if(s[h]["this"]){var a=s[h]["this"],o=s[h].func;o.apply(a,e)}else s[h].func(e)},t}();t.FreshNotifyManager=n,egret.registerClass(n,"wy.FreshNotifyManager"),t.on=e,t.off=i,t.notify=s}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}var i=(__define,e);i.prototype;return e.init=function(){t.Data.URL=window.gameUrl,this.openid=this.getItemByName("openid"),this.headimgurl=this.getItemByName("imgURL"),this.nickname=this.getItemByName("name"),this.sex=this.getItemByName("sex"),this.city=this.getItemByName("city"),this.country=this.getItemByName("country"),this.shareid=this.getItemByName("shareid"),this.delCookie("shareid"),this.delCookie("openid")},e.share=function(t,e,i){void 0===i&&(i=-1),0>i?(window.sharedata[t]=e,window.timelinedata[t]=e,window.wx.onMenuShareAppMessage(window.sharedata),window.wx.onMenuShareTimeline(window.timelinedata)):0==i?(window.sharedata[t]=e,window.wx.onMenuShareAppMessage(window.sharedata)):1==i&&(window.timelinedata[t]=e,window.wx.onMenuShareTimeline(window.timelinedata))},e.getItemByName=function(t){var e;return e=decodeURIComponent(decodeURIComponent(this.getCookie(t))),e||(e=window.localStorage.getItem(t),e||(e=egret.localStorage.getItem(t))),e},e.delItemByName=function(t){egret.localStorage.removeItem(t),window.localStorage.removeItem(t),this.delCookie(t)},e.getUrlParameter=function(t){var e=decodeURI(decodeURI(egret.getOption(t)));return e},e.getCookie=function(t){var e,i=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(i))?e[2]:null},e.delCookie=function(t){var e=new Date;e.setTime(e.getTime()-1);var i=this.getCookie(t);null!=i&&(document.cookie=t+"="+i+";expires="+e.toUTCString())},e.URL="",e}();t.Data=e,egret.registerClass(e,"wy.Data")}(wy||(wy={}));var wy;!function(t){var e=function(){function t(){}var e=(__define,t);e.prototype;return t.REMOVE="remove_items",t.REMOVE_OVER="remove_over",t}();t.FreshType=e,egret.registerClass(e,"wy.FreshType")}(wy||(wy={}));var wy;!function(t){var e=function(){function t(t){t&&(this.jsondata=t,this.updateType())}var e=(__define,t),i=e.prototype;return i.setData=function(t){t&&t instanceof Object&&(this.jsondata=t,this.updateType())},i.getDataByIndex=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var s=null;if(1==this.datatype)if(!e||e.length<=0)s=this.jsondata[t];else{for(var n=this.jsondata,h=0,a=e.length;a>h&&n;++h)for(var o=0,r=n.length;r>o;++o)if(n[o].label==e[h]){n=n[o].children;break}s=0>t?n:t<n.length?n[t]:null}return s},i.getDataByLabel=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var i=null;if(1==this.datatype)if(!t||t.length<=0)i=null;else{for(var s=this.jsondata,n=0,h=t.length;h>n&&s;++n)for(var a=0,o=s.length;o>a;++a)if(s[a].label==t[n]){s=s[a].children;break}i=s}return i},i.getLabelArray=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var i=null;if(1==this.datatype)if(!t||t.length<=0)i=null;else{for(var s=this.jsondata,n=0,h=t.length;h>n&&s;++n)for(var a=0,o=s.length;o>a;++a)if(s[a].label==t[n]){s=s[a].children;break}if(s&&s.length>0){i=[];for(var n=0,o=s.length;o>n;n++){if(!s[n].hasOwnProperty("label"))throw Error("json 数据没有 label 属性 ");i.push(s[n].label)}}}return i},i.getLabelObjArray=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!t)return null;var s=null;if(1==this.datatype)if(!e||e.length<=0)s=null;else{for(var n=this.jsondata,h=0,a=e.length;a>h&&n;++h)for(var o=0,r=n.length;r>o;++o)if(n[o].label==e[h]){n=n[o].children;break}if(n&&n.length>0){s=[];for(var h=0,r=n.length;r>h;h++){if(!n[h].hasOwnProperty("label"))throw Error("json 数据没有 label 属性 ");s.push({key:n[h].label})}}}return s},i.updateType=function(){this.jsondata?this.jsondata instanceof Object&&this.jsondata instanceof Array?this.datatype=1:this.jsondata instanceof Object?this.datatype=0:this.datatype=-1:this.datatype=-1,console.log("datatype="+this.datatype)},t}();t.Json=e,egret.registerClass(e,"wy.Json")}(wy||(wy={}));var wy;!function(t){var e=function(){function t(){}var e=(__define,t);e.prototype;return t.LEFTIN="wy.PageLeftIn",t.RIGHTIN="wy.PageRightIn",t.TOPIN="wy.PageTopIn",t.BOTTOMIN="wy.PageBottomIn",t.ALPHAIN="wy.PageAlphaIn",t.EJECTIN="wy.PageScaleIn",t.LEFTOUT="wy.PageLeftOut",t.RIGHTOUT="wy.PageRightOut",t.TOPOUT="wy.PageTopOut",t.BOTTOMOUT="wy.PageBottomOut",t.ALPHAOUT="wy.PageAlphaOut",t.EJECTOUT="wy.PageScaleOut",t}();t.PopType=e,egret.registerClass(e,"wy.PopType")}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){this._fontSize=20,this._id="gameID";var t=document.getElementById(this._id);this.p=document.createElement("p"),t.appendChild(this.p),this.p.style.border="0px",this.p.style.backgroundColor="transparent",this.p.style.position="absolute",this.p.style.fontSize=this.fontSize+"px",this.p.style.display="none",this.p.style.color="#036eb8",this.p.style.textAlign="center"}var i=__define,s=e,n=s.prototype;return i(n,"fontSize",function(){return this._fontSize},function(t){this._fontSize=t,this.p.style.fontSize=this._fontSize+"px"}),i(n,"id",function(){return this._id},function(t){this._id=t}),n.setValue=function(t){this.p.style.display="inline",this.p.innerHTML=t},n.setPosition=function(e,i,s,n){var h=document.body.clientWidth/t.StageMain.StageUtils.stageWidth,a=document.body.clientHeight/t.StageMain.StageUtils.stageHeight;this.p.style.left=e*h+"px",this.p.style.top=i*a-this.fontSize+"px",this.p.style.width=s*h+"px",this.p.style.height=n*a+"px",this.p.style.display="inline"},n.show=function(){this.p&&(this.p.style.display="inline")},n.hide=function(){this.p&&(this.p.style.display="none")},e}();t.HTMLText=e,egret.registerClass(e,"wy.HTMLText")}(wy||(wy={}));var SingleClass=function(){function t(){}var e=(__define,t);e.prototype;return t.getInstance=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var i=this;if(!i._instance){var s=t.length;0==s?i._instance=new i:1==s?i._instance=new i(t[0]):2==s?i._instance=new i(t[0],t[1]):3==s&&(i._instance=new i(t[0],t[1],t[2]))}return i._instance},t}();egret.registerClass(SingleClass,"SingleClass");var wy;!function(t){var e=function(t){function e(){t.apply(this,arguments)}__extends(e,t);var i=__define,s=e;s.prototype;return i(e,"StageUtils",function(){return StageUtils.getInstance()}),e}(SingleClass);t.StageMain=e,egret.registerClass(e,"wy.StageMain")}(wy||(wy={}));var StageUtils=function(t){function e(){t.apply(this,arguments)}__extends(e,t);var i=__define,s=e,n=s.prototype;return n.init=function(t){this.stage=t},i(n,"stageWidth",function(){return this.stage.stageWidth}),i(n,"stageHeight",function(){return this.stage.stageHeight}),e}(SingleClass);egret.registerClass(StageUtils,"StageUtils");var wy;!function(t){var e=function(){function e(){}var i=(__define,e);i.prototype;return e.init=function(t,e,i,s,n,h){void 0===n&&(n=50),void 0===h&&(h=50),this.posX=n,this.posY=h,this.playImg=i,s?this.stopImg=s:this.stopImg=this.playImg,this.createMusicBtn(),this.btnNeedParent=!0,this.loadMusic(t,e)},e.loadMusic=function(t,e){void 0===e&&(e=!0),this.bgmSound=new egret.Sound,this.bgmSound.addEventListener(egret.Event.COMPLETE,this.onLoadFinish,this),this.bgmSound.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onLoadFinish,this),this.bgmSound.load("resource/assets/"+t+".mp3"),this.needStart=e},e.onLoadFinish=function(e){this.bgmSound=e.target,this.needStart&&(window.wx&&window.is_weixin()?window.wx.getNetworkType({success:function(e){e.networkType;t.BGM.startMusic()}}):this.startMusic())},e.onLoadError=function(t){egret.warn("音频加载出错")},e.startMusic=function(){this.bgmSound&&(this.musicBtn&&0==this.musicBtn.state&&this.onClickMusicBtn(),this.btnNeedParent&&this.musicBtn&&!this.musicBtn.parent&&(t.GameInterface.stage.addChild(this.musicBtn),this.musicBtn.x=this.posX,this.musicBtn.y=this.posY))},e.endMusic=function(){this.musicBtn&&1==this.musicBtn.state&&this.onClickMusicBtn()},e.setXY=function(t,e){this.musicBtn&&(this.posX=t,this.posY=e,this.musicBtn.x=t,this.musicBtn.y=e)},e.createMusicBtn=function(){this.musicBtn=t.Tools.createBitmapByName(this.playImg),t.Tools.center(this.musicBtn),this.musicBtn.state=0,this.musicBtn.touchEnabled=!0,egret.Tween.get(this.musicBtn,{loop:!0}).to({rotation:360},4e3),egret.Tween.pauseTweens(this.musicBtn),this.musicBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMusicBtn,this)},e.onClickMusicBtn=function(t){void 0===t&&(t=null),1==this.musicBtn.state?(this.musicBtn.state=0,this.musicBtn.texture=RES.getRes(this.stopImg),this.bgmSound&&(this.bgmChannel.stop(),egret.Tween.pauseTweens(this.musicBtn),this.musicBtn.rotation=0)):(this.musicBtn.state=1,this.musicBtn.texture=RES.getRes(this.playImg),this.bgmSound&&(this.bgmChannel&&this.bgmChannel.stop(),this.bgmChannel=this.bgmSound.play(0,1e4),this.musicBtn.rotation=0,egret.Tween.resumeTweens(this.musicBtn)))},e.needStart=!0,e}();t.BGM=e,egret.registerClass(e,"wy.BGM")}(wy||(wy={}));var wy;!function(t){var e=function(e){function i(){e.call(this),this.createOk()}__extends(i,e);var s=(__define,i),n=s.prototype;return n.createOk=function(){this.graphics.beginFill(0,.3),this.graphics.drawRect(0,0,640,1036),this.graphics.endFill(),this.touchEnabled=!0,this.dialog=new egret.Sprite,this.dialog.graphics.beginFill(16777215,1),this.dialog.graphics.drawRoundRect(0,0,400,260,50),this.dialog.graphics.endFill(),this.addChild(this.dialog),this.dialog.anchorOffsetX=this.dialog.width>>1,this.dialog.anchorOffsetY=this.dialog.height>>1,this.dialog.x=(640-this.dialog.width)/2+this.dialog.anchorOffsetX,this.dialog.y=(1036-this.dialog.height)/2+this.dialog.anchorOffsetY,this.dialog_btn_none=new egret.Shape,this.dialog_btn_none.graphics.beginFill(16777215,1),this.dialog_btn_none.graphics.drawRoundRect(0,0,400,70,50),this.dialog_btn_none.graphics.endFill(),this.dialog_btn_none.y=190,this.dialog.addChild(this.dialog_btn_none),this.dialog_btn_select=new egret.Shape,this.dialog_btn_select.graphics.beginFill(11052453,.5),this.dialog_btn_select.graphics.drawRoundRect(0,0,400,70,50),this.dialog_btn_select.graphics.endFill(),this.dialog_btn_select.y=190,this.dialog.addChild(this.dialog_btn_select),this.dialog_btn_select.visible=!1,this.line=new egret.Shape,this.line.graphics.lineStyle(1,5460819),this.line.graphics.moveTo(0,190),this.line.graphics.lineTo(400,190),this.dialog.addChild(this.line);var t=new egret.TextField;t.x=0,t.y=190,t.textAlign=egret.HorizontalAlign.CENTER,t.verticalAlign=egret.VerticalAlign.MIDDLE,t.fontFamily="微软雅黑",t.width=400,t.height=70,t.textColor=0,t.multiline=!1,t.size=30,t.text="确定",this.dialog.addChild(t),this.content_text=new egret.TextField,this.content_text.x=20,this.content_text.y=10,this.content_text.textAlign=egret.HorizontalAlign.CENTER,this.content_text.verticalAlign=egret.VerticalAlign.MIDDLE,this.content_text.fontFamily="微软雅黑",this.content_text.width=360,this.content_text.height=170,this.content_text.textColor=0,this.content_text.multiline=!0,this.content_text.lineSpacing=15,this.content_text.size=25,this.dialog.addChild(this.content_text),this.dialog_btn_none.touchEnabled=!0,this.dialog_btn_none.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.tap_begin,this),this.dialog_btn_none.addEventListener(egret.TouchEvent.TOUCH_END,this.tap_end,this),this.dialog_btn_none.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.tap_out,this)
},n.show_dialog=function(t,e,i,s){this.dialog_btn_none.touchEnabled=!0,this.content_text.text=t,e.addChild(this),this.callBackFunc=s,this.thisObj=i},n.tap_begin=function(){this.dialog_btn_select.visible=!0},n.tap_out=function(){this.dialog_btn_select.visible=!1},n.tap_end=function(){this.dialog_btn_none.touchEnabled=!1,this.dialog_btn_select.visible=!1,this&&this.parent&&this.parent.removeChild(this),this.thisObj&&this.callBackFunc&&this.callBackFunc.call(this.thisObj)},i.show=function(e,i,s,n){void 0===n&&(n=t.GameInterface.stage),this.dialog.show_dialog(e,n,i,s)},i.dialog=new i,i}(egret.Sprite);t.Dialog=e,egret.registerClass(e,"wy.Dialog")}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}var i=(__define,e);i.prototype;return e.init=function(t){this.myImg=document.createElement("img"),this.myImg.src=t},e.set=function(e,i,s,n){var h=s/t.GameInterface.stage.stageWidth*100,a=n/t.GameInterface.stage.stageHeight*100,o=e/t.GameInterface.stage.stageWidth*100,r=i/t.GameInterface.stage.stageHeight*100;this.myImg.style.width=h+"%",this.myImg.style.height=a+"%",this.myImg.style.position="absolute",this.myImg.style.left=o+"%",this.myImg.style.top=r+"%"},e.hide=function(){this.myImg&&this.myImg.parentNode&&this.myImg.parentNode.removeChild(this.myImg)},e.show=function(){var t=document.getElementById("gameID");t.appendChild(this.myImg)},e}();t.EWM=e,egret.registerClass(e,"wy.EWM")}(wy||(wy={}));var wy;!function(t){var e=function(t){function e(e,i){void 0===e&&(e=0),void 0===i&&(i=1e3),t.call(this),this.delay=i,this.repeatCount=e,this.currentCount=0}__extends(e,t);var i=(__define,e),s=i.prototype;return s.start=function(){this.previous=egret.getTimer(),this.accTime=0,egret.startTick(this.update,this)},s.reset=function(){this.previous=egret.getTimer(),this.accTime=0,this.currentCount=0},s.stop=function(){egret.stopTick(this.update,this)},s.update=function(){for(this.curTime=egret.getTimer(),this.passTime=this.curTime-this.previous,this.previous=this.curTime,this.accTime+=this.passTime;this.accTime>=this.delay;)this.accTime-=this.delay,this.currentCount++,this.repeatCount>0&&this.currentCount==this.repeatCount&&(this.dispatchEvent(new egret.TimerEvent(egret.TimerEvent.TIMER_COMPLETE)),this.stop()),this.dispatchEvent(new egret.TimerEvent(egret.TimerEvent.TIMER));return!1},e}(egret.EventDispatcher);t.GameTimer=e,egret.registerClass(e,"wy.GameTimer")}(wy||(wy={}));var wy;!function(t){var e=function(){function t(){this.MAX_SCALE=3,this.MIN_SCALE=0}var e=(__define,t),i=e.prototype;return i.apply=function(t){return null!=t&&void 0!=t&&this.obj!=t?(this.cancel(),this.obj=t,egret.MainContext.deviceType==egret.MainContext.DEVICE_PC&&(neoges.GestureManager.showTouchPoint=!0),this):void 0},i.all=function(){return this.obj?(this.scale().rotate().move(),this):this},i.scale=function(){return this.obj?(this.pinch=new neoges.PinchGesture(this.obj),this.pinch.addEventListener(neoges.GestureEvent.BEGAN,this.onPinchBegan,this),this.pinch.addEventListener(neoges.GestureEvent.UPDATE,this.onPinchUpdate,this),this.pinch.addEventListener(neoges.GestureEvent.ENDED,this.onPinchEnd,this),this):this},i.rotate=function(){return this.obj?(this.rot=new neoges.RotationGesture(this.obj),this.rot.addEventListener(neoges.GestureEvent.BEGAN,this.onRotationBegan,this),this.rot.addEventListener(neoges.GestureEvent.UPDATE,this.onRotationUpdate,this),this.rot.addEventListener(neoges.GestureEvent.ENDED,this.onRotationEnd,this),this):this},i.move=function(){return this.obj?(this.pan=new neoges.PanGesture(this.obj),this.pan.addEventListener(neoges.GestureEvent.BEGAN,this.onPanBegan,this),this.pan.addEventListener(neoges.GestureEvent.UPDATE,this.onPanUpdate,this),this.pan.addEventListener(neoges.GestureEvent.ENDED,this.onPanEnd,this),this):this},i.cancel=function(){return this.pinch&&(this.clearGesture(this.pinch),this.pinch.removeEventListener(neoges.GestureEvent.BEGAN,this.onPinchBegan,this),this.pinch.removeEventListener(neoges.GestureEvent.UPDATE,this.onPinchUpdate,this),this.pinch.removeEventListener(neoges.GestureEvent.ENDED,this.onPinchEnd,this)),this.rot&&(this.clearGesture(this.rot),this.rot.removeEventListener(neoges.GestureEvent.BEGAN,this.onRotationBegan,this),this.rot.removeEventListener(neoges.GestureEvent.UPDATE,this.onRotationUpdate,this),this.rot.removeEventListener(neoges.GestureEvent.ENDED,this.onRotationEnd,this)),this.pan&&(this.clearGesture(this.pan),this.pan.removeEventListener(neoges.GestureEvent.BEGAN,this.onPanBegan,this),this.pan.removeEventListener(neoges.GestureEvent.UPDATE,this.onPanUpdate,this),this.pan.removeEventListener(neoges.GestureEvent.ENDED,this.onPanEnd,this)),this},i.onPinchBegan=function(t){this.obj&&(this.startScaleValue=this.obj.scaleX)},i.onPinchUpdate=function(t){if(this.obj&&t.value!=1/0&&Math.abs(t.value)<=5){var e=this.startScaleValue*t.value;if(e>this.MAX_SCALE||e<this.MIN_SCALE)return;this.obj.scaleX=e,this.obj.scaleY=this.obj.scaleX}},i.onPinchEnd=function(t){},i.onRotationBegan=function(t){this.obj&&(this.startRotationValue=this.obj.rotation)},i.onRotationUpdate=function(t){this.obj&&t.value!=1/0&&Math.abs(t.value)<=180&&(this.obj.rotation=this.startRotationValue+t.value)},i.onRotationEnd=function(t){},i.onPanBegan=function(t){this.startPoint=new egret.Point(t.host.x,t.host.y)},i.onPanUpdate=function(t){Math.abs(t.offsetX)<=1e3&&(t.host.x=this.startPoint.x+t.offsetX,this.obj&&(this.obj.x=t.host.x)),Math.abs(t.offsetY)<=1e3&&(t.host.y=this.startPoint.y+t.offsetY,this.obj&&(this.obj.y=t.host.y))},i.onPanEnd=function(t){},i.clearGesture=function(t){t.dispose()},t}();t.Gesture=e,egret.registerClass(e,"wy.Gesture")}(wy||(wy={}));var wy;!function(t){var e=function(t){function e(i,s){void 0===s&&(s=!0),t.call(this);var n;n=i?i:e.RADIUS,this.bmp=new egret.Bitmap,this.addChild(this.bmp),this.bmp.width=this.bmp.height=2*n,this.bmp.x=this.bmp.y=-n,s&&(this.shpMask=new egret.Shape,this.shpMask.graphics.beginFill(16777215,1),this.shpMask.graphics.drawCircle(0,0,n),this.shpMask.graphics.endFill(),this.addChild(this.shpMask),this.bmp.mask=this.shpMask)}__extends(e,t);var i=__define,s=e,n=s.prototype;return i(n,"source",function(){return this._source},function(t){this._source=t,RES.getResByUrl(t,this.compFunc,this,RES.ResourceItem.TYPE_IMAGE)}),n.compFunc=function(t){this.bmp&&(this.bmp.texture=t)},i(n,"texture",function(){return this.bmp?this.bmp.texture:null},function(t){this.bmp&&(this.bmp.texture=t)}),e.RADIUS=50,e}(egret.DisplayObjectContainer);t.HeadImg=e,egret.registerClass(e,"wy.HeadImg")}(wy||(wy={}));var wy;!function(t){var e=function(){function t(){}var e=(__define,t);e.prototype;return t.init=function(){this.inputs=[],this.inputDatas=[],this.defaultColor=9884671,this.inputColor=0},t.register=function(t,e,i,s){if(t.type!=egret.TextFieldType.INPUT)return void console.log("input type is not input");i||(i=this.defaultColor),s||(s=this.inputColor);var n=this.inputs.indexOf(t);0>n&&(this.inputs.push(t),t.text=e+"",t.textColor=i,this.inputDatas.push({inputColor:s,defaultColor:i,defaultStr:e}),t.addEventListener(egret.TextEvent.FOCUS_IN,this.onFocusIn,this),t.addEventListener(egret.TextEvent.FOCUS_OUT,this.onFocusOut,this))},t.unregister=function(t){var e=this.inputs.indexOf(t);e>=0&&(this.inputs[e].addEventListener(egret.TextEvent.FOCUS_IN,this.onFocusIn,this),this.inputs[e].addEventListener(egret.TextEvent.FOCUS_OUT,this.onFocusOut,this),this.inputs.splice(e,1),this.inputDatas.splice(e,1))},t.onFocusIn=function(t){var e=t.currentTarget;if(e){var i=this.inputs.indexOf(e);this.inputDatas[i]&&e.textColor==this.inputDatas[i].defaultColor&&(e.text="",e.textColor=this.inputDatas[i].inputColor)}},t.onFocusOut=function(t){var e=t.currentTarget;if(e){var i=this.inputs.indexOf(e);""==e.text&&this.inputDatas[i]&&(e.text=this.inputDatas[i].defaultStr+"",e.textColor=this.inputDatas[i].defaultColor)}},t}();t.InputUtils=e,egret.registerClass(e,"wy.InputUtils")}(wy||(wy={}));var wy;!function(t){var e=function(e){function i(){e.call(this)}__extends(i,e);var s=(__define,i),n=s.prototype;return n.createOk=function(e){if(this.bg=new egret.Shape,this.bg.graphics.beginFill(0,t.LoadingData.BG_ALPHA),e){if(t.LoadingData.STYLE<3)var i=170,s=418;else var i=270,s=468;this.bg.graphics.drawRect(0,0,640,1036)}else{if(t.LoadingData.STYLE<3)var i=418,s=170;else var i=468,s=270;this.bg.graphics.drawRect(0,0,1036,640)}switch(this.bg.graphics.endFill(),this.addChild(this.bg),this.bg.touchEnabled=!0,t.LoadingData.STYLE<3?(this.dialog=new egret.Sprite,this.dialog.graphics.beginFill(1973790,0),this.dialog.graphics.drawRoundRect(0,0,300,200,25),this.dialog.graphics.endFill(),this.addChild(this.dialog),this.dialog.x=i,this.dialog.y=s,this.shape_sprite=new egret.Sprite,this.shape_sprite.graphics.beginFill(16711680,0),this.shape_sprite.graphics.drawRect(0,0,140,140),this.shape_sprite.graphics.endFill(),this.dialog.addChild(this.shape_sprite),this.shape_sprite.anchorOffsetX=this.shape_sprite.width>>1,this.shape_sprite.anchorOffsetY=this.shape_sprite.height>>1,this.shape_sprite.x=83+this.shape_sprite.anchorOffsetX,this.shape_sprite.y=35+this.shape_sprite.anchorOffsetY):(this.dialog=new egret.Sprite,this.dialog.graphics.beginFill(1973790,1),this.dialog.graphics.drawRoundRect(0,0,100,100,25),this.dialog.graphics.endFill(),this.addChild(this.dialog),this.dialog.x=i,this.dialog.y=s,this.shape_sprite=new egret.Sprite,this.shape_sprite.graphics.beginFill(16711680,0),this.shape_sprite.graphics.drawRect(0,0,70,70),this.shape_sprite.graphics.endFill(),this.dialog.addChild(this.shape_sprite),this.shape_sprite.anchorOffsetX=this.shape_sprite.width>>1,this.shape_sprite.anchorOffsetY=this.shape_sprite.height>>1,this.shape_sprite.x=15+this.shape_sprite.anchorOffsetX,this.shape_sprite.y=15+this.shape_sprite.anchorOffsetY),t.LoadingData.STYLE){case 1:this.style1();break;case 2:this.style2();break;case 3:this.style3();break;case 4:this.style4();break;case 5:this.style5()}},n.style1=function(){var t,e=70;t=new egret.Shape,t.graphics.lineStyle(3,16777215,1),t.graphics.drawCircle(e,e,e),t.graphics.endFill(),this.shape_sprite.addChild(t);var i;i=new egret.Shape,i.graphics.beginFill(16777215),i.graphics.drawCircle(28,15,7),i.graphics.endFill(),this.shape_sprite.addChild(i),egret.Tween.get(this.shape_sprite,{loop:!0}).to({rotation:360},2e3,egret.Ease.cubicOut)},n.style2=function(){var t,e,i,s;t=new egret.Shape,t.graphics.beginFill(16777215),t.graphics.drawCircle(120,72,10),t.graphics.endFill(),this.shape_sprite.addChild(t),e=new egret.Shape,e.graphics.beginFill(16777215,.8),e.graphics.drawCircle(99,18,8),e.graphics.endFill(),this.shape_sprite.addChild(e),i=new egret.Shape,i.graphics.beginFill(16777215,.6),i.graphics.drawCircle(35.5,18.5,6),i.graphics.endFill(),this.shape_sprite.addChild(i),s=new egret.Shape,s.graphics.beginFill(16777215,.4),s.graphics.drawCircle(10,71,4),s.graphics.endFill(),this.shape_sprite.addChild(s),egret.Tween.get(this.shape_sprite,{loop:!0}).to({rotation:360},1e3)},n.style3=function(){var t,e,i,s;t=new egret.Shape,t.graphics.beginFill(16777215),t.graphics.drawCircle(35,60,10),t.graphics.endFill(),this.shape_sprite.addChild(t),e=new egret.Shape,e.graphics.beginFill(16777215),e.graphics.drawCircle(10,35,10),e.graphics.endFill(),this.shape_sprite.addChild(e),i=new egret.Shape,i.graphics.beginFill(16777215),i.graphics.drawCircle(35,10,10),i.graphics.endFill(),this.shape_sprite.addChild(i),s=new egret.Shape,s.graphics.beginFill(16777215),s.graphics.drawCircle(60,35,10),s.graphics.endFill(),this.shape_sprite.addChild(s),egret.Tween.get(this.shape_sprite,{loop:!0}).to({scaleX:.5,scaleY:.5},800).to({scaleX:1,scaleY:1},800),egret.Tween.get(this.shape_sprite,{loop:!0}).to({rotation:360},1600)},n.style4=function(){var t,e,i,s;t=new egret.Shape,t.graphics.beginFill(16777215),t.graphics.drawCircle(0,0,10),t.graphics.endFill(),this.shape_sprite.addChild(t),e=new egret.Shape,e.graphics.beginFill(16777215),e.graphics.drawCircle(0,0,10),e.graphics.endFill(),this.shape_sprite.addChild(e),i=new egret.Shape,i.graphics.beginFill(16777215),i.graphics.drawCircle(0,0,10),i.graphics.endFill(),this.shape_sprite.addChild(i),s=new egret.Shape,s.graphics.beginFill(16777215),s.graphics.drawCircle(0,0,10),s.graphics.endFill(),this.shape_sprite.addChild(s),t.x=e.x=i.x=s.x=35,t.y=e.y=i.y=s.y=35,egret.Tween.get(t,{loop:!0}).to({x:35,y:60},1e3).wait(1e3).to({x:35,y:35},1e3).wait(500),egret.Tween.get(e,{loop:!0}).to({x:10,y:35},1e3).wait(1e3).to({x:35,y:35},1e3).wait(500),egret.Tween.get(i,{loop:!0}).to({x:35,y:10},1e3).wait(1e3).to({x:35,y:35},1e3).wait(500),egret.Tween.get(s,{loop:!0}).to({x:60,y:35},1e3).wait(1e3).to({x:35,y:35},1e3).wait(500),egret.Tween.get(this.shape_sprite,{loop:!0}).to({rotation:360},1600)},n.style5=function(){var t,e,i,s,n=this;t=new egret.Shape,t.graphics.beginFill(16777215),t.graphics.drawCircle(0,0,10),t.graphics.endFill(),this.shape_sprite.addChild(t),e=new egret.Shape,e.graphics.beginFill(16777215),e.graphics.drawCircle(0,0,10),e.graphics.endFill(),this.shape_sprite.addChild(e),i=new egret.Shape,i.graphics.beginFill(16777215),i.graphics.drawCircle(0,0,10),i.graphics.endFill(),this.shape_sprite.addChild(i),s=new egret.Shape,s.graphics.beginFill(16777215),s.graphics.drawCircle(0,0,10),s.graphics.endFill(),this.shape_sprite.addChild(s),t.x=e.x=i.x=s.x=35,t.y=e.y=i.y=s.y=35;var h=function(){t.alpha=e.alpha=i.alpha=s.alpha=0,t.alpha=1,egret.Tween.get(t).to({x:35,y:60},600).wait(500).call(function(){e.alpha=1,egret.Tween.get(e).to({x:10,y:35},600).wait(500).call(function(){i.alpha=1,egret.Tween.get(i).to({x:35,y:10},600).wait(500).call(function(){s.alpha=1,egret.Tween.get(s).to({x:60,y:35},600).wait(1e3).call(a,n)},n)},n)},n)},a=function(){egret.Tween.get(t).to({x:35,y:35},600).wait(500).call(function(){egret.Tween.get(e).to({x:35,y:35},600).wait(500).call(function(){egret.Tween.get(i).to({x:35,y:35},600).wait(500).call(function(){egret.Tween.get(s).to({x:35,y:35},600).wait(600).call(h,n)},n)},n)},n)};h(),egret.Tween.get(this.shape_sprite,{loop:!0}).to({rotation:360},1600)},n.open_loading=function(t,e){this.createOk(t),e.addChild(this)},n.close_loading=function(){this&&this.parent&&(this.removeChildren(),this.parent.removeChild(this))},i.open=function(e,i){void 0===e&&(e=!0),void 0===i&&(i=t.GameInterface.stage),this.loadingData.open_loading(e,i)},i.close=function(){this.loadingData.close_loading()},i.STYLE=3,i.BG_ALPHA=0,i.loadingData=new i,i}(egret.DisplayObjectContainer);t.LoadingData=e,egret.registerClass(e,"wy.LoadingData")}(wy||(wy={}));var RandomUtils=function(){function t(){}var e=(__define,t),i=e.prototype;return t.limit=function(t,e){t=Math.min(t,e),e=Math.max(t,e);var i=e-t;return t+Math.random()*i},t.limitInteger=function(t,e){return Math.round(this.limit(t,e))},i.randomArray=function(t){var e=Math.floor(Math.random()*t.length);return t[e]},t}();egret.registerClass(RandomUtils,"RandomUtils");var wy;!function(t){var e=function(){function t(){}var e=(__define,t);e.prototype;return t.checkMobile=function(t){var e=/^0?1[3|4|5|8|7][0-9]\d{8}$/;return e.test(t)?!0:!1},t}();t.RegUtils=e,egret.registerClass(e,"wy.RegUtils")}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){this.prep=new egret.Point,this.threshold=50,this.funcObjs=[];for(var t=0;4>t;++t)this.funcObjs.push({func:null,thisObj:null})}var i=__define,s=e,n=s.prototype;return e.init=function(){this.sliders=[],this.pages=[]},e.register=function(t){if(!this.pages||!this.sliders)return void console.info("请先使用wy.Slider.init();初始化");var i,s=this.pages.indexOf(t);return 0>s?(i=new e,this.sliders.push(i),i.bind(t),this.pages.push(t)):i=this.sliders[s],i},e.unregister=function(t){var e=this.pages.indexOf(t);e>=0&&(this.pages.splice(e,1),this.sliders.length>e&&(this.sliders[e].unbind(t),this.sliders.splice(e,1)))},n.bind=function(t){t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.ontouchbegin,this),t.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.ontouchmove,this),t.addEventListener(egret.TouchEvent.TOUCH_END,this.ontouchend,this),t.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.ontouchend,this)},n.unbind=function(t){t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.ontouchbegin,this),t.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.ontouchmove,this),t.removeEventListener(egret.TouchEvent.TOUCH_END,this.ontouchend,this),t.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.ontouchend,this);for(var e=0;4>e;++e)this.funcObjs[e]&&(this.funcObjs[e].func=null,this.funcObjs[e].thisObj=null),this.funcObjs[e]=null;this.funcObjs=null,this.prep=null},n.left=function(t,e){return this.funcObjs[0].func=t,this.funcObjs[0].thisObj=e,this},n.right=function(t,e){return this.funcObjs[1].func=t,this.funcObjs[1].thisObj=e,this},n.up=function(t,e){return this.funcObjs[2].func=t,this.funcObjs[2].thisObj=e,this},n.down=function(t,e){return this.funcObjs[3].func=t,this.funcObjs[3].thisObj=e,this},n.nextleft=function(e,i,s,n){var h=this;return void 0===i&&(i=0),this.left(function(){h.next(e,i,t.PopType.LEFTIN)},this)},n.nextright=function(e,i,s,n){var h=this;return void 0===i&&(i=0),this.right(function(){h.next(e,i,t.PopType.RIGHTIN)},this)},n.nextup=function(e,i,s,n){var h=this;return void 0===i&&(i=0),this.up(function(){h.next(e,i,t.PopType.TOPIN)},this)},n.nextdown=function(e,i,s,n){var h=this;return void 0===i&&(i=0),this.down(function(){h.next(e,i,t.PopType.BOTTOMIN)},this)},n.next=function(e,i,s,n,h,a){switch(void 0===i&&(i=0),i){case 0:t.changeScene(e,s,h);break;case 1:t.changeView(e,s,h,a);break;case 2:t.openPopUpView(e,s,h,a);break;case 3:}},i(n,"threshold",void 0,function(t){this.thresholdX=t,this.thresholdY=t}),n.ontouchbegin=function(t){this.prep.x=t.stageX,this.prep.y=t.stageY},n.ontouchmove=function(t){},n.ontouchend=function(t){this.judge(t)},n.judge=function(t){if(this.prep){var e=t.stageX-this.prep.x,i=t.stageY-this.prep.y,s=e>0?!1:!0,n=i>0?!1:!0;s?Math.abs(e)>this.thresholdX&&this.callFunc(1):Math.abs(e)>this.thresholdX&&this.callFunc(0),n?Math.abs(i)>this.thresholdY&&this.callFunc(3):Math.abs(i)>this.thresholdY&&this.callFunc(2)}},n.callFunc=function(t){this.funcObjs&&this.funcObjs.length>t&&this.funcObjs[t]&&this.funcObjs[t].func&&(this.funcObjs[t].thisObj?this.funcObjs[t].func.call(this.funcObjs[t].thisObj):this.funcObjs[t].func())},e}();t.Slider=e,egret.registerClass(e,"wy.Slider")}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}var i=__define,s=e;s.prototype;return i(e,"showTouchEffects",function(){return this._showTouchEffects},function(e){this._showTouchEffects=e,e?t.GameInterface.stage.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this):t.GameInterface.stage.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this)}),i(e,"showBtnEffects",function(){return this._showBtnEffects},function(e){this._showBtnEffects=e,e?(t.GameInterface.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),t.GameInterface.stage.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTouchRelease,this),t.GameInterface.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this)):(t.GameInterface.stage.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),t.GameInterface.stage.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTouchRelease,this),t.GameInterface.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this))}),e.init=function(){this.showBtnEffects=!0,this.showTouchEffects=!1},e.onTouchTap=function(e){t.TouchEffects["do"](e.stageX,e.stageY)},e.onTouchBegin=function(e){"btn"==e.target.name&&(t.Tools.center(e.target),e.target.scaleX=e.target.scaleY=.95)},e.onTouchRelease=function(e){"btn"==e.target.name&&(e.target.scaleX=e.target.scaleY=1),this._showTouchEffects&&t.TouchEffects["do"](e.stageX,e.stageY)},e.onTouchEnd=function(t){"btn"==t.target.name&&(t.target.scaleX=t.target.scaleY=1)},e.TYPE_BUTTON="btn",e._showTouchEffects=!1,e._showBtnEffects=!0,e}();t.StageBtnUtils=e,egret.registerClass(e,"wy.StageBtnUtils")}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}var i=(__define,e);i.prototype;return e.setContent=function(e,i,s,n){void 0===i&&(i=null),void 0===s&&(s=!0),void 0===n&&(n=t.GameInterface),this.isChange=!1;var h=this.InstanceTf();h.text=e,h.width>=n.stage.stageWidth-100&&(h.width=n.stage.stageWidth-100),(h.width!=this.TF_WIDTH||h.height!=this.TF_HEIGHT)&&(this.isChange=!0),this.TF_WIDTH=h.width+60,this.TF_HEIGHT=h.height+40,h.y=20;var a=this.InstanceSpr();a.x=(n.stage.stageWidth-a.width)/2,egret.Tween.removeTweens(a);var o=n.stage.stageHeight-150;o+this.TF_HEIGHT+40>=n.stage.stageHeight&&(o-=50),i&&(s=!1,o=i),s&&(a.y=n.stage.stageHeight,egret.Tween.get(a).to({y:o},300)),egret.Tween.get(a).to({alpha:1},300).wait(2e3).to({alpha:0},300).call(function(){a.parent&&a.parent.removeChild(a)}),a.y=o,n.stage.addChild(a)},e.InstanceTf=function(){return null==this.toastText&&(this.toastText=new egret.TextField,this.toastText.size=this.FONT_SIZE,this.toastText.x=30,this.toastText.textAlign="center",this.toastText.fontFamily="微软雅黑",this.toastText.verticalAlign=egret.VerticalAlign.MIDDLE,this.toastText.textColor=this.TXT_COLOR,this.toastText.lineSpacing=15),this.toastText},e.InstanceSpr=function(){return(null==this._instanceSpr||this.isChange)&&(this._instanceSpr&&this._instanceSpr.parent&&this._instanceSpr.parent.removeChild(this._instanceSpr),this._instanceSpr=new egret.Sprite,this._instanceSpr.graphics.beginFill(this.BG_COLOR,1),this._instanceSpr.graphics.drawRoundRect(0,0,this.TF_WIDTH,this.TF_HEIGHT,20),this._instanceSpr.graphics.endFill(),this._instanceSpr.addChild(this.toastText)),this._instanceSpr.alpha=0,this._instanceSpr},e.BG_COLOR=3421236,e.TXT_COLOR=16777215,e.FONT_SIZE=30,e.isChange=!1,e}();t.Toast=e,egret.registerClass(e,"wy.Toast")}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}var i=(__define,e);i.prototype;return e.stop=function(t){egret.Tween.removeTweens(t)},e.removeFromParent=function(t){t&&t.parent&&t.parent.removeChild(t)},e.createMovieClip=function(t,e){void 0===e&&(e="png");var i=RES.getRes(t+"_json"),s=RES.getRes(t+"_"+e),n=new egret.MovieClipDataFactory(i,s),h=n.generateMovieClipData(t),a=new egret.MovieClip(h);return a},e.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},e.createBitmapText=function(t){var e=RES.getRes(t),i=new egret.BitmapText;return i.font=e,i},e.createParticle=function(t,e){void 0===e&&(e="png");var i=RES.getRes(t+"_"+e),s=RES.getRes(t+"_json"),n=new particle.GravityParticleSystem(i,s);return n},e.cnEnWordCount=function(t){return t.replace(/[^\x00-\xff]/g,"**").length},e.center=function(t){t.x-=t.anchorOffsetX,t.y-=t.anchorOffsetY,t.anchorOffsetX=t.width>>1,t.anchorOffsetY=t.height>>1,t.x+=t.anchorOffsetX,t.y+=t.anchorOffsetY},e.scaleImg=function(t,e,i){var s=t.texture,n=s.textureWidth/s.textureHeight;s.textureWidth>s.textureHeight?(s.textureWidth>e?(t.width=e,t.height=t.width/n):(t.width=s.textureWidth,t.height=s.textureHeight),t.height>i&&(t.height=i,t.width=n*t.height)):(s.textureHeight>i?(t.height=i,t.width=n*t.height):(t.width=s.textureWidth,t.height=s.textureHeight),t.width>e&&(t.width=e,t.height=t.width/n))},e.upload_base64=function(t,e,i){var s="image="+encodeURIComponent(t),n=new egret.URLLoader,h=new egret.URLRequest;h.url="http://wag.i-h5.cn/common/upload.php?a=upload_base64";var a=new egret.URLVariables(s);h.method=egret.URLRequestMethod.POST,h.data=a,n.addEventListener(egret.Event.COMPLETE,e,i),n.load(h)},e.GET_Request=function(t,e,i){var s=new egret.URLLoader,n=new egret.URLRequest;n.url=t,n.method=egret.URLRequestMethod.GET,s.addEventListener(egret.Event.COMPLETE,e,i),s.load(n)},e.createSprBtn=function(t,e,i,s,n){void 0===n&&(n=0);var h=new egret.Sprite;return h.graphics.beginFill(16777215,n),h.graphics.drawRect(0,0,i,s),h.graphics.endFill(),h.x=t,h.y=e,h.width=i,h.height=s,h.touchEnabled=!0,h},e.createTextField=function(t,e,i,s,n,h,a){void 0===h&&(h="微软雅黑"),void 0===a&&(a=!1);var o=new egret.TextField;return o.x=e,o.y=i,o.textAlign=egret.HorizontalAlign.CENTER,o.verticalAlign=egret.VerticalAlign.MIDDLE,o.fontFamily=h,o.width=s,o.height=n,o.textColor=0,o.multiline=a,o.size=t,o},e.createScolltext=function(t,e){void 0===e&&(e=30),t.multiline||(t.multiline=!0);var i=new egret.Shape;i.graphics.beginFill(0,0),i.graphics.drawRect(0,0,t.width,t.height),i.graphics.endFill(),i.x=t.x,i.y=t.y;var s=-1,n=0;i.touchEnabled=!0,t.parent.addChildAt(i,t.parent.getChildIndex(t)),i.addEventListener(egret.TouchEvent.TOUCH_MOVE,function(i){-1==s?s=i.stageY:(i.stageY>s?(n+=i.stageY-s,n>=e&&(n-=e,t.scrollV-=1,0==t.scrollV&&(t.scrollV=1))):(n+=s-i.stageY,console.log(n),n>=e&&(n-=e,t.scrollV==t.maxScrollV||(t.scrollV+=1))),s=i.stageY)},t.parent),i.parent.addEventListener(egret.TouchEvent.TOUCH_END,function(t){s=-1},t.parent)},e.WX_PayHttp=function(e,i,s,n){t.LoadingData.open();var h,a;h=e,egret.log("parame:"+h);var o=new egret.HttpRequest;o.responseType=egret.HttpResponseType.TEXT,o.open(i,egret.HttpMethod.POST),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(h),o.addEventListener(egret.Event.COMPLETE,function(e){t.LoadingData.close();var i=e.currentTarget,n=JSON.parse(i.response);egret.log("pay begin! error="+n.error),egret.log(i.response),0==n.error&&(a=n.data,window.WeixinJSBridge.invoke("getBrandWCPayRequest",a,function(t){"get_brand_wcpay_request:ok"==t.err_msg?s():alert("充值失败")}))},n)},e.copyText=function(e){var i=document.createElement("input");i.value=e,document.body.appendChild(i),i.select(),i.setSelectionRange(0,i.value.length),document.execCommand("Copy"),document.body.removeChild(i),t.Toast.setContent("复制成功")},e}();t.Tools=e,egret.registerClass(e,"wy.Tools")}(wy||(wy={}));var wy;!function(t){var e=function(){function t(){}var e=(__define,t);e.prototype;return t["do"]=function(t,e,i){for(var s=0;s<this._num;s++){var n,h=2*Math.PI*Math.random(),a=Math.sin(h)*this._starDis,o=Math.cos(h)*this._starDis,r=t+a,d=e+o,c=t+4*a,l=e+4*o,g=(this._size+this._size*Math.random(),new egret.Shape),u=5;if(n=i?i:RandomUtils.limit(0,16777215),Math.random()>.5){g.graphics.lineStyle(1,n),g.graphics.moveTo(u,0),g.graphics.beginFill(n),g.x=r,g.y=d;for(var p=1;11>p;p++){var f=u;p%2&&(f/=2);var h=2*Math.PI/10*p;g.graphics.lineTo(Math.cos(h)*f,Math.sin(h)*f)}}else u*=1.2,g.graphics.lineStyle(1,n),g.graphics.moveTo(0,-u),g.graphics.beginFill(n),g.x=r,g.y=d,g.graphics.drawArc(-u*Math.SQRT1_2,0,u,-Math.PI/2,Math.PI/2),g.graphics.drawArc(-u*(Math.SQRT1_2+1),0,Math.SQRT2*u,Math.PI/4,-Math.PI/4,!0);g.graphics.endFill(),egret.MainContext.instance.stage.addChild(g),egret.Tween.get(g).to({alpha:1,x:c,y:l,scaleX:.1,scaleY:.1,rotation:360},500).call(this.removeStar,this,[g])}},t.removeStar=function(t){egret.MainContext.instance.stage.removeChild(t)},t._size=2,t._num=10,t._starDis=10,t}();t.TouchEffects=e,egret.registerClass(e,"wy.TouchEffects")}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}var i=(__define,e);i.prototype;return e.init=function(){this.switchPagePopType=""},e["do"]=function(e){var i,s,n,h,a,o=100;for(i=0,s=e.numChildren;s>i;++i)if(h=e.getChildAt(i),n=h.name,"notween"!=n)switch(console.log("switch "+this.switchPagePopType),a=h.touchEnabled,h.touchEnabled=!1,this.switchPagePopType){case t.PopType.LEFTIN:h.x-=o,egret.Tween.get(h).wait((.5*Math.random()+.5)*t.PageSwitch.durationIn).to({x:h.x+o},t.PageSwitch.durationIn+500,egret.Ease.backOut).call(function(t,e){t.touchEnabled=e},this,[h,a]);break;case t.PopType.RIGHTIN:h.x+=o,egret.Tween.get(h).wait((.5*Math.random()+.5)*t.PageSwitch.durationIn).to({x:h.x-o},t.PageSwitch.durationIn+500,egret.Ease.backOut).call(function(t,e){t.touchEnabled=e},this,[h,a]);break;case t.PopType.TOPIN:h.y-=o,egret.Tween.get(h).wait((.5*Math.random()+.5)*t.PageSwitch.durationIn).to({y:h.y+o},t.PageSwitch.durationIn+500,egret.Ease.backOut).call(function(t,e){t.touchEnabled=e},this,[h,a]);break;case t.PopType.BOTTOMIN:h.y+=o,egret.Tween.get(h).wait((.5*Math.random()+.5)*t.PageSwitch.durationIn).to({y:h.y-o},t.PageSwitch.durationIn+500,egret.Ease.backOut).call(function(t,e){t.touchEnabled=e},this,[h,a]);break;default:h.touchEnabled=a}},e}();t.Tween=e,egret.registerClass(e,"wy.Tween")}(wy||(wy={}));var wy;!function(t){var e=function(){function t(){}var e=(__define,t);e.prototype;return t.upload=function(t,e,i){void 0===i&&(i=0),this.func=t,this.thisObj=e,0==i?selectImage(this.selectHandler,this):selectImageWX(this.selectHandler,this)},t.selectHandler=function(t,e,i){RES.getResByUrl(e,t.compFunc,t,RES.ResourceItem.TYPE_IMAGE)},t.compFunc=function(t){this.thisObj?this.func&&this.func.call(this.thisObj,t):this.func&&this.func(t)},t}();t.UploadImg=e,egret.registerClass(e,"wy.UploadImg")}(wy||(wy={}));var Yaoyiyao=function(){function t(){this.SHAKE_THRESHOLD=3e3,this.SHAKE_THRESHOLD2=2e3,this.last_update=0,this.motion=null,this.shakeCount=0,this.succCallBack=null,this.failCallBack=null}var e=(__define,t),i=e.prototype;return t.getInstance=function(){return this.Ins||(this.Ins=new t),this.Ins},i.init=function(t,e,i,s){void 0===t&&(t=3e3),void 0===e&&(e=100),void 0===i&&(i=12e3),void 0===s&&(s=1e3),this.last_x=0,this.last_y=0,this.last_z=0,this.isYaoing=!1,this.motion=new egret.Motion,this.interval=e,this.SHAKE_THRESHOLD=t,this.SHAKE_THRESHOLD2=s,this.diff_ratio=i},i.start=function(t,e,i){this.succCallBack=t,this.failCallBack=e,this.thisObj=i,this.motion.addEventListener(egret.Event.CHANGE,this.deviceMotionHandler,this),this.motion.start()},i.end=function(){this.motion.removeEventListener(egret.Event.CHANGE,this.deviceMotionHandler,this),this.isYaoing=!0},i.deviceMotionHandler=function(t){var e=t.accelerationIncludingGravity,i=(new Date).getTime();if(i-this.last_update>this.interval){var s=i-this.last_update;this.last_update=i;var n=e.x,h=e.y,a=e.z,o=Math.abs(n+h+a-this.last_x-this.last_y-this.last_z)/s*this.diff_ratio;o>this.SHAKE_THRESHOLD?(console.log("yaoing"),0==this.isYaoing&&(t.currentTarget.removeEventListener(egret.Event.CHANGE,this.deviceMotionHandler,this),this.isYaoing=!0,this.last_x=n,this.last_y=h,this.last_z=a,this.onYaoyiyaoSucc())):o>this.SHAKE_THRESHOLD2&&(this.last_x=n,this.last_y=h,this.last_z=a,this.failCallBack&&(this.thisObj?this.failCallBack.call(this.thisObj):this.failCallBack()))}},i.onYaoyiyaoSucc=function(){this.succCallBack&&(this.thisObj?this.succCallBack.call(this.thisObj):this.succCallBack())},t}();egret.registerClass(Yaoyiyao,"Yaoyiyao");var wy;!function(t){var e=function(){function e(){}var i=(__define,e),s=i.prototype;return s.switching=function(t,e,i,s,n){if(t){var h=1;t.alpha=0,this.doAnim(t,h)}if(e){var h=1;this.doAnim(e,h,i,s)}},s.doAnim=function(e,i,s,n){t.Tools.stop(e);var h=egret.Tween.get(e);t.PageSwitch.easeIn?h.to({alpha:i},t.PageSwitch.durationIn,t.PageSwitch.easeIn).call(function(){t.Tools.stop(e),s&&(n?s.call(n,e):s())}):h.to({alpha:i},t.PageSwitch.durationIn).call(function(){t.Tools.stop(e),s&&(n?s.call(n,e):s())})},e}();t.PageAlphaIn=e,egret.registerClass(e,"wy.PageAlphaIn",["wy.IPageSwitch"])}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}var i=(__define,e),s=i.prototype;return s.switching=function(t,e,i,s,n){if(t){var h=t.y+t.anchorOffsetY;t.y=egret.MainContext.instance.stage.stageHeight+t.anchorOffsetY,this.doAnim(t,h)}if(e){var h=-e.height+e.anchorOffsetY;this.doAnim(e,h,i,s)}},s.doAnim=function(e,i,s,n){t.Tools.stop(e);var h=egret.Tween.get(e);t.PageSwitch.easeIn?h.to({y:i},t.PageSwitch.durationIn,t.PageSwitch.easeIn).call(function(){t.Tools.stop(e),s&&(n?s.call(n,e):s())}):h.to({y:i},t.PageSwitch.durationIn).call(function(){t.Tools.stop(e),s&&(n?s.call(n,e):s())})},e}();t.PageBottomIn=e,egret.registerClass(e,"wy.PageBottomIn",["wy.IPageSwitch"])}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}var i=(__define,e),s=i.prototype;return s.switching=function(t,e,i,s,n){if(t){var h=t.x+t.anchorOffsetX;t.x=-t.width+t.anchorOffsetX,this.doAnim(t,h)}if(e){var h=egret.MainContext.instance.stage.stageWidth+t.anchorOffsetX;this.doAnim(e,h,i,s)}},s.doAnim=function(e,i,s,n){t.Tools.stop(e);
var h=egret.Tween.get(e);t.PageSwitch.easeIn?h.to({x:i},t.PageSwitch.durationIn,t.PageSwitch.easeIn).call(function(){t.Tools.stop(e),s&&(n?s.call(n,e):s())}):h.to({x:i},t.PageSwitch.durationIn).call(function(){t.Tools.stop(e),s&&(n?s.call(n,e):s())})},e}();t.PageLeftIn=e,egret.registerClass(e,"wy.PageLeftIn",["wy.IPageSwitch"])}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}var i=(__define,e),s=i.prototype;return s.switching=function(t,e,i,s,n){if(t){var h=t.x+t.anchorOffsetX;t.x=egret.MainContext.instance.stage.stageWidth+t.anchorOffsetX,this.doAnim(t,h)}if(e){var h=-e.width+e.anchorOffsetX;this.doAnim(e,h,i,s)}},s.doAnim=function(e,i,s,n){t.Tools.stop(e);var h=egret.Tween.get(e);t.PageSwitch.easeIn?h.to({x:i},t.PageSwitch.durationIn,t.PageSwitch.easeIn).call(function(){t.Tools.stop(e),s&&(n?s.call(n,e):s())}):h.to({x:i},t.PageSwitch.durationIn).call(function(){t.Tools.stop(e),s&&(n?s.call(n,e):s())})},e}();t.PageRightIn=e,egret.registerClass(e,"wy.PageRightIn",["wy.IPageSwitch"])}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}var i=(__define,e),s=i.prototype;return s.switching=function(e,i,s,n,h){e&&(t.Tools.center(e),e.scaleX=e.scaleY=.5,this.doAnim(e)),i&&this.doAnim(i,s,n)},s.doAnim=function(e,i,s){t.Tools.stop(e);var n=egret.Tween.get(e);t.PageSwitch.easeIn?n.to({scaleX:1,scaleY:1},t.PageSwitch.durationIn,t.PageSwitch.easeIn).call(function(){t.Tools.stop(e),i&&(s?i.call(s,e):i())}):n.to({scaleX:1,scaleY:1},t.PageSwitch.durationIn).call(function(){t.Tools.stop(e),i&&(s?i.call(s,e):i())})},e}();t.PageScaleIn=e,egret.registerClass(e,"wy.PageScaleIn",["wy.IPageSwitch"])}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}var i=(__define,e),s=i.prototype;return s.switching=function(e,i,s,n,h){if(e){var a=e.y+e.anchorOffsetY;e.y=-e.height+e.anchorOffsetY,this.doAnim(e,a)}if(i){var a=t.GameInterface.stage.stageHeight+i.anchorOffsetY;this.doAnim(i,a,s,n)}},s.doAnim=function(e,i,s,n){t.Tools.stop(e);var h=egret.Tween.get(e);t.PageSwitch.easeIn?h.to({y:i},t.PageSwitch.durationIn,t.PageSwitch.easeIn).call(function(){t.Tools.stop(e),s&&(n?s.call(n,e):s())}):h.to({y:i},t.PageSwitch.durationIn).call(function(){t.Tools.stop(e),s&&(n?s.call(n,e):s())})},e}();t.PageTopIn=e,egret.registerClass(e,"wy.PageTopIn",["wy.IPageSwitch"])}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}var i=(__define,e),s=i.prototype;return s.switching=function(t,e,i,s,n){if(e){var h=0;this.doAnim(e,h,i,s)}},s.doAnim=function(e,i,s,n){t.Tools.stop(e);var h=egret.Tween.get(e);t.PageSwitch.easeIn?h.to({alpha:i},t.PageSwitch.durationIn,t.PageSwitch.easeIn).call(function(){t.Tools.stop(e),s&&(n?s.call(n,e):s())}):h.to({alpha:i},t.PageSwitch.durationIn).call(function(){t.Tools.stop(e),s&&(n?s.call(n,e):s())})},e}();t.PageAlphaOut=e,egret.registerClass(e,"wy.PageAlphaOut",["wy.IPageSwitch"])}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}var i=(__define,e),s=i.prototype;return s.switching=function(t,e,i,s,n){if(e){var h=egret.MainContext.instance.stage.stageHeight+e.anchorOffsetY;this.doAnim(e,h,i,s)}},s.doAnim=function(e,i,s,n){t.Tools.stop(e);var h=egret.Tween.get(e);t.PageSwitch.easeOut?h.to({y:i},t.PageSwitch.durationOut,t.PageSwitch.easeOut).call(function(){t.Tools.stop(e),s&&(n?s.call(n,e):s())}):h.to({y:i},t.PageSwitch.durationOut).call(function(){t.Tools.stop(e),s&&(n?s.call(n,e):s())})},e}();t.PageBottomOut=e,egret.registerClass(e,"wy.PageBottomOut",["wy.IPageSwitch"])}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}var i=(__define,e),s=i.prototype;return s.switching=function(t,e,i,s,n){if(e){var h=-e.width+e.anchorOffsetY;this.doAnim(e,h,i,s)}},s.doAnim=function(e,i,s,n){t.Tools.stop(e);var h=egret.Tween.get(e);t.PageSwitch.easeOut?h.to({x:i},t.PageSwitch.durationOut,t.PageSwitch.easeOut).call(function(){t.Tools.stop(e),s&&(n?s.call(n,e):s())}):h.to({x:i},t.PageSwitch.durationOut).call(function(){t.Tools.stop(e),s&&(n?s.call(n,e):s())})},e}();t.PageLeftOut=e,egret.registerClass(e,"wy.PageLeftOut",["wy.IPageSwitch"])}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}var i=(__define,e),s=i.prototype;return s.switching=function(t,e,i,s,n){if(e){var h=egret.MainContext.instance.stage.stageWidth+e.anchorOffsetX;this.doAnim(e,h,i,s)}},s.doAnim=function(e,i,s,n){t.Tools.stop(e);var h=egret.Tween.get(e);t.PageSwitch.easeOut?h.to({x:i},t.PageSwitch.durationOut,t.PageSwitch.easeOut).call(function(){t.Tools.stop(e),s&&(n?s.call(n,e):s())}):h.to({x:i},t.PageSwitch.durationOut).call(function(){t.Tools.stop(e),s&&(n?s.call(n,e):s())})},e}();t.PageRightOut=e,egret.registerClass(e,"wy.PageRightOut",["wy.IPageSwitch"])}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}var i=(__define,e),s=i.prototype;return s.switching=function(t,e,i,s,n){e&&this.doAnim(e,i,s)},s.doAnim=function(e,i,s){t.Tools.stop(e);var n=egret.Tween.get(e);t.PageSwitch.easeOut?n.to({scaleX:0,scaleY:0},t.PageSwitch.durationOut,t.PageSwitch.easeOut).call(function(){t.Tools.stop(e),i&&(s?i.call(s,e):i())}):n.to({scaleX:0,scaleY:0},t.PageSwitch.durationOut).call(function(){t.Tools.stop(e),i&&(s?i.call(s,e):i())})},e}();t.PageScaleOut=e,egret.registerClass(e,"wy.PageScaleOut",["wy.IPageSwitch"])}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}var i=(__define,e),s=i.prototype;return s.switching=function(t,e,i,s,n){if(t){var h=-t.height+t.anchorOffsetY;this.doAnim(t,h)}if(e){var h=-e.height+e.anchorOffsetY;this.doAnim(e,h,i,s)}},s.doAnim=function(e,i,s,n){t.Tools.stop(e);var h=egret.Tween.get(e);t.PageSwitch.easeOut?h.to({y:i},t.PageSwitch.durationOut,t.PageSwitch.easeOut).call(function(){t.Tools.stop(e),s&&(n?s.call(n,e):s())}):h.to({y:i},t.PageSwitch.durationOut).call(function(){t.Tools.stop(e),s&&(n?s.call(n,e):s())})},e}();t.PageTopOut=e,egret.registerClass(e,"wy.PageTopOut",["wy.IPageSwitch"])}(wy||(wy={}));var wy;!function(t){var e=function(){function t(){}var e=(__define,t);e.prototype;return t.durationIn=300,t.easeIn=null,t.durationOut=300,t.easeOut=null,t}();t.PageSwitch=e,egret.registerClass(e,"wy.PageSwitch")}(wy||(wy={}));