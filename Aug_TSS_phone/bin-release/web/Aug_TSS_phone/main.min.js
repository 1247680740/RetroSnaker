var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),wy;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._isHide=!0,e}return __extends(e,t),e.prototype.show=function(t){this._isHide&&(this._isHide=!1)},e.prototype.hide=function(){this._isHide||(this._isHide=!0)},e}(egret.DisplayObjectContainer);t.BaseSprite=e,__reflect(e.prototype,"wy.BaseSprite")}(wy||(wy={}));var SingleClass=function(){function t(){}return t.getInstance=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this;if(!i._instance){var n=t.length;0==n?i._instance=new i:1==n?i._instance=new i(t[0]):2==n?i._instance=new i(t[0],t[1]):3==n&&(i._instance=new i(t[0],t[1],t[2]))}return i._instance},t}();__reflect(SingleClass.prototype,"SingleClass");var kongzhiUI=function(t){function e(){var e=t.call(this)||this;return e.width=1036,e.height=640,e.createChildren(),e}return __extends(e,t),e.prototype.createChildren=function(){this.l1=new egret.TextField,this.l1.text="加  速",this.l1.x=835,this.l1.y=405,this.l1.width=85,this.l1.height=40,this.l1.size=30,this.l1.textColor=65280,this.l1.fontFamily="微软雅黑",this.l1.textAlign="center",this.addChild(this.l1),this.kzbg=new egret.Bitmap(RES.getRes("yuan2_png")),this.kzbg.x=80,this.kzbg.y=327,this.addChild(this.kzbg),this.kzby=new egret.Bitmap(RES.getRes("yuan1_png")),this.kzby.x=132,this.kzby.y=381,this.addChild(this.kzby),this.btn=new egret.Bitmap(RES.getRes("btn_png")),this.btn.x=784,this.btn.y=343.5,this.btn.name="btn",this.addChild(this.btn),this.title=new egret.Bitmap(RES.getRes("p1_title_png")),this.title.x=196,this.title.y=32,this.addChild(this.title)},e}(wy.BaseSprite);__reflect(kongzhiUI.prototype,"kongzhiUI");var LoadingUIUI=function(t){function e(){var e=t.call(this)||this;return e.width=640,e.height=1036,e.createChildren(),e}return __extends(e,t),e.prototype.createChildren=function(){this.textField=new egret.TextField,this.textField.text="100%",this.textField.x=245,this.textField.y=498,this.textField.width=150,this.textField.height=40,this.textField.textAlign="center",this.textField.textColor=16711680,this.textField.size=20,this.textField.fontFamily="微软雅黑",this.addChild(this.textField)},e}(wy.BaseSprite);__reflect(LoadingUIUI.prototype,"LoadingUIUI");var OnePeopleUI=function(t){function e(){var e=t.call(this)||this;return e.width=1036,e.height=640,e.createChildren(),e}return __extends(e,t),e.prototype.createChildren=function(){this.bg=new egret.Bitmap(RES.getRes("bg_jpg")),this.bg.x=0,this.bg.y=0,this.addChild(this.bg),this.l1=new egret.TextField,this.l1.text="label",this.l1.textAlign="left",this.l1.size=15,this.l1.textColor=16777215,this.l1.x=577,this.l1.y=294,this.l1.width=200,this.l1.height=17,this.addChild(this.l1),this.l2=new egret.TextField,this.l2.text="label",this.l2.textAlign="left",this.l2.size=15,this.l2.textColor=16777215,this.l2.x=576,this.l2.y=339,this.l2.width=200,this.l2.height=18,this.addChild(this.l2),this.l3=new egret.TextField,this.l3.text="label",this.l3.textAlign="left",this.l3.size=15,this.l3.textColor=16777215,this.l3.x=576,this.l3.y=386,this.l3.width=200,this.l3.height=18,this.addChild(this.l3),this.l4=new egret.TextField,this.l4.text="label",this.l4.textAlign="left",this.l4.size=15,this.l4.textColor=16777215,this.l4.x=576,this.l4.y=433,this.l4.width=200,this.l4.height=17,this.l4.fontFamily="",this.addChild(this.l4),this.tip=new egret.TextField,this.tip.text="前三名玩家请持手机去活动方领奖",this.tip.textAlign="center",this.tip.size=25,this.tip.width=380,this.tip.height=25,this.tip.textColor=16777215,this.tip.x=this.width/2-this.tip.width/2,this.tip.y=this.height-28,this.tip.fontFamily="微软雅黑",this.tip.bold=!0,this.tip.alpha=.3,this.addChild(this.tip),this.guang2=new egret.Bitmap(RES.getRes("guang2_png")),this.guang2.x=273,this.guang2.y=286,this.addChild(this.guang2);var t=new egret.Bitmap(RES.getRes("wutai_png"));t.x=272,t.y=401,this.addChild(t),this.shan2=new egret.Bitmap(RES.getRes("shan2_png")),this.shan2.x=271,this.shan2.y=401,this.addChild(this.shan2),this.xin2=new egret.Bitmap(RES.getRes("xin1_png")),this.xin2.x=341,this.xin2.y=428,this.addChild(this.xin2),this.xin3=new egret.Bitmap(RES.getRes("xin1_png")),this.xin3.x=400,this.xin3.y=426,this.addChild(this.xin3),this.xin1=new egret.Bitmap(RES.getRes("xin1_png")),this.xin1.x=285,this.xin1.y=426,this.addChild(this.xin1),this.chongzi=new egret.Bitmap(RES.getRes("chongzi_png")),this.chongzi.x=351,this.chongzi.y=228,this.addChild(this.chongzi),this.guang1=new egret.Bitmap(RES.getRes("guang1_png")),this.guang1.x=263,this.guang1.y=225,this.addChild(this.guang1),this.shan1=new egret.Bitmap(RES.getRes("shan1_png")),this.shan1.x=59,this.shan1.y=34,this.addChild(this.shan1),this.lv=new egret.TextField,this.lv.text="label",this.lv.x=398,this.lv.y=150,this.lv.width=200,this.lv.height=30,this.lv.textColor=16777215,this.lv.size=25,this.lv.textAlign="center",this.addChild(this.lv)},e}(wy.BaseSprite);__reflect(OnePeopleUI.prototype,"OnePeopleUI");var pg2UI=function(t){function e(){var e=t.call(this)||this;return e.width=1036,e.height=640,e.createChildren(),e}return __extends(e,t),e.prototype.createChildren=function(){var t=new egret.TextField;t.text="点击屏幕开始游戏",t.x=363,t.y=291,t.width=300,t.height=40,t.size=30,t.textAlign="center",t.textColor=65280,this.addChild(t)},e}(wy.BaseSprite);__reflect(pg2UI.prototype,"pg2UI");var wy;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.createOk(),t}return __extends(i,e),i.prototype.createOk=function(){this.graphics.beginFill(0,.3),this.graphics.drawRect(0,0,640,1036),this.graphics.endFill(),this.touchEnabled=!0,this.dialog=new egret.Sprite,this.dialog.graphics.beginFill(16777215,1),this.dialog.graphics.drawRoundRect(0,0,400,260,50),this.dialog.graphics.endFill(),this.addChild(this.dialog),this.dialog.anchorOffsetX=this.dialog.width>>1,this.dialog.anchorOffsetY=this.dialog.height>>1,this.dialog.x=(640-this.dialog.width)/2+this.dialog.anchorOffsetX,this.dialog.y=(1036-this.dialog.height)/2+this.dialog.anchorOffsetY,this.dialog_btn_none=new egret.Shape,this.dialog_btn_none.graphics.beginFill(16777215,1),this.dialog_btn_none.graphics.drawRoundRect(0,0,400,70,50),this.dialog_btn_none.graphics.endFill(),this.dialog_btn_none.y=190,this.dialog.addChild(this.dialog_btn_none),this.dialog_btn_select=new egret.Shape,this.dialog_btn_select.graphics.beginFill(11052453,.5),this.dialog_btn_select.graphics.drawRoundRect(0,0,400,70,50),this.dialog_btn_select.graphics.endFill(),this.dialog_btn_select.y=190,this.dialog.addChild(this.dialog_btn_select),this.dialog_btn_select.visible=!1,this.line=new egret.Shape,this.line.graphics.lineStyle(1,5460819),this.line.graphics.moveTo(0,190),this.line.graphics.lineTo(400,190),this.dialog.addChild(this.line);var t=new egret.TextField;t.x=0,t.y=190,t.textAlign=egret.HorizontalAlign.CENTER,t.verticalAlign=egret.VerticalAlign.MIDDLE,t.fontFamily="微软雅黑",t.width=400,t.height=70,t.textColor=0,t.multiline=!1,t.size=30,t.text="确定",this.dialog.addChild(t),this.content_text=new egret.TextField,this.content_text.x=20,this.content_text.y=10,this.content_text.textAlign=egret.HorizontalAlign.CENTER,this.content_text.verticalAlign=egret.VerticalAlign.MIDDLE,this.content_text.fontFamily="微软雅黑",this.content_text.width=360,this.content_text.height=170,this.content_text.textColor=0,this.content_text.multiline=!0,this.content_text.lineSpacing=15,this.content_text.size=25,this.dialog.addChild(this.content_text),this.dialog_btn_none.touchEnabled=!0,this.dialog_btn_none.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.tap_begin,this),this.dialog_btn_none.addEventListener(egret.TouchEvent.TOUCH_END,this.tap_end,this),this.dialog_btn_none.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.tap_out,this)},i.prototype.show_dialog=function(t,e,i,n){this.dialog_btn_none.touchEnabled=!0,this.content_text.text=t,e.addChild(this),this.x=window.innerWidth/2-100,this.y=window.innerHeight/2-this.height/2+100,this.callBackFunc=n,this.thisObj=i},i.prototype.tap_begin=function(){this.dialog_btn_select.visible=!0},i.prototype.tap_out=function(){this.dialog_btn_select.visible=!1},i.prototype.tap_end=function(){this.dialog_btn_none.touchEnabled=!1,this.dialog_btn_select.visible=!1,this&&this.parent&&this.parent.removeChild(this),this.thisObj&&this.callBackFunc&&this.callBackFunc.call(this.thisObj)},i.show=function(e,i,n,s){void 0===s&&(s=t.GameInterface.stage),this.dialog.show_dialog(e,s,i,n)},i.dialog=new i,i}(egret.Sprite);t.Dialog=e,__reflect(e.prototype,"wy.Dialog")}(wy||(wy={}));var pg2=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this)},e.prototype.show=function(e){t.prototype.show.call(this,e);var i=wj.Mytools.createshap(0,0,1036,640,0);this.addChildAt(i,0),i.touchEnabled=!0,i.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){SocketManager.getInstance().socket.connected&&(wy.changeScene(kongzhi,wy.PopType.ALPHAIN),SocketManager.getInstance().send({"new":StaticVar.type,nickname:wy.Data.nickname,openid:wy.Data.openid,headimgurl:wy.Data.headimgurl}))},this),wy.Tween["do"](this)},e.prototype.hide=function(){t.prototype.hide.call(this)},e.prototype.onTouchTap=function(t){switch(t.currentTarget){}},e}(pg2UI);__reflect(pg2.prototype,"pg2");var wy;!function(t){function e(){i.init()}var i=function(){function e(){}return e.init=function(){this.stage=egret.MainContext.instance.stage,this.sceneContainer=new egret.DisplayObjectContainer,this.stage.addChild(this.sceneContainer),this.viewContainer=new egret.DisplayObjectContainer,this.stage.addChild(this.viewContainer),this.PopUpContainer=new egret.DisplayObjectContainer,this.stage.addChild(this.PopUpContainer),this.MsgContainer=new egret.DisplayObjectContainer,this.stage.addChild(this.MsgContainer),t.BaseViewManager.init(),t.Data.init(),t.StageBtnUtils.init(),t.Slider.init(),t.InputUtils.init()},e.stage=null,e.PopUpContainer=null,e.MsgContainer=null,e.viewContainer=null,e.sceneContainer=null,e}();t.GameInterface=i,__reflect(i.prototype,"wy.GameInterface"),t.init=e}(wy||(wy={}));var Main=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){egret.MainContext.deviceType==egret.MainContext.DEVICE_PC&&(this.stage.scaleMode="showAll"),wy.init(),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},e.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("loading")},e.prototype.onResourceLoadComplete=function(t){switch(t.groupName){case"loading":wy.BaseViewManager.changeScene(LoadingUI),this.loadingView=wy.BaseViewManager.nowScene,RES.loadGroup("preload");break;case"preload":RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.createGameScene()}},e.prototype.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},e.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},e.prototype.onResourceProgress=function(t){"preload"==t.groupName&&this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal)},e.prototype.createGameScene=function(){return"null"!=wy.Data.type&&null!=wy.Data.type&&""!=wy.Data.type?StaticVar.type=Number(wy.Data.type):StaticVar.type=7,StaticVar.type>8?void wy.Dialog.show("参与人数已经满了！"):(SocketManager.getInstance().init(),SocketManager.getInstance().start("39.106.5.94",9555),void wy.changeScene(pg2))},e}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var wy;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.dataChanged()},enumerable:!0,configurable:!0}),e.prototype.dataChanged=function(){},e.prototype.clear=function(){},e}(t.BaseSprite);t.ItemRenderer=e,__reflect(e.prototype,"wy.ItemRenderer",["wy.IItemRenderer"])}(wy||(wy={}));var wy;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.top=0,e.bottom=0,e.left=0,e.right=0,e.cols=1,e.rows=1,e._layout="vertical",e}return __extends(e,t),Object.defineProperty(e.prototype,"dataProvider",{get:function(){return this._dataProvider},set:function(t){if(this._itemRenderer)for(var e,i=0;i<this._itemRenderer.length;++i)e=this._itemRenderer[i],e.hide(),e.parent&&e.parent.removeChild(e);this._itemRenderer=[],this._dataProvider=t;var n,s;if(!this.itemRenderer)throw Error("没有设置渲染器");for(var i=0;i<this._dataProvider.length;++i)n=this._dataProvider[i],s=new this.itemRenderer,s.show(),s.itemIndex=i,s.data=n,s.selected=!1,this.addChild(s),this._itemRenderer.push(s);this.updateDisplayList()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layout",{set:function(t){this._layout!=t&&(this._layout=t,this.updateDisplayList())},enumerable:!0,configurable:!0}),e.prototype.updateDisplayList=function(){if(this._itemRenderer&&!(this._itemRenderer.length<=0)){var t=0;if(this._layout==e.VERTICAL)for(var i=this._itemRenderer[0].width,n=this._itemRenderer[0].height;t<this._itemRenderer.length;)for(var s=0;s<this.cols&&t<this._itemRenderer.length;++s)this._itemRenderer[t].x=s*(i+this.left+this.right)+this.left+this._itemRenderer[t].anchorOffsetX,this._itemRenderer[t].y=Math.floor(t/this.cols)*(n+this.top+this.bottom)+this.top+this._itemRenderer[t].anchorOffsetY,++t;else if(this._layout==e.HORIZENTOL)for(var i=this._itemRenderer[0].width,n=this._itemRenderer[0].height;t<this._itemRenderer.length;)for(var s=0;s<this.rows&&t<this._itemRenderer.length;++s)this._itemRenderer[t].x=Math.floor(t/this.rows)*(i+this.left+this.right)+this.left+this._itemRenderer[t].anchorOffsetX,this._itemRenderer[t].y=s*(n+this.top+this.bottom)+this.top+this._itemRenderer[t].anchorOffsetY,++t;this.bgShape||(this.bgShape=new egret.Shape,this.addChildAt(this.bgShape,0)),this.bgShape.graphics.clear(),this.bgShape.graphics.beginFill(0,.01),this.bgShape.graphics.drawRect(0,0,this.width,this.height),this.bgShape.graphics.endFill()}},e.prototype.updateItem=function(t,e){0>t||!e||!this._itemRenderer||this._itemRenderer.length<=0||this._itemRenderer.length<=t||(this._itemRenderer[t].data=e,this.updateDisplayList())},e.prototype.addItem=function(t){if(t&&this._itemRenderer&&!(this._itemRenderer.length<=0)&&this.itemRenderer){var e=new this.itemRenderer;e.show(),e.data=t,e.itemIndex=this._itemRenderer.length,e.selected=!1,this.addChild(e),this._itemRenderer.push(e),this.updateDisplayList()}},e.prototype.getItemByIndex=function(t){return t<this._itemRenderer.length?this._itemRenderer[t]:null},e.prototype.show=function(){this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this);for(var t=0;t<this._itemRenderer.length;t++)this._itemRenderer[t].show()},e.prototype.hide=function(){this.touchEnabled=!1,this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this);for(var t=0;t<this._itemRenderer.length;t++)this._itemRenderer[t].hide()},e.prototype.onTouchTap=function(t){if(this._itemRenderer&&!(this._itemRenderer.length<=0)){var i=this._itemRenderer[0].width,n=this._itemRenderer[0].height,s=Math.floor(t.localX/(i+this.left+this.right)),o=Math.floor(t.localY/(n+this.top+this.bottom));s++,o++;var a;this._layout==e.VERTICAL?(o=o-1>=0?o-1:0,a=o*this.cols+s):this._layout==e.HORIZENTOL&&(s=s-1>=0?s-1:0,a=s*this.rows+o),a--,this.dispatchEventWith(e.ITEM_CLICKED,null,this._itemRenderer[a])}},e.VERTICAL="vertical",e.HORIZENTOL="horizental",e.ITEM_CLICKED="item_clicked",e}(t.BaseSprite);t.List=e,__reflect(e.prototype,"wy.List")}(wy||(wy={}));var wy;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.init(),t}return __extends(i,e),i.prototype.init=function(){this._container=new egret.DisplayObjectContainer,this._scroller=new egret.ScrollView(this._container),this.addChild(this._scroller),this._list=new t.List,this._container.addChild(this._list)},Object.defineProperty(i.prototype,"scrollTop",{set:function(t){this._scroller.scrollTop=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scrollLeft",{set:function(t){this._scroller.scrollLeft=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"verticalScrollPolicy",{set:function(t){this._scroller.verticalScrollPolicy=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"horizontalScrollPolicy",{set:function(t){this._scroller.horizontalScrollPolicy=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bounces",{set:function(t){this._scroller.bounces=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemRenderer",{set:function(t){this._list.itemRenderer=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._scroller.width=this._width},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._scroller.height=this._height},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dataProvider",{get:function(){return this._list.dataProvider},set:function(t){this._list.dataProvider=t},enumerable:!0,configurable:!0}),i.prototype.updateDisplayList=function(){this._list.updateDisplayList()},Object.defineProperty(i.prototype,"layout",{set:function(t){this._list.layout=t},enumerable:!0,configurable:!0}),i.prototype.updateItem=function(t,e){this._list.updateItem(t,e)},i.prototype.addItem=function(t){this._list.addItem(t)},i.prototype.show=function(){this._list.show()},i.prototype.hide=function(){this._list.hide()},i}(t.BaseSprite);t.ScrollerList=e,__reflect(e.prototype,"wy.ScrollerList")}(wy||(wy={}));var wy;!function(t){function e(t,e,i,n){r.changeScene(t,e,i,n)}function i(t,e){r.hideScene(t,e)}function n(t,e,i,n,s){void 0===s&&(s=!1),r.changeView(t,e,i,n,s)}function s(t,e){r.hideView(t,e)}function o(t,e,i,n,s){void 0===s&&(s=!0),r.openPopUpView(t,e,i,n,s)}function a(t,e){r.hidePopUpView(t,e)}var r=function(){function e(){}return e.init=function(){this.getViewMustNew=!0,this.panels=[],this.shape=new egret.Shape,this.shape.graphics.beginFill(0,.5),this.shape.graphics.drawRect(0,0,egret.MainContext.instance.stage.stageWidth,egret.MainContext.instance.stage.stageHeight),this.shape.graphics.endFill(),this.shape.touchEnabled=!0,this.viewshape=new egret.Shape,this.viewshape.graphics.beginFill(0,.5),this.viewshape.graphics.drawRect(0,0,egret.MainContext.instance.stage.stageWidth,egret.MainContext.instance.stage.stageHeight),this.viewshape.graphics.endFill(),this.viewshape.touchEnabled=!0},e.getView=function(t){var e,i;if(this.getViewMustNew||("string"==typeof t?e=this.panels[t]:(i=egret.getQualifiedClassName(t),e=this.panels[i])),null==e||void 0==e)if("string"==typeof t){var n=egret.getDefinitionByName(t);e=new n,this.panels[t]=e}else e=new t,i=egret.getQualifiedClassName(t),this.panels[i]=e;return e},e.changeScene=function(e,i,n,s){t.Tween.switchPagePopType=i,this.preScene=this.nowScene;var o=this.getView(e);o.show(n),t.GameInterface.sceneContainer.addChild(o),this.nowScene=o,this.preScene==this.nowScene&&(this.preScene=null),this.preScene&&this.preScene.hide(),i?this.play(this.nowScene,this.preScene,i,s):this.preScene&&t.Tools.removeFromParent(this.preScene)},e.hideScene=function(e,i){this.nowScene&&this.nowScene.hide(),e?(this.preScene=null,this.play(this.preScene,this.nowScene,e,i)):t.Tools.removeFromParent(this.nowScene)},e.changeView=function(e,i,n,s,o){void 0===o&&(o=!1),t.Tween.switchPagePopType=i,this.preView=this.nowView;var a=this.getView(e);a.show(n),o&&t.GameInterface.viewContainer.addChild(this.viewshape),t.GameInterface.viewContainer.addChild(a),this.nowView=a,this.preView==this.nowView&&(this.preView=null),this.preView&&this.preView.hide(),i?this.play(this.nowView,this.preView,i,s):this.preView&&t.Tools.removeFromParent(this.preView)},e.openPopUpView=function(e,i,n,s,o){void 0===o&&(o=!0),t.Tween.switchPagePopType=i,this.prePopUpView=this.nowPopUpView;var a=this.getView(e);a.show(n),a.x=.5*t.GameInterface.stage.stageWidth-.5*a.width+a.anchorOffsetX,a.y=.5*t.GameInterface.stage.stageHeight-.5*a.height+a.anchorOffsetY,o&&t.GameInterface.PopUpContainer.addChild(this.shape),t.GameInterface.PopUpContainer.addChild(a),this.nowPopUpView=a,this.prePopUpView==this.nowPopUpView&&(this.prePopUpView=null),this.prePopUpView&&this.prePopUpView.hide(),i?this.play(this.nowPopUpView,this.prePopUpView,i,s):this.prePopUpView&&t.Tools.removeFromParent(this.prePopUpView)},e.hideView=function(e,i){t.Tools.removeFromParent(this.viewshape),this.nowView&&this.nowView.hide(),e?(this.preView=null,this.play(this.preView,this.nowView,e,i)):t.Tools.removeFromParent(this.nowView)},e.hidePopUpView=function(e,i){t.Tools.removeFromParent(this.shape),this.nowPopUpView&&this.nowPopUpView.hide(),e?(this.prePopUpView=null,this.play(this.prePopUpView,this.nowPopUpView,e,i)):t.Tools.removeFromParent(this.nowPopUpView)},e.play=function(e,i,n,s){var o=egret.getDefinitionByName(n),a=new o;a&&a.switching(e,i,t.Tools.removeFromParent,this,s)},e.panels=null,e.preScene=null,e.nowScene=null,e.preView=null,e.nowView=null,e.prePopUpView=null,e.nowPopUpView=null,e.shape=null,e.viewshape=null,e.getViewMustNew=!0,e}();t.BaseViewManager=r,__reflect(r.prototype,"wy.BaseViewManager"),t.changeScene=e,t.hideScene=i,t.changeView=n,t.hideView=s,t.openPopUpView=o,t.hidePopUpView=a}(wy||(wy={}));var wy;!function(t){function e(t,e,i){s.getInstance().subscribeFunc(t,e,i)}function i(t,e,i){s.getInstance().unsubscribeFunc(t,e,i)}function n(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];(n=s.getInstance()).notify.apply(n,[t].concat(e));var n}var s=function(){function t(){this.regis=new Object,this.freshStrs=[]}return t.getInstance=function(){return(null==this.instance||void 0==this.instance)&&(this.instance=new t),this.instance},t.prototype.subscribeFunc=function(t,e,i){this.regis[e]||(this.regis[e]=[]);var n=this.freshStrs.indexOf(e);0>n&&this.freshStrs.push(e),this.regis[e].push({func:t,"this":i})},t.prototype.unsubscribeFunc=function(t,e,i){for(var n=this.regis[e],s=0;s<n.length;s++)if(n[s].func==t&&n[s]["this"]==i){n.splice(s,1);break}},t.prototype.notify=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n,s,o;for(s=0;s<this.freshStrs.length;s++)if(t==this.freshStrs[s])for(n=this.regis[this.freshStrs[s]],o=0;o<n.length;o++)if(n[o].func instanceof Function)if(n[o]["this"]){var a=n[o]["this"],r=n[o].func;r.apply(a,e)}else n[o].func(e)},t}();t.FreshNotifyManager=s,__reflect(s.prototype,"wy.FreshNotifyManager"),t.on=e,t.off=i,t.notify=n}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}return e.init=function(){t.Data.URL=window.gameUrl,this.type=this.getUrlParameter("type"),this.openid=this.getItemByName("openid"),this.headimgurl=this.getItemByName("imgURL"),this.nickname=this.getItemByName("name"),this.sex=this.getItemByName("sex"),this.city=this.getItemByName("city"),this.country=this.getItemByName("country"),this.shareid=this.getItemByName("shareid"),this.delCookie("idd"),this.delCookie("shareid"),this.delCookie("openid")},e.share=function(t,e,i){void 0===i&&(i=-1),0>i?(window.sharedata[t]=e,window.timelinedata[t]=e,window.wx.onMenuShareAppMessage(window.sharedata),window.wx.onMenuShareTimeline(window.timelinedata)):0==i?(window.sharedata[t]=e,window.wx.onMenuShareAppMessage(window.sharedata)):1==i&&(window.timelinedata[t]=e,window.wx.onMenuShareTimeline(window.timelinedata))},e.getItemByName=function(t){var e;return e=decodeURIComponent(decodeURIComponent(this.getCookie(t))),e||(e=window.localStorage.getItem(t),e||(e=egret.localStorage.getItem(t))),e},e.delItemByName=function(t){egret.localStorage.removeItem(t),window.localStorage.removeItem(t),this.delCookie(t)},e.getUrlParameter=function(t){var e=decodeURI(decodeURI(egret.getOption(t)));return e},e.getCookie=function(t){var e,i=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(i))?e[2]:null},e.delCookie=function(t){var e=new Date;e.setTime(e.getTime()-1);var i=this.getCookie(t);null!=i&&(document.cookie=t+"="+i+";expires="+e.toUTCString())},e.URL="",e}();t.Data=e,__reflect(e.prototype,"wy.Data")}(wy||(wy={}));var wy;!function(t){var e=function(){function t(){}return t.REMOVE="remove_items",t.REMOVE_OVER="remove_over",t}();t.FreshType=e,__reflect(e.prototype,"wy.FreshType")}(wy||(wy={}));var wy;!function(t){var e=function(){function t(t){t&&(this.jsondata=t,this.updateType())}return t.prototype.setData=function(t){t&&t instanceof Object&&(this.jsondata=t,this.updateType())},t.prototype.getDataByIndex=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=null;if(1==this.datatype)if(!e||e.length<=0)n=this.jsondata[t];else{for(var s=this.jsondata,o=0,a=e.length;a>o&&s;++o)for(var r=0,h=s.length;h>r;++r)if(s[r].label==e[o]){s=s[r].children;break}n=0>t?s:t<s.length?s[t]:null}return n},t.prototype.getDataByLabel=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=null;if(1==this.datatype)if(!t||t.length<=0)i=null;else{for(var n=this.jsondata,s=0,o=t.length;o>s&&n;++s)for(var a=0,r=n.length;r>a;++a)if(n[a].label==t[s]){n=n[a].children;break}i=n}return i},t.prototype.getLabelArray=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=null;if(1==this.datatype)if(!t||t.length<=0)i=null;else{for(var n=this.jsondata,s=0,o=t.length;o>s&&n;++s)for(var a=0,r=n.length;r>a;++a)if(n[a].label==t[s]){n=n[a].children;break}if(n&&n.length>0){i=[];for(var s=0,r=n.length;r>s;s++){if(!n[s].hasOwnProperty("label"))throw Error("json 数据没有 label 属性 ");i.push(n[s].label)}}}return i},t.prototype.getLabelObjArray=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!t)return null;var n=null;if(1==this.datatype)if(!e||e.length<=0)n=null;else{for(var s=this.jsondata,o=0,a=e.length;a>o&&s;++o)for(var r=0,h=s.length;h>r;++r)if(s[r].label==e[o]){s=s[r].children;break}if(s&&s.length>0){n=[];for(var o=0,h=s.length;h>o;o++){if(!s[o].hasOwnProperty("label"))throw Error("json 数据没有 label 属性 ");n.push({key:s[o].label})}}}return n},t.prototype.updateType=function(){this.jsondata?this.jsondata instanceof Object&&this.jsondata instanceof Array?this.datatype=1:this.jsondata instanceof Object?this.datatype=0:this.datatype=-1:this.datatype=-1,console.log("datatype="+this.datatype)},t}();t.Json=e,__reflect(e.prototype,"wy.Json")}(wy||(wy={}));var wy;!function(t){var e=function(){function t(){}return t.LEFTIN="wy.PageLeftIn",t.RIGHTIN="wy.PageRightIn",t.TOPIN="wy.PageTopIn",t.BOTTOMIN="wy.PageBottomIn",t.ALPHAIN="wy.PageAlphaIn",t.EJECTIN="wy.PageScaleIn",t.LEFTOUT="wy.PageLeftOut",t.RIGHTOUT="wy.PageRightOut",t.TOPOUT="wy.PageTopOut",t.BOTTOMOUT="wy.PageBottomOut",t.ALPHAOUT="wy.PageAlphaOut",t.EJECTOUT="wy.PageScaleOut",t}();t.PopType=e,__reflect(e.prototype,"wy.PopType")}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){this._fontSize=20,this._id="gameID";var t=document.getElementById(this._id);this.p=document.createElement("p"),t.appendChild(this.p),this.p.style.border="0px",this.p.style.backgroundColor="transparent",this.p.style.position="absolute",this.p.style.fontSize=this.fontSize+"px",this.p.style.display="none",this.p.style.color="#036eb8",this.p.style.textAlign="center"}return Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize=t,this.p.style.fontSize=this._fontSize+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t){this.p.style.display="inline",this.p.innerHTML=t},e.prototype.setPosition=function(e,i,n,s){var o=document.body.clientWidth/t.StageMain.StageUtils.stageWidth,a=document.body.clientHeight/t.StageMain.StageUtils.stageHeight;this.p.style.left=e*o+"px",this.p.style.top=i*a-this.fontSize+"px",this.p.style.width=n*o+"px",this.p.style.height=s*a+"px",this.p.style.display="inline"},e.prototype.show=function(){this.p&&(this.p.style.display="inline")},e.prototype.hide=function(){this.p&&(this.p.style.display="none")},e}();t.HTMLText=e,__reflect(e.prototype,"wy.HTMLText")}(wy||(wy={}));var SocketManager=function(){function t(){this.soud=RES.getRes("end_wav")}return t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t.prototype.init=function(){this.socket=new egret.WebSocket,this.socket.type=egret.WebSocket.TYPE_STRING,this.socket.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.onReceiveMessage,this),this.socket.addEventListener(egret.Event.CONNECT,this.onSocketOpen,this),this.socket.addEventListener(egret.Event.CLOSE,this.onSocketClose,this),this.socket.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onSocketError,this)},t.prototype.start=function(t,e){this.socket.connect(t,e),wy.LoadingData.open(!1),this.state="",this.inRank=!1},t.prototype.end=function(){this.socket.close()},t.prototype.onReceiveMessage=function(t){var e,i=this.socket.readUTF();if(e=JSON.parse(i),e.type==""+StaticVar.type&&"1"==e.die)this.soud&&this.soud.play(0,1);else if("1"==e.gameover)for(var n=0;n<e.data.length;n++)if(e.data[n][0]==""+StaticVar.type){wy.changeScene(OnePeople,"",[n+1,e.data[n]]),this.socket.close();break}},t.prototype.send=function(t){this.socket.writeUTF(JSON.stringify(t))},t.prototype.onSocketOpen=function(t){wy.LoadingData.close(),egret.log("websocket connected!链接成功")},t.prototype.onSocketClose=function(t){egret.log("websocket disconnected!"),wy.notify("duankai")},t.prototype.onSocketError=function(t){wy.Dialog.show("参数错误",this)},t}();__reflect(SocketManager.prototype,"SocketManager");var wy;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),Object.defineProperty(e,"StageUtils",{get:function(){return StageUtils.getInstance()},enumerable:!0,configurable:!0}),e}(SingleClass);t.StageMain=e,__reflect(e.prototype,"wy.StageMain")}(wy||(wy={}));var StageUtils=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(t){this.stage=t},Object.defineProperty(e.prototype,"stageWidth",{get:function(){return this.stage.stageWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stageHeight",{get:function(){return this.stage.stageHeight},enumerable:!0,configurable:!0}),e}(SingleClass);__reflect(StageUtils.prototype,"StageUtils");var StaticVar=function(){function t(){}return t.type=2,t}();__reflect(StaticVar.prototype,"StaticVar");var kongzhi=function(t){function e(){var e=t.call(this)||this;return e.a_num=-1,e.isjiasu=0,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this)
},e.prototype.show=function(i){var n=this;this.kzbg.alpha=0,t.prototype.show.call(this,i);var s=wy.Tools.createBitmapByName("p1_bg_jpg");this.addChildAt(s,0),wj.Donghua.yingru(this.title,0,300),wy.Tools.center(this.kzbg),wy.Tools.center(this.kzby),wy.Tools.center(this.btn);var o=wy.Tools.createBitmapByName("chongzi"+StaticVar.type+"_png");e.cunshe=o,this.chong=o,this.addChild(o),o.touchEnabled=!0,o.addEventListener(egret.TouchEvent.TOUCH_TAP,this.click,this),wy.Tools.center(o),wj.Donghua.doudong(o),o.x=518,o.y=320,this.slideText=new egret.TextField,this.slideText.text="滑动控制角色",this.slideText.x=this.kzbg.x-60,this.slideText.y=this.height/2-80,this.slideText.width=200,this.slideText.height=40,this.slideText.size=20,this.slideText.textColor=0,this.slideText.fontFamily="微软雅黑",this.slideText.bold=!0,this.slideText.alpha=.3,this.addChild(this.slideText),this.quickeText=new egret.TextField,this.quickeText.text="按下持续加速",this.quickeText.x=this.btn.x-50,this.quickeText.y=this.height/2,this.quickeText.width=200,this.quickeText.height=40,this.quickeText.size=20,this.quickeText.textColor=0,this.quickeText.fontFamily="微软雅黑",this.quickeText.bold=!0,this.quickeText.alpha=.3,this.addChild(this.quickeText),this.carousel=new egret.TextField,this.carousel.text="你的手机已经变成游戏手柄了，看着大屏参与游戏吧!",this.carousel.width=550,this.carousel.height=40,this.carousel.x=this.width/2-this.carousel.width/2,this.carousel.y=this.height-25,this.carousel.size=22,this.carousel.textColor=0,this.carousel.fontFamily="微软雅黑",this.carousel.bold=!0,this.carousel.alpha=.3,this.carousel.textAlign="center",this.addChild(this.carousel),this.kzbg.width=this.kzbg.height=150,this.btn.name="";var a=this.btn;a.touchEnabled=!0,a.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){n.isjiasu=1},this),a.addEventListener(egret.TouchEvent.TOUCH_END,function(){n.isjiasu=0},this),this.conturol()},e.prototype.click=function(){var t=this;this.chong.touchEnabled=!1,egret.setTimeout(function(){t.chong.touchEnabled=!0},this,1e4),SocketManager.getInstance().socket.connected?SocketManager.getInstance().send({type:StaticVar.type,openid:wy.Data.openid,shan:1}):SocketManager.getInstance().start("39.106.5.94",9555)},e.prototype.hide=function(){t.prototype.hide.call(this),this.chong.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.click,this)},e.prototype.onTouchTap=function(t){switch(t.currentTarget){}},e.prototype.conturol=function(){var t=new egret.Shape;t.graphics.beginFill(0,.5),t.graphics.drawCircle(this.kzbg.x,this.kzbg.y,150),console.log(this.kzbg.x),console.log(this.kzbg.y),t.graphics.endFill(),t.alpha=.5,this.addChild(t),t.touchEnabled=!0,this.contorl_bg=t,this.contorl_bg1=wj.Mytools.createshap(0,0,518,640,0,0),this.contorl_bg1.touchEnabled=!0,this.addChildAt(this.contorl_bg1,this.getChildIndex(this.contorl_bg)),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouch,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.endTouch,this),this.contorl=this.kzby,this.contorl.x=this.kzbg.x,this.contorl.y=this.kzbg.y,this.contorl.alpha=.5,this.addChild(this.contorl)},e.prototype.onTouch=function(t){t.target==this.contorl_bg?(SocketManager.getInstance().socket.connected?SocketManager.getInstance().send({x:t.stageX,y:t.stageY,z:this.isjiasu,type:StaticVar.type,openid:wy.Data.openid}):SocketManager.getInstance().start("39.106.5.94",9555),this.contorl.x=t.localX,this.contorl.y=t.localY,this.x_jn=t.localX,this.y_jn=t.localY):t.target==this.contorl_bg1&&(SocketManager.getInstance().socket.connected?SocketManager.getInstance().send({x:t.stageX,y:t.stageY,z:this.isjiasu,type:StaticVar.type,openid:wy.Data.openid}):SocketManager.getInstance().start("39.106.5.94",9555))},e.prototype.endTouch=function(t){this.contorl.x=this.kzbg.x,this.contorl.y=this.kzbg.y,t.target==this.contorl_bg},e}(kongzhiUI);__reflect(kongzhi.prototype,"kongzhi");var LoadingUI=function(t){function e(){var e=t.call(this)||this,i=document.getElementById("loading");return i.parentNode&&i.parentNode.removeChild(i),document.body.style.background="#000",e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.shape=wy.Tools.createMovieClip("loading"),this.addChild(this.shape),this.shape.play(-1),this.shape.scaleX=this.shape.scaleY=.7,this.shape.x=257,this.shape.y=300,this.lineDown=new egret.Shape,this.lineDown.graphics.lineStyle(.5,16777215,.5),this.lineDown.graphics.moveTo(0,0),this.lineDown.graphics.lineTo(120,0),this.lineDown.graphics.endFill(),this.addChild(this.lineDown),this.lineUp=new egret.Shape,this.addChild(this.lineUp),this.lineDown.x=this.width/2-this.lineDown.width/2,this.lineDown.y=830,this.lineUp.x=this.lineDown.x,this.lineUp.y=this.lineDown.y,this.textField.text=""},e.prototype.hide=function(){t.prototype.hide.call(this)},e.prototype.setProgress=function(t,e){var i=Math.round(100*t/e);this.lineUp.graphics.clear(),this.lineUp.graphics.lineStyle(2,0,1),this.lineUp.graphics.moveTo(0,0),this.lineUp.graphics.lineTo(this.lineDown.width*i/100,0)},e}(LoadingUIUI);__reflect(LoadingUI.prototype,"LoadingUI");var OnePeople=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this)},e.prototype.getstr=function(t){var e=(t/60>>0)+"分"+t%60+"秒";return e},e.prototype.show=function(e){t.prototype.show.call(this,e),wj.Donghua.shansuo2(this.shan1,0,100),wj.Donghua.shansuo2(this.shan2,0,220),wj.Donghua.lianxu([this.xin1,this.xin2,this.xin3],0,120),wj.Donghua.shansuo(this.guang1,1e3,300),this.chongzi.alpha=0,wj.Mytools.zhongxia(this.chongzi),this.addChild(kongzhi.cunshe),kongzhi.cunshe.x=this.chongzi.x,kongzhi.cunshe.y=this.chongzi.y,kongzhi.cunshe.y-=kongzhi.cunshe.height>>1,this.lv.text="第"+e[0]+"名",this.lv.bold=!0,this.l1.text="累计复活次数："+e[1][1],this.l2.text="总击杀次数："+e[1][2],this.l3.text="最大分数："+e[1][3],this.l4.text="最大存活时间:"+this.getstr(Number(e[1][4]))},e.prototype.hide=function(){t.prototype.hide.call(this)},e.prototype.onTouchTap=function(t){switch(t.currentTarget){case this.bg:break;case this.l1:break;case this.l2:break;case this.l3:break;case this.l4:break;case this.guang2:break;case this.shan2:break;case this.xin2:break;case this.xin3:break;case this.xin1:break;case this.chongzi:break;case this.guang1:break;case this.shan1:}},e}(OnePeopleUI);__reflect(OnePeople.prototype,"OnePeople");var wy;!function(t){var e=function(){function e(){}return e.init=function(t,e,i,n,s,o){void 0===s&&(s=50),void 0===o&&(o=50),this.posX=s,this.posY=o,this.playImg=i,n?this.stopImg=n:this.stopImg=this.playImg,this.createMusicBtn(),this.btnNeedParent=!0,this.loadMusic(t,e)},e.loadMusic=function(t,e){void 0===e&&(e=!0),this.bgmSound=new egret.Sound,this.bgmSound.addEventListener(egret.Event.COMPLETE,this.onLoadFinish,this),this.bgmSound.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onLoadFinish,this),this.bgmSound.load("resource/assets/"+t+".mp3"),this.needStart=e},e.onLoadFinish=function(e){this.bgmSound=e.target,this.needStart&&(window.wx&&window.is_weixin()?window.wx.getNetworkType({success:function(e){e.networkType;t.BGM.startMusic()}}):this.startMusic())},e.onLoadError=function(t){egret.warn("音频加载出错")},e.startMusic=function(){this.bgmSound&&(this.musicBtn&&0==this.musicBtn.state&&this.onClickMusicBtn(),this.btnNeedParent&&this.musicBtn&&!this.musicBtn.parent&&(t.GameInterface.stage.addChild(this.musicBtn),this.musicBtn.x=this.posX,this.musicBtn.y=this.posY))},e.endMusic=function(){this.musicBtn&&1==this.musicBtn.state&&this.onClickMusicBtn()},e.setXY=function(t,e){this.musicBtn&&(this.posX=t,this.posY=e,this.musicBtn.x=t,this.musicBtn.y=e)},e.createMusicBtn=function(){this.musicBtn=t.Tools.createBitmapByName(this.playImg),t.Tools.center(this.musicBtn),this.musicBtn.state=0,this.musicBtn.touchEnabled=!0,egret.Tween.get(this.musicBtn,{loop:!0}).to({rotation:360},4e3),egret.Tween.pauseTweens(this.musicBtn),this.musicBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMusicBtn,this)},e.onClickMusicBtn=function(t){void 0===t&&(t=null),1==this.musicBtn.state?(this.musicBtn.state=0,this.musicBtn.texture=RES.getRes(this.stopImg),this.bgmSound&&(this.bgmChannel.stop(),egret.Tween.pauseTweens(this.musicBtn),this.musicBtn.rotation=0)):(this.musicBtn.state=1,this.musicBtn.texture=RES.getRes(this.playImg),this.bgmSound&&(this.bgmChannel&&this.bgmChannel.stop(),this.bgmChannel=this.bgmSound.play(0,1e4),this.musicBtn.rotation=0,egret.Tween.resumeTweens(this.musicBtn)))},e.needStart=!0,e}();t.BGM=e,__reflect(e.prototype,"wy.BGM")}(wy||(wy={}));var wj;!function(t){var e=function(){function e(){}return e.checkMobile=function(t){var e=/^0?1[3|4|5|8|7][0-9]\d{8}$/;return e.test(t)?!0:!1},e.checkShengfenzheng=function(t){var e=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;return e.test(t)?!0:!1},e.checkzhongwen=function(t){var e=/[^\u4e00-\u9fa5]/;return e.test(t)?!1:!0},e.checkyingwen=function(t){var e=/[^a-zA-Z]/;return e.test(t)?!1:!0},e.checkshuzi=function(t){var e=/^[0-9]*$/;return e.test(t)?!0:!1},e.checkzijie=function(e){e||(e="");for(var i=0,n=0;n<e.length;n++)t.Mytools.checkzhongwen(e.charAt(n))?i+=2:i++;return i},e.checkYouxiang=function(t){var e=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return e.test(t)?!0:!1},e.huaxian=function(e,i,n,s){void 0===i&&(i=0),void 0===n&&(n=4),void 0===s&&(s=new egret.Rectangle(0,0,640,1036)),t.Mytools._dianji=[],t.Mytools._leng=[];var o=new egret.DisplayObjectContainer;o.width=s.width,o.height=s.height;var a;return e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(e){o.dispatchEventWith("ssss");var r=new egret.Point(e.stageX,e.stageY);t.Mytools._dianji.push(r),a=new egret.Shape,t.Mytools._qidian.x=e.stageX,t.Mytools._qidian.y=e.stageY,a.graphics.lineStyle(n,i),a.graphics.moveTo(e.stageX,e.stageY),a.x-=o.x,a.y-=o.y,o.addChild(a),o.mask=s},this),e.addEventListener(egret.TouchEvent.TOUCH_MOVE,function(e){if(a)a.graphics.lineTo(e.stageX,e.stageY);else{o.dispatchEventWith("ssss");var r=new egret.Point(e.stageX,e.stageY);t.Mytools._dianji.push(r),a=new egret.Shape,t.Mytools._qidian.x=e.stageX,t.Mytools._qidian.y=e.stageY;var r=new egret.Point(e.stageX,e.stageY);t.Mytools._dianji.push(r),a.graphics.lineStyle(n,i),a.graphics.moveTo(e.stageX,e.stageY),a.x-=o.x,a.y-=o.y,o.addChild(a),o.mask=s}},this),e.addEventListener(egret.TouchEvent.TOUCH_END,function(e){return a&&a.graphics.endFill(),t.Mytools._leng.push(t.Mytools._dianji.length),a},this),o},e.dong=function(t,e,i,n){void 0===e&&(e=4),void 0===i&&(i=!0);for(var s=0;s<t.length;s++)t[s].alpha=0;t[0].alpha=1;var o=0,a=egret.setInterval(function(){for(var e=0;e<t.length;e++)t[e].alpha=0,e==o&&(t[e].alpha=1);o++,i?o%=t.length:o==t.length&&(n&&n(),egret.clearInterval(a))},this,1e3/e);return a},e.creatdonghua=function(e,i,n,s){void 0===n&&(n=24),void 0===s&&(s=0);var o=e.length,a=-1;return 0==o?null:(t.Mytools.tu=t.Mytools.createBitmapByName(e[0]),i.addChild(t.Mytools.tu),void egret.setTimeout(function(){var s=egret.setInterval(function(){return a++,t.Mytools.tu.texture=RES.getRes(e[a]),a==o-1&&(a=-1),s},i,1e3/n)},i,s))},e.creatdonghua2=function(e,i,n,s){void 0===n&&(n=24),void 0===s&&(s=0);var o=e.length,a=-1;return 0==o?null:(t.Mytools.tu2=t.Mytools.createBitmapByName(e[0]),i.addChild(t.Mytools.tu2),void egret.setTimeout(function(){var s=egret.setInterval(function(){a++,t.Mytools.tu2.texture=RES.getRes(e[a]),a==o-1&&egret.clearInterval(s)},i,1e3/n)},i,s))},e.createvideo=function(t,e,i,n,s,o,a,r,h){void 0===o&&(o=0),void 0===a&&(a=0),void 0===r&&(r=640),void 0===h&&(h=320);var c=new egret.Video;return c.x=o,c.y=a,c.width=r,c.height=h,c.fullscreen=!1,c.poster=e,c.load(i),c.once(egret.Event.COMPLETE,n,this),c.once(egret.IOErrorEvent.IO_ERROR,s,this),c},e.createTextField=function(t,e,i,n,s,o){void 0===t&&(t=0);var a=new egret.TextField;return e&&(a.width=e),i&&(a.height=i),n&&(a.x=n),s&&(a.y=s),o?a.size=o:a.size=28,1==t&&(a.type=egret.TextFieldType.INPUT),a.textAlign="center",a},e.createReField=function(e,i,n){return void 0===i&&(i=1),n||(n=t.Mytools.createTextField(1)),n.addEventListener(egret.Event.CHANGE,function(t){switch(i){case 0:n.restrict="一-龥";break;case 1:n.restrict="0-9",n.inputType=egret.TextFieldInputType.TEL;break;case 2:n.restrict="a-zA-z_";break;case 3:n.restrict="a-zA-z_0-9";break;case 4:n.restrict="0-9",n.inputType=egret.TextFieldInputType.TEL,n.maxChars=11}},e),n},e.like=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},e.jiaohuanweizi=function(t,e){var i=t.x,n=t.y;t.x=e.x,t.y=e.y,e.x=i,e.y=n},e.yasuoshangchuang=function(e,i,n,s,o){void 0===s&&(s=100),void 0===o&&(o=100),wy.Tools.upload_base64(t.Mytools.yasuotupian(i,n,s,o).toDataURL("image/png"),e,i)},e.prototype.getPercent=function(t,e){if(null==t)return 0;for(var i=t.getPixels(0,0,t.textureWidth,t.textureHeight),n=0,s=0;s<i.length;s+=4*e)0!=i[s]&&n++;return parseFloat((4*n*e/i.length*100).toFixed(1))},e.yasuotupian=function(t,e,i,n){var s=new egret.Bitmap(e);s.width=100,i&&(s.width=i),s.height=100,n&&(s.height=n),t.addChild(s);var o=new egret.RenderTexture;return o.drawToTexture(t,new egret.Rectangle(0,0,s.width,s.height)),t.removeChild(s),o},e.createScolltext=function(e,i){void 0===i&&(i=30),e.multiline=!0;var n=t.Mytools.createshap(0,0,e.width,e.height,16711680,0);n.x=e.x,n.y=e.y,e.parent.addChild(n);var s=-1,o=0;n.touchEnabled=!0,e.parent.addChildAt(n,e.parent.getChildIndex(e)),n.addEventListener(egret.TouchEvent.TOUCH_MOVE,function(t){-1==s?s=t.stageY:(t.stageY>s?(o+=t.stageY-s,o>=i&&(o-=i,e.scrollV-=1,0==e.scrollV&&(e.scrollV=1))):(o+=s-t.stageY,o>=i&&(o-=i,e.scrollV==e.maxScrollV||(e.scrollV+=1))),s=t.stageY)},e.parent),n.parent.addEventListener(egret.TouchEvent.TOUCH_END,function(t){s=-1},e.parent)},e.GetBtn1=function(t,e,i,n,s){var o=new egret.Sprite;return o.graphics.beginFill(16711680,0),o.graphics.drawRect(0,0,t,e),o.graphics.endFill(),o.width=t,o.height=e,o.x=i,o.y=n,o.touchEnabled=!0,s&&s.addChild(o),o},e.setweiz=function(t,e,i,n,s){t.x=e,t.y=i,t.width=n,t.height=s},e.oneAction=function(t){this._isonce&&(t(),this._isonce=!1)},e.maodian=function(t,e,i){t.x-=t.anchorOffsetX,t.y-=t.anchorOffsetY,t.anchorOffsetX=e-t.x,t.anchorOffsetY=i-t.y,t.x+=e-t.x,t.y+=i-t.y},e.youshang=function(t){t.x-=t.anchorOffsetX,t.y-=t.anchorOffsetY,t.anchorOffsetX=t.width,t.anchorOffsetY=0,t.x+=t.anchorOffsetX,t.y+=t.anchorOffsetY},e.youzhong=function(t){t.x-=t.anchorOffsetX,t.y-=t.anchorOffsetY,t.anchorOffsetX=t.width,t.anchorOffsetY=t.height>>1,t.x+=t.anchorOffsetX,t.y+=t.anchorOffsetY},e.youxia=function(t){t.x-=t.anchorOffsetX,t.y-=t.anchorOffsetY,t.anchorOffsetX=t.width,t.anchorOffsetY=t.height,t.x+=t.anchorOffsetX,t.y+=t.anchorOffsetY},e.zhongshang=function(t){t.x-=t.anchorOffsetX,t.y-=t.anchorOffsetY,t.anchorOffsetX=t.width>>1,t.anchorOffsetY=0,t.x+=t.anchorOffsetX,t.y+=t.anchorOffsetY},e.zhongxia=function(t){t.x-=t.anchorOffsetX,t.y-=t.anchorOffsetY,t.anchorOffsetX=t.width>>1,t.anchorOffsetY=t.height,t.x+=t.anchorOffsetX,t.y+=t.anchorOffsetY},e.zuozhong=function(t){t.x-=t.anchorOffsetX,t.y-=t.anchorOffsetY,t.anchorOffsetY=t.height>>1,t.anchorOffsetX=0,t.x+=t.anchorOffsetX,t.y+=t.anchorOffsetY},e.zuoxia=function(t){t.x-=t.anchorOffsetX,t.y-=t.anchorOffsetY,t.anchorOffsetY=t.height,t.anchorOffsetX=0,t.x+=t.anchorOffsetX,t.y+=t.anchorOffsetY},e.cut=function(e,i){var n="";return t.Mytools.checkzijie(e)>i?(n=e.substr(0,e.length-1),this.cut(n,i)):e},e.zishuguochang=function(e,i){var n;return n=t.Mytools.checkzijie(e)<=i?e:this.cut(e,i)+"..."},e.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},e.createshap=function(t,e,i,n,s,o){void 0===s&&(s=16777215),void 0===o&&(o=1);var a=new egret.Shape;return a.graphics.beginFill(s,o),a.graphics.drawRect(0,0,i,n),a.graphics.endFill(),a.x=t,a.y=e,a},e.createshap1=function(t,e,i,n,s,o,a){void 0===s&&(s=16777215),void 0===o&&(o=1),void 0===a&&(a=10);var r=new egret.Shape;return r.graphics.beginFill(s,o),r.graphics.drawRoundRect(t,e,i,n,a,a),r.graphics.endFill(),r},e.createshap2=function(t,e,i,n,s){void 0===n&&(n=16777215),void 0===s&&(s=1);var o=new egret.Shape;return o.graphics.beginFill(n,s),o.graphics.drawCircle(t,e,i),o.graphics.endFill(),o},e._dianji=[],e._leng=[],e._qidian=new egret.Point(0,0),e.tu=null,e.tu2=null,e._isonce=!0,e}();t.Mytools=e,__reflect(e.prototype,"wj.Mytools");var i=function(){function e(){}return e.jianxian=function(e,i,n,s){if(void 0===i&&(i=1e3),void 0===n&&(n=2e3),void 0===s&&(s=2),2==s){var o=20,a=new egret.Sprite,r=t.Mytools.createshap(0,-o,e.width,e.height);a.addChild(r);for(var h=1;20>=h;h++){var c=t.Mytools.createshap(0,e.height-o/20*h,e.width,o/20,0,h/20);a.addChild(c)}a.x=e.x,a.y=e.y-e.height,e.parent.addChild(a),e.mask=a,egret.setTimeout(function(){egret.Tween.get(a).to({y:e.y+o},n)},e.parent.addChild(a),i)}else{var o=20,a=new egret.Sprite,r=t.Mytools.createshap(0-o,0,e.width,e.height);a.addChild(r);for(var h=1;20>=h;h++){var c=t.Mytools.createshap(e.width-o/20*h,0,o/20,e.height,0,h/20);a.addChild(c)}a.x=e.x-e.width,a.y=e.y,e.parent.addChild(a),e.mask=a,egret.setTimeout(function(){egret.Tween.get(a).to({x:e.x+o},n).call(function(){e.parent.removeChild(a)})},e.parent.addChild(a),i)}},e.yaobai=function(e,i,n){void 0===i&&(i=800),void 0===n&&(n=1e3);var s=e.parent;egret.setTimeout(function(){t.Mytools.zhongxia(e),egret.Tween.get(e,{loop:!0}).to({skewX:-3},n).to({skewX:3},2*n).to({skewX:0},n)},s,i)},e.youyi=function(e,i,n){void 0===i&&(i=1e3);var s=e.parent,o=new egret.Bitmap(e.texture);return t.Mytools.like(o,e),o.x=-e.width,s.addChildAt(o,s.getChildIndex(e)),egret.setTimeout(function(){var t=egret.setInterval(function(){e.x+=n,o.x+=n,e.x>=e.width&&(e.x=-e.width),o.x>=o.width&&(o.x=-o.width)},s,1e3/24);return t},s,i),-1},e.liuxin=function(t,e,i){void 0===e&&(e=1e3),void 0===i&&(i=1e4);var n=t.parent,s=t.width,o=t.x,a=t.y;egret.setTimeout(function(){wy.Tools.center(t),egret.Tween.get(t).to({x:-s,y:a+s+o},i)},n,e)},e.yingru=function(t,e,i){void 0===e&&(e=1e3),void 0===i&&(i=350);var n=t.parent;t.alpha=0,t.scaleX=2,t.scaleY=2,wy.Tools.center(t),egret.setTimeout(function(){t.alpha=1,egret.Tween.get(t).to({scaleX:1,scaleY:1},i)},n,e)},e.shansuo=function(t,e,i){void 0===e&&(e=1e3),void 0===i&&(i=1e3);var n=t.parent;egret.setTimeout(function(){t.alpha=1,egret.Tween.get(t,{loop:!0}).to({alpha:0},i).to({alpha:1},i)},n,e)},e.shansuo2=function(t,e,i){void 0===e&&(e=1e3),void 0===i&&(i=1e3);var n=t.parent;egret.setTimeout(function(){egret.Tween.get(t,{loop:!0}).to({alpha:.5},i).to({alpha:1},i)},n,e)},e.xialuo=function(e,i,n){void 0===i&&(i=1e3),void 0===n&&(n=10);var s=e.parent,o=new egret.Bitmap(e.texture);return t.Mytools.like(o,e),o.y=-e.height,s.addChildAt(o,s.getChildIndex(e)),egret.setTimeout(function(){var t=egret.setInterval(function(){e.y+=n,o.y+=n,e.y>=e.height&&(e.y=-e.height),o.y>=o.height&&(o.y=-o.height)},s,1e3/24);return t},s,i),-1},e.xuanzhuan=function(t,e,i){void 0===e&&(e=2e3),void 0===i&&(i=1e4);var n=t.parent;egret.setTimeout(function(){wy.Tools.center(t),egret.Tween.get(t,{loop:!0}).to({rotation:360},i)},n,e)},e.zhuanru=function(t,e,i){void 0===e&&(e=2e3),void 0===i&&(i=1e4),wy.Tools.center(t),t.scaleX=t.scaleY=0;var n=t.parent;egret.setTimeout(function(){egret.Tween.get(t).to({rotation:1080,scaleX:1,scaleY:1},i)},n,e)},e.fadasuoxiao=function(t,e,i){void 0===e&&(e=1e3),void 0===i&&(i=1e3);var n=t.parent;egret.setTimeout(function(){wy.Tools.center(t),egret.Tween.get(t,{loop:!0}).to({scaleX:.9,scaleY:.9},i).to({scaleX:1,scaleY:1},i)},n,e)},e.doudong=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=300);var n=t.parent;egret.setTimeout(function(){wy.Tools.center(t),egret.Tween.get(t,{loop:!0}).to({y:t.y+3},i).to({y:t.y-3},2*i).to({y:t.y},i)},n,e)},e.zuofeiru=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=1e3);var n=t.parent,s=t.x;t.x=-t.width,egret.setTimeout(function(){egret.Tween.get(t).to({x:s},i,egret.Ease.elasticOut)},n,e)},e.zuofeiru1=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=1e3);var n=t.parent,s=t.x;t.x=-t.width,egret.setTimeout(function(){egret.Tween.get(t).to({x:s},i)},n,e)},e.youfeiru=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=1e3);var n=t.parent,s=t.x;t.x=640,egret.setTimeout(function(){egret.Tween.get(t).to({x:s},i,egret.Ease.elasticOut)},n,e)},e.youfeiru1=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=1e3);var n=t.parent,s=t.x;t.x=640,egret.setTimeout(function(){egret.Tween.get(t).to({x:s},i)},n,e)},e.shangfeiru=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=1e3);var n=t.parent,s=t.y;t.y=-t.height,egret.setTimeout(function(){egret.Tween.get(t).to({y:s},i)},n,e)},e.shangfeiru1=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=1e3);var n=t.parent,s=t.y;t.y=-t.height,egret.setTimeout(function(){egret.Tween.get(t).to({y:s},i,egret.Ease.elasticOut)},n,e)},e.hengchushang=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=1e3);var n=t.parent;t.scaleY=0,egret.setTimeout(function(){egret.Tween.get(t).to({scaleY:1},i,egret.Ease.elasticOut)},n,e)},e.hengchuxia=function(e,i,n){void 0===i&&(i=800),void 0===n&&(n=1e3);var s=e.parent;t.Mytools.zuoxia(e),e.scaleY=0,egret.setTimeout(function(){egret.Tween.get(e).to({scaleY:1},n)},s,i)},e.hengchuzhong=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=1e3);var n=t.parent;wy.Tools.center(t),t.scaleY=0,egret.setTimeout(function(){egret.Tween.get(t).to({scaleY:1},i,egret.Ease.elasticOut)},n,e)},e.danru=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=1e3);var n=t.parent;t.alpha=0,egret.setTimeout(function(){egret.Tween.get(t).to({alpha:1},i)},n,e)},e.danchu=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=1e3);var n=t.parent;t.alpha=1,egret.setTimeout(function(){egret.Tween.get(t).to({alpha:0},i)},n,e)},e.xiafeiru=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=1e3);var n=t.parent,s=t.y;t.y=1036+t.height,egret.setTimeout(function(){egret.Tween.get(t).to({y:s},i)},n,e)},e.zuoyouyaobai=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=300);var n=t.parent;egret.setTimeout(function(){wy.Tools.center(t),egret.Tween.get(t,{loop:!0}).to({x:t.x+3},i).to({x:t.x-3},i)},n,e)},e.yaoyiyao=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=300);var n=t.parent;egret.setTimeout(function(){wy.Tools.center(t),egret.Tween.get(t,{loop:!0}).to({rotation:15},i).to({rotation:-15},600).to({rotation:0},i)},n,e)},e.lianxu=function(t,e,i){void 0===e&&(e=800),void 0===i&&(i=1e3);var n=t[0].parent;t[0].x;egret.setTimeout(function(){for(var e=0;e<t.length;e++)wy.Tools.center(t[e]);egret.setInterval(function(){for(var e=0;e<t.length;e++)egret.Tween.get(t[e]).wait(2*i*e).to({scaleX:1.1,scaleY:1.1},i).to({scaleX:1,scaleY:1},i)},n,2*i*t.length)},n,e)},e.qishi=function(e,i,n){void 0===i&&(i=800),void 0===n&&(n=300),t.Donghua.isqis=!1;var s=e.parent,o=new egret.Bitmap(e.texture);return t.Mytools.like(o,e),wy.Tools.center(o),egret.setTimeout(function(){s.addChild(o),wy.Tools.center(e),egret.Tween.get(o,{loop:!0}).to({alpha:1,scaleX:1,scaleY:1},0).to({alpha:0,scaleX:1.2,scaleY:1.2},n).call(function(){t.Donghua.isqis&&wy.Tools.stop(o)})},s,i),o},e.isqis=!1,e}();t.Donghua=i,__reflect(i.prototype,"wj.Donghua");var n=function(){function t(){}return t.setContent=function(t,e,i,n){void 0===e&&(e=wy.GameInterface),void 0===i&&(i=900),void 0===n&&(n=!1);var s=this.InstanceSpr();this.toastText.text=t,egret.Tween.removeTweens(s),n&&(s.y=1036,egret.Tween.get(s).to({y:i},500)),egret.Tween.get(s).to({alpha:1},300).wait(2e3).to({alpha:0},300).call(function(){s.parent&&s.parent.removeChild(s)}),s.y=i,e.stage.addChild(s)},t.InstanceSpr=function(){if(null==this._instanceSpr){this._instanceSpr=new egret.Sprite;var t=new egret.Matrix;t.createGradientBox(this.TF_WIDTH,this.TF_HEIGHT),this._instanceSpr.graphics.beginGradientFill(egret.GradientType.LINEAR,[this.BG_COLOR,this.BG_COLOR,this.BG_COLOR],[0,1,0],[0,127,255],t),this._instanceSpr.graphics.drawRect(0,0,this.TF_WIDTH,this.TF_HEIGHT),this._instanceSpr.graphics.endFill(),this.toastText=new egret.TextField,this.toastText.size=this.FONT_SIZE,this.toastText.x=this.toastText.y=0,this.toastText.width=this.TF_WIDTH,this.toastText.height=this.TF_HEIGHT,this.toastText.textAlign="center",this.toastText.fontFamily="微软雅黑",this.toastText.verticalAlign=egret.VerticalAlign.MIDDLE,this.toastText.textColor=this.TXT_COLOR,this._instanceSpr.addChild(this.toastText)}return this._instanceSpr.alpha=0,this._instanceSpr},t.BG_COLOR=3488060,t.TXT_COLOR=16777215,t.FONT_SIZE=30,t.TF_HEIGHT=60,t.TF_WIDTH=640,t}();t.Toast=n,__reflect(n.prototype,"wj.Toast");var s=function(){function t(){}return t.limit=function(t,e){t=Math.min(t,e),e=Math.max(t,e);var i=e-t;return t+Math.random()*i},t.limitInteger=function(t,e){return Math.round(this.limit(t,e))},t.limitInteger1=function(t,e,i){for(var n=[],s=0;i>s;s++){n[s]=Math.round(this.limit(t,e));for(var o=0;s>o;o++)n[s]==n[o]&&s--}return n},t.prototype.randomArray=function(t){var e=Math.floor(Math.random()*t.length);return t[e]},t}();t.RandomUtils=s,__reflect(s.prototype,"wj.RandomUtils");var o=function(t){function e(i,n,s){void 0===s&&(s=!0);var o,a=t.call(this)||this;return o=i?i:e.RADIUS,a.bmp=new egret.Bitmap,a.addChild(a.bmp),a.bmp.width=o,a.bmp.height=n,s&&(a.shpMask=new egret.Shape,a.shpMask.graphics.beginFill(16777215,1),a.shpMask.graphics.drawCircle(0,0,o),a.shpMask.graphics.endFill(),a.addChild(a.shpMask),a.bmp.mask=a.shpMask),a}return __extends(e,t),Object.defineProperty(e.prototype,"source",{get:function(){return this._source},set:function(t){this._source=t,RES.getResByUrl(t,this.compFunc,this,RES.ResourceItem.TYPE_IMAGE)},enumerable:!0,configurable:!0}),e.prototype.compFunc=function(t){this.bmp&&(this.bmp.texture=t)},Object.defineProperty(e.prototype,"texture",{get:function(){return this.bmp?this.bmp.texture:null},set:function(t){this.bmp&&(this.bmp.texture=t)},enumerable:!0,configurable:!0}),e.RADIUS=50,e}(egret.DisplayObjectContainer);t.HeadImg=o,__reflect(o.prototype,"wj.HeadImg");var a=function(){function t(){}return t.play=function(t){if(t){var e=t.play(0,1);return e}return null},t.stop1=function(t){t&&t.stop()},t.loadmusic=function(t,e){var i=new egret.Sound;i.addEventListener(egret.Event.COMPLETE,e,this),i.load("resource/assets/"+t+".mp3")},t.loadmusicbyurl=function(t,e){var i=new egret.URLLoader;i.addEventListener(egret.Event.COMPLETE,e,this),i.dataFormat=egret.URLLoaderDataFormat.SOUND,i.load(new egret.URLRequest(t))},t}();t.Music=a,__reflect(a.prototype,"wj.Music");var r=function(e){function i(i,n,s,o,a,r){void 0===r&&(r=1);var h=e.call(this)||this;return h.index=0,h.jianju=h._w/h._lie,h.duix=[],h._x=i,h._y=n,h._w=s,h._h=o,h._lie=r,h._hanggao=a,h.scollvi=new egret.ScrollView,t.Mytools.setweiz(h.scollvi,i,n,s,o),h.spr=new egret.Sprite,h.scollvi.setContent(h.spr),h.addChild(h.scollvi),h}return __extends(i,e),i.prototype.inint=function(t,e,i,n){var s=this;void 0===n&&(n=this._w/this._lie),this.jianju=n,this.data1=i,this.duixiang=t,this.type=e;for(var o=0;o<i.length;o++)this.createyuansu(i[o],o);this.scollvi.addEventListener(egret.Event.CHANGE,function(){s.scollvi.scrollTop==s.scollvi.getMaxScrollTop()&&s.dispatchEventWith("mowei")},this)},i.prototype.createyuansu=function(e,i){var n=t.Mytools.createshap(0+this._w/this._lie*(i%this._lie),0+(i/this._lie>>0)*this._hanggao,this._w/this._lie-1,this._hanggao,0,0);this.spr.addChild(n),this.onclic(n,i),this.duix.push(n);for(var s=0;s<this.duixiang.length;s++)switch(this.duixiang[s].alpha=0,this.type[s]){case 1:var o=t.Mytools.createBitmapByName(e[s]);t.Mytools.setweiz(o,this.duixiang[s].x-this._x+this.jianju*(i%this._lie),this.duixiang[s].y-this._y+(i/this._lie>>0)*this._hanggao,this.duixiang[s].width,this.duixiang[s].height),this.spr.addChild(o);break;case 2:var a=new t.HeadImg(this.duixiang[s].width,this.duixiang[s].height,!1);a.source=e[s],t.Mytools.setweiz(a,this.duixiang[s].x-this._x+this.jianju*(i%this._lie),this.duixiang[s].y-this._y+(i/this._lie>>0)*this._hanggao,this.duixiang[s].width,this.duixiang[s].height),a.x=this.duixiang[s].x-this._x+this.jianju*(i%this._lie),a.y=this.duixiang[s].y-this._y+(i/this._lie>>0)*this._hanggao,this.spr.addChild(a);break;case 3:var r=new egret.TextField;t.Mytools.setweiz(r,this.duixiang[s].x-this._x+this.jianju*(i%this._lie),this.duixiang[s].y-this._y+(i/this._lie>>0)*this._hanggao,this.duixiang[s].width,this.duixiang[s].height),r.textColor=this.duixiang[s].textColor,r.size=this.duixiang[s].size,r.bold=this.duixiang[s].bold,r.text=e[s],this.spr.addChild(r);break;case 4:var h=new wy.HeadImg(this.duixiang[s].width/2);h.source=e[s],t.Mytools.setweiz(h,this.duixiang[s].x-this._x+this.jianju*(i%this._lie),this.duixiang[s].y-this._y+(i/this._lie>>0)*this._hanggao,this.duixiang[s].width,this.duixiang[s].height),h.x=this.duixiang[s].x-this._x+this.jianju*(i%this._lie),h.x+=this.duixiang[s].width/2,h.y=this.duixiang[s].y-this._y+(i/this._lie>>0)*this._hanggao,h.y+=this.duixiang[s].width/2,this.spr.addChild(h)}},i.prototype.onclic=function(t,e){var i=this;t.touchEnabled=!0,t.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){i.index=i.duix.indexOf(t.target),i.dispatchEventWith("choose")},this)},Object.defineProperty(i.prototype,"data",{get:function(){return this.data1},set:function(t){this.data1=t,this.spr.removeChildren(),this.duix=[],this.inint(this.duixiang,this.type,this.data,this.jianju)},enumerable:!0,configurable:!0}),i}(egret.DisplayObjectContainer);t.paihangban=r,__reflect(r.prototype,"wj.paihangban");var h=function(){function t(){this._id="gameID",this._fontSize=100;var t=document.getElementById(this._id);this.input=document.createElement("input"),t.appendChild(this.input),this.input.style.outline="none",this.input.style.border="0px",this.input.style.backgroundColor="transparent",this.input.style.position="absolute",this.input.style.fontSize=this.fontSize+"px",this.input.style.display="none",this.input.style.color="#000000",this.input.style.textAlign="center"}return Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize=t,this.input.style.fontSize=this._fontSize+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),t.prototype.setValue=function(t){this.input.style.display="inline",this.input.innerHTML=t},t.prototype.setPosition=function(t,e,i,n,s){var o=document.body.clientWidth/wy.StageMain.StageUtils.stageWidth,a=document.body.clientHeight/wy.StageMain.StageUtils.stageHeight;this.input.style.left=t*o+"px",this.input.style.top=e*a-this.fontSize+"px",this.input.style.width=i*o+"px",this.input.style.height=n*a+"px",this.input.style.display="inline",this.input.style.letterSpacing=o*s+"px"},t.prototype.show=function(){this.input&&(this.input.style.display="inline")},t.prototype.hide=function(){this.input&&(this.input.style.display="none")},t}();t.InputText=h,__reflect(h.prototype,"wj.InputText")}(wj||(wj={}));var wy;!function(t){var e=function(){function e(){}return e.init=function(t){this.myImg=document.createElement("img"),this.myImg.src=t},e.set=function(e,i,n,s){var o=n/t.GameInterface.stage.stageWidth*100,a=s/t.GameInterface.stage.stageHeight*100,r=e/t.GameInterface.stage.stageWidth*100,h=i/t.GameInterface.stage.stageHeight*100;this.myImg.style.width=o+"%",this.myImg.style.height=a+"%",this.myImg.style.position="absolute",this.myImg.style.left=r+"%",this.myImg.style.top=h+"%"},e.hide=function(){this.myImg&&this.myImg.parentNode&&this.myImg.parentNode.removeChild(this.myImg)},e.show=function(){var t=document.getElementById("gameID");t.appendChild(this.myImg)},e}();t.EWM=e,__reflect(e.prototype,"wy.EWM")}(wy||(wy={}));var wy;!function(t){var e=function(t){function e(e,i){void 0===e&&(e=0),void 0===i&&(i=1e3);var n=t.call(this)||this;return n.delay=i,n.repeatCount=e,n.currentCount=0,n}return __extends(e,t),e.prototype.start=function(){this.previous=egret.getTimer(),this.accTime=0,egret.startTick(this.update,this)},e.prototype.reset=function(){this.previous=egret.getTimer(),this.accTime=0,this.currentCount=0},e.prototype.stop=function(){egret.stopTick(this.update,this)},e.prototype.update=function(){for(this.curTime=egret.getTimer(),this.passTime=this.curTime-this.previous,this.previous=this.curTime,this.accTime+=this.passTime;this.accTime>=this.delay;)this.accTime-=this.delay,this.currentCount++,this.repeatCount>0&&this.currentCount==this.repeatCount&&(this.dispatchEvent(new egret.TimerEvent(egret.TimerEvent.TIMER_COMPLETE)),this.stop()),this.dispatchEvent(new egret.TimerEvent(egret.TimerEvent.TIMER));
return!1},e}(egret.EventDispatcher);t.GameTimer=e,__reflect(e.prototype,"wy.GameTimer")}(wy||(wy={}));var wy;!function(t){var e=function(){function t(){this.MAX_SCALE=3,this.MIN_SCALE=0}return t.prototype.apply=function(t){return null!=t&&void 0!=t&&this.obj!=t?(this.cancel(),this.obj=t,egret.MainContext.deviceType==egret.MainContext.DEVICE_PC&&(neoges.GestureManager.showTouchPoint=!0),this):void 0},t.prototype.all=function(){return this.obj?(this.scale().rotate().move(),this):this},t.prototype.scale=function(){return this.obj?(this.pinch=new neoges.PinchGesture(this.obj),this.pinch.addEventListener(neoges.GestureEvent.BEGAN,this.onPinchBegan,this),this.pinch.addEventListener(neoges.GestureEvent.UPDATE,this.onPinchUpdate,this),this.pinch.addEventListener(neoges.GestureEvent.ENDED,this.onPinchEnd,this),this):this},t.prototype.rotate=function(){return this.obj?(this.rot=new neoges.RotationGesture(this.obj),this.rot.addEventListener(neoges.GestureEvent.BEGAN,this.onRotationBegan,this),this.rot.addEventListener(neoges.GestureEvent.UPDATE,this.onRotationUpdate,this),this.rot.addEventListener(neoges.GestureEvent.ENDED,this.onRotationEnd,this),this):this},t.prototype.move=function(){return this.obj?(this.pan=new neoges.PanGesture(this.obj),this.pan.addEventListener(neoges.GestureEvent.BEGAN,this.onPanBegan,this),this.pan.addEventListener(neoges.GestureEvent.UPDATE,this.onPanUpdate,this),this.pan.addEventListener(neoges.GestureEvent.ENDED,this.onPanEnd,this),this):this},t.prototype.cancel=function(){return this.pinch&&(this.clearGesture(this.pinch),this.pinch.removeEventListener(neoges.GestureEvent.BEGAN,this.onPinchBegan,this),this.pinch.removeEventListener(neoges.GestureEvent.UPDATE,this.onPinchUpdate,this),this.pinch.removeEventListener(neoges.GestureEvent.ENDED,this.onPinchEnd,this)),this.rot&&(this.clearGesture(this.rot),this.rot.removeEventListener(neoges.GestureEvent.BEGAN,this.onRotationBegan,this),this.rot.removeEventListener(neoges.GestureEvent.UPDATE,this.onRotationUpdate,this),this.rot.removeEventListener(neoges.GestureEvent.ENDED,this.onRotationEnd,this)),this.pan&&(this.clearGesture(this.pan),this.pan.removeEventListener(neoges.GestureEvent.BEGAN,this.onPanBegan,this),this.pan.removeEventListener(neoges.GestureEvent.UPDATE,this.onPanUpdate,this),this.pan.removeEventListener(neoges.GestureEvent.ENDED,this.onPanEnd,this)),this},t.prototype.onPinchBegan=function(t){this.obj&&(this.startScaleValue=this.obj.scaleX)},t.prototype.onPinchUpdate=function(t){if(this.obj&&t.value!=1/0&&Math.abs(t.value)<=5){var e=this.startScaleValue*t.value;if(e>this.MAX_SCALE||e<this.MIN_SCALE)return;this.obj.scaleX=e,this.obj.scaleY=this.obj.scaleX}},t.prototype.onPinchEnd=function(t){},t.prototype.onRotationBegan=function(t){this.obj&&(this.startRotationValue=this.obj.rotation)},t.prototype.onRotationUpdate=function(t){this.obj&&t.value!=1/0&&Math.abs(t.value)<=180&&(this.obj.rotation=this.startRotationValue+t.value)},t.prototype.onRotationEnd=function(t){},t.prototype.onPanBegan=function(t){this.startPoint=new egret.Point(t.host.x,t.host.y)},t.prototype.onPanUpdate=function(t){Math.abs(t.offsetX)<=1e3&&(t.host.x=this.startPoint.x+t.offsetX,this.obj&&(this.obj.x=t.host.x)),Math.abs(t.offsetY)<=1e3&&(t.host.y=this.startPoint.y+t.offsetY,this.obj&&(this.obj.y=t.host.y))},t.prototype.onPanEnd=function(t){},t.prototype.clearGesture=function(t){t.dispose()},t}();t.Gesture=e,__reflect(e.prototype,"wy.Gesture")}(wy||(wy={}));var wy;!function(t){var e=function(t){function e(i,n){void 0===n&&(n=!0);var s,o=t.call(this)||this;return s=i?i:e.RADIUS,o.bmp=new egret.Bitmap,o.addChild(o.bmp),o.bmp.width=o.bmp.height=2*s,o.bmp.x=o.bmp.y=-s,n&&(o.shpMask=new egret.Shape,o.shpMask.graphics.beginFill(16777215,1),o.shpMask.graphics.drawCircle(0,0,s),o.shpMask.graphics.endFill(),o.addChild(o.shpMask),o.bmp.mask=o.shpMask),o}return __extends(e,t),Object.defineProperty(e.prototype,"source",{get:function(){return this._source},set:function(t){this._source=t,RES.getResByUrl(t,this.compFunc,this,RES.ResourceItem.TYPE_IMAGE)},enumerable:!0,configurable:!0}),e.prototype.compFunc=function(t){this.bmp&&(this.bmp.texture=t)},Object.defineProperty(e.prototype,"texture",{get:function(){return this.bmp?this.bmp.texture:null},set:function(t){this.bmp&&(this.bmp.texture=t)},enumerable:!0,configurable:!0}),e.RADIUS=50,e}(egret.DisplayObjectContainer);t.HeadImg=e,__reflect(e.prototype,"wy.HeadImg")}(wy||(wy={}));var wy;!function(t){var e=function(){function t(){}return t.init=function(){this.inputs=[],this.inputDatas=[],this.defaultColor=9884671,this.inputColor=0},t.register=function(t,e,i,n){if(t.type!=egret.TextFieldType.INPUT)return void console.log("input type is not input");i||(i=this.defaultColor),n||(n=this.inputColor);var s=this.inputs.indexOf(t);0>s&&(this.inputs.push(t),t.text=e+"",t.textColor=i,this.inputDatas.push({inputColor:n,defaultColor:i,defaultStr:e}),t.addEventListener(egret.TextEvent.FOCUS_IN,this.onFocusIn,this),t.addEventListener(egret.TextEvent.FOCUS_OUT,this.onFocusOut,this))},t.unregister=function(t){var e=this.inputs.indexOf(t);e>=0&&(this.inputs[e].addEventListener(egret.TextEvent.FOCUS_IN,this.onFocusIn,this),this.inputs[e].addEventListener(egret.TextEvent.FOCUS_OUT,this.onFocusOut,this),this.inputs.splice(e,1),this.inputDatas.splice(e,1))},t.onFocusIn=function(t){var e=t.currentTarget;if(e){var i=this.inputs.indexOf(e);this.inputDatas[i]&&e.textColor==this.inputDatas[i].defaultColor&&(e.text="",e.textColor=this.inputDatas[i].inputColor)}},t.onFocusOut=function(t){var e=t.currentTarget;if(e){var i=this.inputs.indexOf(e);""==e.text&&this.inputDatas[i]&&(e.text=this.inputDatas[i].defaultStr+"",e.textColor=this.inputDatas[i].defaultColor)}},t}();t.InputUtils=e,__reflect(e.prototype,"wy.InputUtils")}(wy||(wy={}));var wy;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.createOk=function(e){if(this.bg=new egret.Shape,this.bg.graphics.beginFill(0,t.LoadingData.BG_ALPHA),e){if(t.LoadingData.STYLE<3)var i=170,n=418;else var i=270,n=468;this.bg.graphics.drawRect(0,0,640,1036)}else{if(t.LoadingData.STYLE<3)var i=418,n=170;else var i=468,n=270;this.bg.graphics.drawRect(0,0,1036,640)}switch(this.bg.graphics.endFill(),this.addChild(this.bg),this.bg.touchEnabled=!0,t.LoadingData.STYLE<3?(this.dialog=new egret.Sprite,this.dialog.graphics.beginFill(1973790,0),this.dialog.graphics.drawRoundRect(0,0,300,200,25),this.dialog.graphics.endFill(),this.addChild(this.dialog),this.dialog.x=i,this.dialog.y=n,this.shape_sprite=new egret.Sprite,this.shape_sprite.graphics.beginFill(16711680,0),this.shape_sprite.graphics.drawRect(0,0,140,140),this.shape_sprite.graphics.endFill(),this.dialog.addChild(this.shape_sprite),this.shape_sprite.anchorOffsetX=this.shape_sprite.width>>1,this.shape_sprite.anchorOffsetY=this.shape_sprite.height>>1,this.shape_sprite.x=83+this.shape_sprite.anchorOffsetX,this.shape_sprite.y=35+this.shape_sprite.anchorOffsetY):(this.dialog=new egret.Sprite,this.dialog.graphics.beginFill(1973790,1),this.dialog.graphics.drawRoundRect(0,0,100,100,25),this.dialog.graphics.endFill(),this.addChild(this.dialog),this.dialog.x=i,this.dialog.y=n,this.shape_sprite=new egret.Sprite,this.shape_sprite.graphics.beginFill(16711680,0),this.shape_sprite.graphics.drawRect(0,0,70,70),this.shape_sprite.graphics.endFill(),this.dialog.addChild(this.shape_sprite),this.shape_sprite.anchorOffsetX=this.shape_sprite.width>>1,this.shape_sprite.anchorOffsetY=this.shape_sprite.height>>1,this.shape_sprite.x=15+this.shape_sprite.anchorOffsetX,this.shape_sprite.y=15+this.shape_sprite.anchorOffsetY),t.LoadingData.STYLE){case 1:this.style1();break;case 2:this.style2();break;case 3:this.style3();break;case 4:this.style4();break;case 5:this.style5()}},i.prototype.style1=function(){var t,e=70;t=new egret.Shape,t.graphics.lineStyle(3,16777215,1),t.graphics.drawCircle(e,e,e),t.graphics.endFill(),this.shape_sprite.addChild(t);var i;i=new egret.Shape,i.graphics.beginFill(16777215),i.graphics.drawCircle(28,15,7),i.graphics.endFill(),this.shape_sprite.addChild(i),egret.Tween.get(this.shape_sprite,{loop:!0}).to({rotation:360},2e3,egret.Ease.cubicOut)},i.prototype.style2=function(){var t,e,i,n;t=new egret.Shape,t.graphics.beginFill(16777215),t.graphics.drawCircle(120,72,10),t.graphics.endFill(),this.shape_sprite.addChild(t),e=new egret.Shape,e.graphics.beginFill(16777215,.8),e.graphics.drawCircle(99,18,8),e.graphics.endFill(),this.shape_sprite.addChild(e),i=new egret.Shape,i.graphics.beginFill(16777215,.6),i.graphics.drawCircle(35.5,18.5,6),i.graphics.endFill(),this.shape_sprite.addChild(i),n=new egret.Shape,n.graphics.beginFill(16777215,.4),n.graphics.drawCircle(10,71,4),n.graphics.endFill(),this.shape_sprite.addChild(n),egret.Tween.get(this.shape_sprite,{loop:!0}).to({rotation:360},1e3)},i.prototype.style3=function(){var t,e,i,n;t=new egret.Shape,t.graphics.beginFill(16777215),t.graphics.drawCircle(35,60,10),t.graphics.endFill(),this.shape_sprite.addChild(t),e=new egret.Shape,e.graphics.beginFill(16777215),e.graphics.drawCircle(10,35,10),e.graphics.endFill(),this.shape_sprite.addChild(e),i=new egret.Shape,i.graphics.beginFill(16777215),i.graphics.drawCircle(35,10,10),i.graphics.endFill(),this.shape_sprite.addChild(i),n=new egret.Shape,n.graphics.beginFill(16777215),n.graphics.drawCircle(60,35,10),n.graphics.endFill(),this.shape_sprite.addChild(n),egret.Tween.get(this.shape_sprite,{loop:!0}).to({scaleX:.5,scaleY:.5},800).to({scaleX:1,scaleY:1},800),egret.Tween.get(this.shape_sprite,{loop:!0}).to({rotation:360},1600)},i.prototype.style4=function(){var t,e,i,n;t=new egret.Shape,t.graphics.beginFill(16777215),t.graphics.drawCircle(0,0,10),t.graphics.endFill(),this.shape_sprite.addChild(t),e=new egret.Shape,e.graphics.beginFill(16777215),e.graphics.drawCircle(0,0,10),e.graphics.endFill(),this.shape_sprite.addChild(e),i=new egret.Shape,i.graphics.beginFill(16777215),i.graphics.drawCircle(0,0,10),i.graphics.endFill(),this.shape_sprite.addChild(i),n=new egret.Shape,n.graphics.beginFill(16777215),n.graphics.drawCircle(0,0,10),n.graphics.endFill(),this.shape_sprite.addChild(n),t.x=e.x=i.x=n.x=35,t.y=e.y=i.y=n.y=35,egret.Tween.get(t,{loop:!0}).to({x:35,y:60},1e3).wait(1e3).to({x:35,y:35},1e3).wait(500),egret.Tween.get(e,{loop:!0}).to({x:10,y:35},1e3).wait(1e3).to({x:35,y:35},1e3).wait(500),egret.Tween.get(i,{loop:!0}).to({x:35,y:10},1e3).wait(1e3).to({x:35,y:35},1e3).wait(500),egret.Tween.get(n,{loop:!0}).to({x:60,y:35},1e3).wait(1e3).to({x:35,y:35},1e3).wait(500),egret.Tween.get(this.shape_sprite,{loop:!0}).to({rotation:360},1600)},i.prototype.style5=function(){var t,e,i,n,s=this;t=new egret.Shape,t.graphics.beginFill(16777215),t.graphics.drawCircle(0,0,10),t.graphics.endFill(),this.shape_sprite.addChild(t),e=new egret.Shape,e.graphics.beginFill(16777215),e.graphics.drawCircle(0,0,10),e.graphics.endFill(),this.shape_sprite.addChild(e),i=new egret.Shape,i.graphics.beginFill(16777215),i.graphics.drawCircle(0,0,10),i.graphics.endFill(),this.shape_sprite.addChild(i),n=new egret.Shape,n.graphics.beginFill(16777215),n.graphics.drawCircle(0,0,10),n.graphics.endFill(),this.shape_sprite.addChild(n),t.x=e.x=i.x=n.x=35,t.y=e.y=i.y=n.y=35;var o=function(){t.alpha=e.alpha=i.alpha=n.alpha=0,t.alpha=1,egret.Tween.get(t).to({x:35,y:60},600).wait(500).call(function(){e.alpha=1,egret.Tween.get(e).to({x:10,y:35},600).wait(500).call(function(){i.alpha=1,egret.Tween.get(i).to({x:35,y:10},600).wait(500).call(function(){n.alpha=1,egret.Tween.get(n).to({x:60,y:35},600).wait(1e3).call(a,s)},s)},s)},s)},a=function(){egret.Tween.get(t).to({x:35,y:35},600).wait(500).call(function(){egret.Tween.get(e).to({x:35,y:35},600).wait(500).call(function(){egret.Tween.get(i).to({x:35,y:35},600).wait(500).call(function(){egret.Tween.get(n).to({x:35,y:35},600).wait(600).call(o,s)},s)},s)},s)};o(),egret.Tween.get(this.shape_sprite,{loop:!0}).to({rotation:360},1600)},i.prototype.open_loading=function(t,e){this.createOk(t),e.addChild(this)},i.prototype.close_loading=function(){this&&this.parent&&(this.removeChildren(),this.parent.removeChild(this))},i.open=function(e,i){void 0===e&&(e=!0),void 0===i&&(i=t.GameInterface.stage),this.loadingData.open_loading(e,i)},i.close=function(){this.loadingData.close_loading()},i.STYLE=3,i.BG_ALPHA=0,i.loadingData=new i,i}(egret.DisplayObjectContainer);t.LoadingData=e,__reflect(e.prototype,"wy.LoadingData")}(wy||(wy={}));var RandomUtils=function(){function t(){}return t.limit=function(t,e){t=Math.min(t,e),e=Math.max(t,e);var i=e-t;return t+Math.random()*i},t.limitInteger=function(t,e){return Math.round(this.limit(t,e))},t.prototype.randomArray=function(t){var e=Math.floor(Math.random()*t.length);return t[e]},t}();__reflect(RandomUtils.prototype,"RandomUtils");var wy;!function(t){var e=function(){function t(){}return t.checkMobile=function(t){var e=/^0?1[3|4|5|8|7][0-9]\d{8}$/;return e.test(t)?!0:!1},t}();t.RegUtils=e,__reflect(e.prototype,"wy.RegUtils")}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){this.prep=new egret.Point,this.threshold=50,this.funcObjs=[];for(var t=0;4>t;++t)this.funcObjs.push({func:null,thisObj:null})}return e.init=function(){this.sliders=[],this.pages=[]},e.register=function(t){if(!this.pages||!this.sliders)return void console.info("请先使用wy.Slider.init();初始化");var i,n=this.pages.indexOf(t);return 0>n?(i=new e,this.sliders.push(i),i.bind(t),this.pages.push(t)):i=this.sliders[n],i},e.unregister=function(t){var e=this.pages.indexOf(t);e>=0&&(this.pages.splice(e,1),this.sliders.length>e&&(this.sliders[e].unbind(t),this.sliders.splice(e,1)))},e.prototype.bind=function(t){t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.ontouchbegin,this),t.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.ontouchmove,this),t.addEventListener(egret.TouchEvent.TOUCH_END,this.ontouchend,this),t.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.ontouchend,this)},e.prototype.unbind=function(t){t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.ontouchbegin,this),t.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.ontouchmove,this),t.removeEventListener(egret.TouchEvent.TOUCH_END,this.ontouchend,this),t.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.ontouchend,this);for(var e=0;4>e;++e)this.funcObjs[e]&&(this.funcObjs[e].func=null,this.funcObjs[e].thisObj=null),this.funcObjs[e]=null;this.funcObjs=null,this.prep=null},e.prototype.left=function(t,e){return this.funcObjs[0].func=t,this.funcObjs[0].thisObj=e,this},e.prototype.right=function(t,e){return this.funcObjs[1].func=t,this.funcObjs[1].thisObj=e,this},e.prototype.up=function(t,e){return this.funcObjs[2].func=t,this.funcObjs[2].thisObj=e,this},e.prototype.down=function(t,e){return this.funcObjs[3].func=t,this.funcObjs[3].thisObj=e,this},e.prototype.nextleft=function(e,i,n,s){var o=this;return void 0===i&&(i=0),this.left(function(){o.next(e,i,t.PopType.LEFTIN)},this)},e.prototype.nextright=function(e,i,n,s){var o=this;return void 0===i&&(i=0),this.right(function(){o.next(e,i,t.PopType.RIGHTIN)},this)},e.prototype.nextup=function(e,i,n,s){var o=this;return void 0===i&&(i=0),this.up(function(){o.next(e,i,t.PopType.TOPIN)},this)},e.prototype.nextdown=function(e,i,n,s){var o=this;return void 0===i&&(i=0),this.down(function(){o.next(e,i,t.PopType.BOTTOMIN)},this)},e.prototype.next=function(e,i,n,s,o,a){switch(void 0===i&&(i=0),i){case 0:t.changeScene(e,n,o);break;case 1:t.changeView(e,n,o,a);break;case 2:t.openPopUpView(e,n,o,a);break;case 3:}},Object.defineProperty(e.prototype,"threshold",{set:function(t){this.thresholdX=t,this.thresholdY=t},enumerable:!0,configurable:!0}),e.prototype.ontouchbegin=function(t){this.prep.x=t.stageX,this.prep.y=t.stageY},e.prototype.ontouchmove=function(t){},e.prototype.ontouchend=function(t){this.judge(t)},e.prototype.judge=function(t){if(this.prep){var e=t.stageX-this.prep.x,i=t.stageY-this.prep.y,n=e>0?!1:!0,s=i>0?!1:!0;n?Math.abs(e)>this.thresholdX&&this.callFunc(1):Math.abs(e)>this.thresholdX&&this.callFunc(0),s?Math.abs(i)>this.thresholdY&&this.callFunc(3):Math.abs(i)>this.thresholdY&&this.callFunc(2)}},e.prototype.callFunc=function(t){this.funcObjs&&this.funcObjs.length>t&&this.funcObjs[t]&&this.funcObjs[t].func&&(this.funcObjs[t].thisObj?this.funcObjs[t].func.call(this.funcObjs[t].thisObj):this.funcObjs[t].func())},e}();t.Slider=e,__reflect(e.prototype,"wy.Slider")}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}return Object.defineProperty(e,"showTouchEffects",{get:function(){return this._showTouchEffects},set:function(e){this._showTouchEffects=e,e?t.GameInterface.stage.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this):t.GameInterface.stage.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"showBtnEffects",{get:function(){return this._showBtnEffects},set:function(e){this._showBtnEffects=e,e?(t.GameInterface.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),t.GameInterface.stage.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTouchRelease,this),t.GameInterface.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this)):(t.GameInterface.stage.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),t.GameInterface.stage.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTouchRelease,this),t.GameInterface.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this))},enumerable:!0,configurable:!0}),e.init=function(){this.showBtnEffects=!0,this.showTouchEffects=!1},e.onTouchTap=function(e){t.TouchEffects["do"](e.stageX,e.stageY)},e.onTouchBegin=function(e){"btn"==e.target.name&&(t.Tools.center(e.target),e.target.scaleX=e.target.scaleY=.95)},e.onTouchRelease=function(e){"btn"==e.target.name&&(e.target.scaleX=e.target.scaleY=1),this._showTouchEffects&&t.TouchEffects["do"](e.stageX,e.stageY)},e.onTouchEnd=function(t){"btn"==t.target.name&&(t.target.scaleX=t.target.scaleY=1)},e.TYPE_BUTTON="btn",e._showTouchEffects=!1,e._showBtnEffects=!0,e}();t.StageBtnUtils=e,__reflect(e.prototype,"wy.StageBtnUtils")}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}return e.setContent=function(e,i,n,s){void 0===i&&(i=null),void 0===n&&(n=!0),void 0===s&&(s=t.GameInterface),this.isChange=!1;var o=this.InstanceTf();o.text=e,o.width>=s.stage.stageWidth-100&&(o.width=s.stage.stageWidth-100),(o.width!=this.TF_WIDTH||o.height!=this.TF_HEIGHT)&&(this.isChange=!0),this.TF_WIDTH=o.width+60,this.TF_HEIGHT=o.height+40,o.y=20;var a=this.InstanceSpr();a.x=(s.stage.stageWidth-a.width)/2,egret.Tween.removeTweens(a);var r=s.stage.stageHeight-150;r+this.TF_HEIGHT+40>=s.stage.stageHeight&&(r-=50),i&&(n=!1,r=i),n&&(a.y=s.stage.stageHeight,egret.Tween.get(a).to({y:r},300)),egret.Tween.get(a).to({alpha:1},300).wait(2e3).to({alpha:0},300).call(function(){a.parent&&a.parent.removeChild(a)}),a.y=r,s.stage.addChild(a)},e.InstanceTf=function(){return null==this.toastText&&(this.toastText=new egret.TextField,this.toastText.size=this.FONT_SIZE,this.toastText.x=30,this.toastText.textAlign="center",this.toastText.fontFamily="微软雅黑",this.toastText.verticalAlign=egret.VerticalAlign.MIDDLE,this.toastText.textColor=this.TXT_COLOR,this.toastText.lineSpacing=15),this.toastText},e.InstanceSpr=function(){return(null==this._instanceSpr||this.isChange)&&(this._instanceSpr&&this._instanceSpr.parent&&this._instanceSpr.parent.removeChild(this._instanceSpr),this._instanceSpr=new egret.Sprite,this._instanceSpr.graphics.beginFill(this.BG_COLOR,1),this._instanceSpr.graphics.drawRoundRect(0,0,this.TF_WIDTH,this.TF_HEIGHT,20),this._instanceSpr.graphics.endFill(),this._instanceSpr.addChild(this.toastText)),this._instanceSpr.alpha=0,this._instanceSpr},e.BG_COLOR=3421236,e.TXT_COLOR=16777215,e.FONT_SIZE=30,e.isChange=!1,e}();t.Toast=e,__reflect(e.prototype,"wy.Toast")}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}return e.stop=function(t){egret.Tween.removeTweens(t)},e.removeFromParent=function(t){t&&t.parent&&t.parent.removeChild(t)},e.createMovieClip=function(t,e){void 0===e&&(e="png");var i=RES.getRes(t+"_json"),n=RES.getRes(t+"_"+e),s=new egret.MovieClipDataFactory(i,n),o=s.generateMovieClipData(t),a=new egret.MovieClip(o);return a},e.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},e.createBitmapText=function(t){var e=RES.getRes(t),i=new egret.BitmapText;return i.font=e,i},e.createParticle=function(t,e){void 0===e&&(e="png");var i=RES.getRes(t+"_"+e),n=RES.getRes(t+"_json"),s=new particle.GravityParticleSystem(i,n);return s},e.cnEnWordCount=function(t){return t.replace(/[^\x00-\xff]/g,"**").length},e.center=function(t){t.x-=t.anchorOffsetX,t.y-=t.anchorOffsetY,t.anchorOffsetX=t.width>>1,t.anchorOffsetY=t.height>>1,t.x+=t.anchorOffsetX,t.y+=t.anchorOffsetY},e.scaleImg=function(t,e,i){var n=t.texture,s=n.textureWidth/n.textureHeight;n.textureWidth>n.textureHeight?(n.textureWidth>e?(t.width=e,t.height=t.width/s):(t.width=n.textureWidth,t.height=n.textureHeight),t.height>i&&(t.height=i,t.width=s*t.height)):(n.textureHeight>i?(t.height=i,t.width=s*t.height):(t.width=n.textureWidth,t.height=n.textureHeight),t.width>e&&(t.width=e,t.height=t.width/s))},e.upload_base64=function(t,e,i){var n="image="+encodeURIComponent(t),s=new egret.URLLoader,o=new egret.URLRequest;o.url="http://wag.i-h5.cn/common/upload.php?a=upload_base64";var a=new egret.URLVariables(n);o.method=egret.URLRequestMethod.POST,o.data=a,s.addEventListener(egret.Event.COMPLETE,e,i),s.load(o)},e.GET_Request=function(t,e,i){var n=new egret.URLLoader,s=new egret.URLRequest;s.url=t,s.method=egret.URLRequestMethod.GET,n.addEventListener(egret.Event.COMPLETE,e,i),n.load(s)},e.createSprBtn=function(t,e,i,n,s){void 0===s&&(s=0);var o=new egret.Sprite;return o.graphics.beginFill(16777215,s),o.graphics.drawRect(0,0,i,n),o.graphics.endFill(),o.x=t,o.y=e,o.width=i,o.height=n,o.touchEnabled=!0,o},e.createTextField=function(t,e,i,n,s,o,a){void 0===o&&(o="微软雅黑"),void 0===a&&(a=!1);var r=new egret.TextField;return r.x=e,r.y=i,r.textAlign=egret.HorizontalAlign.CENTER,r.verticalAlign=egret.VerticalAlign.MIDDLE,r.fontFamily=o,r.width=n,r.height=s,r.textColor=0,r.multiline=a,r.size=t,r},e.createScolltext=function(t,e){void 0===e&&(e=30),t.multiline||(t.multiline=!0);var i=new egret.Shape;i.graphics.beginFill(0,0),i.graphics.drawRect(0,0,t.width,t.height),i.graphics.endFill(),i.x=t.x,i.y=t.y;var n=-1,s=0;i.touchEnabled=!0,t.parent.addChildAt(i,t.parent.getChildIndex(t)),i.addEventListener(egret.TouchEvent.TOUCH_MOVE,function(i){-1==n?n=i.stageY:(i.stageY>n?(s+=i.stageY-n,s>=e&&(s-=e,t.scrollV-=1,0==t.scrollV&&(t.scrollV=1))):(s+=n-i.stageY,console.log(s),s>=e&&(s-=e,t.scrollV==t.maxScrollV||(t.scrollV+=1))),n=i.stageY)},t.parent),i.parent.addEventListener(egret.TouchEvent.TOUCH_END,function(t){n=-1},t.parent)},e.WX_PayHttp=function(e,i,n,s){t.LoadingData.open();var o,a;o=e,egret.log("parame:"+o);var r=new egret.HttpRequest;r.responseType=egret.HttpResponseType.TEXT,r.open(i,egret.HttpMethod.POST),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send(o),r.addEventListener(egret.Event.COMPLETE,function(e){t.LoadingData.close();var i=e.currentTarget,s=JSON.parse(i.response);egret.log("pay begin! error="+s.error),egret.log(i.response),0==s.error&&(a=s.data,window.WeixinJSBridge.invoke("getBrandWCPayRequest",a,function(t){"get_brand_wcpay_request:ok"==t.err_msg?n():alert("充值失败")}))},s)},e.copyText=function(e){var i=document.createElement("input");i.value=e,document.body.appendChild(i),i.select(),i.setSelectionRange(0,i.value.length),document.execCommand("Copy"),document.body.removeChild(i),t.Toast.setContent("复制成功")},e}();t.Tools=e,__reflect(e.prototype,"wy.Tools")}(wy||(wy={}));var wy;!function(t){var e=function(){function t(){}return t["do"]=function(t,e,i){for(var n=0;n<this._num;n++){var s,o=2*Math.PI*Math.random(),a=Math.sin(o)*this._starDis,r=Math.cos(o)*this._starDis,h=t+a,c=e+r,l=t+4*a,u=e+4*r,p=(this._size+this._size*Math.random(),new egret.Shape),g=5;if(s=i?i:RandomUtils.limit(0,16777215),Math.random()>.5){p.graphics.lineStyle(1,s),p.graphics.moveTo(g,0),p.graphics.beginFill(s),p.x=h,p.y=c;for(var d=1;11>d;d++){var f=g;d%2&&(f/=2);var o=2*Math.PI/10*d;p.graphics.lineTo(Math.cos(o)*f,Math.sin(o)*f)}}else g*=1.2,p.graphics.lineStyle(1,s),p.graphics.moveTo(0,-g),p.graphics.beginFill(s),p.x=h,p.y=c,p.graphics.drawArc(-g*Math.SQRT1_2,0,g,-Math.PI/2,Math.PI/2),p.graphics.drawArc(-g*(Math.SQRT1_2+1),0,Math.SQRT2*g,Math.PI/4,-Math.PI/4,!0);p.graphics.endFill(),egret.MainContext.instance.stage.addChild(p),egret.Tween.get(p).to({alpha:1,x:l,y:u,scaleX:.1,scaleY:.1,rotation:360},500).call(this.removeStar,this,[p])}},t.removeStar=function(t){egret.MainContext.instance.stage.removeChild(t)},t._size=2,t._num=10,t._starDis=10,t}();t.TouchEffects=e,__reflect(e.prototype,"wy.TouchEffects")}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}return e.init=function(){this.switchPagePopType=""},e["do"]=function(e){var i,n,s,o,a,r=100;for(i=0,n=e.numChildren;n>i;++i)if(o=e.getChildAt(i),s=o.name,"notween"!=s)switch(console.log("switch "+this.switchPagePopType),a=o.touchEnabled,o.touchEnabled=!1,this.switchPagePopType){case t.PopType.LEFTIN:o.x-=r,egret.Tween.get(o).wait((.5*Math.random()+.5)*t.PageSwitch.durationIn).to({x:o.x+r},t.PageSwitch.durationIn+500,egret.Ease.backOut).call(function(t,e){t.touchEnabled=e},this,[o,a]);break;case t.PopType.RIGHTIN:o.x+=r,egret.Tween.get(o).wait((.5*Math.random()+.5)*t.PageSwitch.durationIn).to({x:o.x-r},t.PageSwitch.durationIn+500,egret.Ease.backOut).call(function(t,e){t.touchEnabled=e},this,[o,a]);break;case t.PopType.TOPIN:o.y-=r,egret.Tween.get(o).wait((.5*Math.random()+.5)*t.PageSwitch.durationIn).to({y:o.y+r},t.PageSwitch.durationIn+500,egret.Ease.backOut).call(function(t,e){t.touchEnabled=e},this,[o,a]);break;case t.PopType.BOTTOMIN:o.y+=r,egret.Tween.get(o).wait((.5*Math.random()+.5)*t.PageSwitch.durationIn).to({y:o.y-r},t.PageSwitch.durationIn+500,egret.Ease.backOut).call(function(t,e){t.touchEnabled=e},this,[o,a]);break;default:o.touchEnabled=a}},e}();t.Tween=e,__reflect(e.prototype,"wy.Tween")}(wy||(wy={}));var wy;!function(t){var e=function(){function t(){}return t.upload=function(t,e,i){void 0===i&&(i=0),this.func=t,this.thisObj=e,0==i?selectImage(this.selectHandler,this):selectImageWX(this.selectHandler,this)},t.selectHandler=function(t,e,i){RES.getResByUrl(e,t.compFunc,t,RES.ResourceItem.TYPE_IMAGE)},t.compFunc=function(t){this.thisObj?this.func&&this.func.call(this.thisObj,t):this.func&&this.func(t)},t}();t.UploadImg=e,__reflect(e.prototype,"wy.UploadImg")}(wy||(wy={}));var Yaoyiyao=function(){function t(){this.SHAKE_THRESHOLD=3e3,this.SHAKE_THRESHOLD2=2e3,this.last_update=0,this.motion=null,this.shakeCount=0,this.succCallBack=null,this.failCallBack=null}return t.getInstance=function(){return this.Ins||(this.Ins=new t),this.Ins},t.prototype.init=function(t,e,i,n){void 0===t&&(t=3e3),void 0===e&&(e=100),void 0===i&&(i=12e3),void 0===n&&(n=1e3),this.last_x=0,this.last_y=0,this.last_z=0,this.isYaoing=!1,this.motion=new egret.Motion,this.interval=e,this.SHAKE_THRESHOLD=t,this.SHAKE_THRESHOLD2=n,this.diff_ratio=i},t.prototype.start=function(t,e,i){this.succCallBack=t,this.failCallBack=e,this.thisObj=i,this.motion.addEventListener(egret.Event.CHANGE,this.deviceMotionHandler,this),this.motion.start()},t.prototype.end=function(){this.motion.removeEventListener(egret.Event.CHANGE,this.deviceMotionHandler,this),this.isYaoing=!0},t.prototype.deviceMotionHandler=function(t){var e=t.accelerationIncludingGravity,i=(new Date).getTime();if(i-this.last_update>this.interval){var n=i-this.last_update;this.last_update=i;var s=e.x,o=e.y,a=e.z,r=Math.abs(s+o+a-this.last_x-this.last_y-this.last_z)/n*this.diff_ratio;r>this.SHAKE_THRESHOLD?(console.log("yaoing"),0==this.isYaoing&&(t.currentTarget.removeEventListener(egret.Event.CHANGE,this.deviceMotionHandler,this),this.isYaoing=!0,this.last_x=s,this.last_y=o,this.last_z=a,this.onYaoyiyaoSucc())):r>this.SHAKE_THRESHOLD2&&(this.last_x=s,this.last_y=o,this.last_z=a,this.failCallBack&&(this.thisObj?this.failCallBack.call(this.thisObj):this.failCallBack()))}},t.prototype.onYaoyiyaoSucc=function(){this.succCallBack&&(this.thisObj?this.succCallBack.call(this.thisObj):this.succCallBack())},t}();__reflect(Yaoyiyao.prototype,"Yaoyiyao");var wy;!function(t){var e=function(){function t(){}return t.durationIn=300,t.easeIn=null,t.durationOut=300,t.easeOut=null,t}();t.PageSwitch=e,__reflect(e.prototype,"wy.PageSwitch")}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}return e.prototype.switching=function(t,e,i,n,s){if(t){var o=1;t.alpha=0,this.doAnim(t,o)}if(e){var o=1;this.doAnim(e,o,i,n)}},e.prototype.doAnim=function(e,i,n,s){t.Tools.stop(e);var o=egret.Tween.get(e);t.PageSwitch.easeIn?o.to({alpha:i},t.PageSwitch.durationIn,t.PageSwitch.easeIn).call(function(){t.Tools.stop(e),n&&(s?n.call(s,e):n())}):o.to({alpha:i},t.PageSwitch.durationIn).call(function(){t.Tools.stop(e),n&&(s?n.call(s,e):n())})},e}();t.PageAlphaIn=e,__reflect(e.prototype,"wy.PageAlphaIn",["wy.IPageSwitch"])}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}return e.prototype.switching=function(t,e,i,n,s){if(t){var o=t.y+t.anchorOffsetY;t.y=egret.MainContext.instance.stage.stageHeight+t.anchorOffsetY,this.doAnim(t,o)}if(e){var o=-e.height+e.anchorOffsetY;this.doAnim(e,o,i,n)}},e.prototype.doAnim=function(e,i,n,s){t.Tools.stop(e);var o=egret.Tween.get(e);t.PageSwitch.easeIn?o.to({y:i},t.PageSwitch.durationIn,t.PageSwitch.easeIn).call(function(){t.Tools.stop(e),n&&(s?n.call(s,e):n())}):o.to({y:i},t.PageSwitch.durationIn).call(function(){t.Tools.stop(e),n&&(s?n.call(s,e):n())})},e}();t.PageBottomIn=e,__reflect(e.prototype,"wy.PageBottomIn",["wy.IPageSwitch"])}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}return e.prototype.switching=function(t,e,i,n,s){if(t){var o=t.x+t.anchorOffsetX;t.x=-t.width+t.anchorOffsetX,this.doAnim(t,o)}if(e){var o=egret.MainContext.instance.stage.stageWidth+t.anchorOffsetX;this.doAnim(e,o,i,n)}},e.prototype.doAnim=function(e,i,n,s){t.Tools.stop(e);var o=egret.Tween.get(e);t.PageSwitch.easeIn?o.to({x:i},t.PageSwitch.durationIn,t.PageSwitch.easeIn).call(function(){t.Tools.stop(e),n&&(s?n.call(s,e):n())}):o.to({x:i},t.PageSwitch.durationIn).call(function(){t.Tools.stop(e),n&&(s?n.call(s,e):n())})},e}();t.PageLeftIn=e,__reflect(e.prototype,"wy.PageLeftIn",["wy.IPageSwitch"])}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}return e.prototype.switching=function(t,e,i,n,s){if(t){var o=t.x+t.anchorOffsetX;t.x=egret.MainContext.instance.stage.stageWidth+t.anchorOffsetX,this.doAnim(t,o)}if(e){var o=-e.width+e.anchorOffsetX;this.doAnim(e,o,i,n)}},e.prototype.doAnim=function(e,i,n,s){t.Tools.stop(e);var o=egret.Tween.get(e);t.PageSwitch.easeIn?o.to({x:i},t.PageSwitch.durationIn,t.PageSwitch.easeIn).call(function(){t.Tools.stop(e),n&&(s?n.call(s,e):n())}):o.to({x:i},t.PageSwitch.durationIn).call(function(){t.Tools.stop(e),n&&(s?n.call(s,e):n())})},e}();t.PageRightIn=e,__reflect(e.prototype,"wy.PageRightIn",["wy.IPageSwitch"])}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}return e.prototype.switching=function(e,i,n,s,o){e&&(t.Tools.center(e),e.scaleX=e.scaleY=.5,this.doAnim(e)),i&&this.doAnim(i,n,s)},e.prototype.doAnim=function(e,i,n){t.Tools.stop(e);var s=egret.Tween.get(e);t.PageSwitch.easeIn?s.to({scaleX:1,scaleY:1},t.PageSwitch.durationIn,t.PageSwitch.easeIn).call(function(){t.Tools.stop(e),i&&(n?i.call(n,e):i())}):s.to({scaleX:1,scaleY:1},t.PageSwitch.durationIn).call(function(){t.Tools.stop(e),i&&(n?i.call(n,e):i())})},e}();t.PageScaleIn=e,__reflect(e.prototype,"wy.PageScaleIn",["wy.IPageSwitch"])}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}return e.prototype.switching=function(e,i,n,s,o){if(e){var a=e.y+e.anchorOffsetY;e.y=-e.height+e.anchorOffsetY,this.doAnim(e,a)}if(i){var a=t.GameInterface.stage.stageHeight+i.anchorOffsetY;
this.doAnim(i,a,n,s)}},e.prototype.doAnim=function(e,i,n,s){t.Tools.stop(e);var o=egret.Tween.get(e);t.PageSwitch.easeIn?o.to({y:i},t.PageSwitch.durationIn,t.PageSwitch.easeIn).call(function(){t.Tools.stop(e),n&&(s?n.call(s,e):n())}):o.to({y:i},t.PageSwitch.durationIn).call(function(){t.Tools.stop(e),n&&(s?n.call(s,e):n())})},e}();t.PageTopIn=e,__reflect(e.prototype,"wy.PageTopIn",["wy.IPageSwitch"])}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}return e.prototype.switching=function(t,e,i,n,s){if(e){var o=0;this.doAnim(e,o,i,n)}},e.prototype.doAnim=function(e,i,n,s){t.Tools.stop(e);var o=egret.Tween.get(e);t.PageSwitch.easeIn?o.to({alpha:i},t.PageSwitch.durationIn,t.PageSwitch.easeIn).call(function(){t.Tools.stop(e),n&&(s?n.call(s,e):n())}):o.to({alpha:i},t.PageSwitch.durationIn).call(function(){t.Tools.stop(e),n&&(s?n.call(s,e):n())})},e}();t.PageAlphaOut=e,__reflect(e.prototype,"wy.PageAlphaOut",["wy.IPageSwitch"])}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}return e.prototype.switching=function(t,e,i,n,s){if(e){var o=egret.MainContext.instance.stage.stageHeight+e.anchorOffsetY;this.doAnim(e,o,i,n)}},e.prototype.doAnim=function(e,i,n,s){t.Tools.stop(e);var o=egret.Tween.get(e);t.PageSwitch.easeOut?o.to({y:i},t.PageSwitch.durationOut,t.PageSwitch.easeOut).call(function(){t.Tools.stop(e),n&&(s?n.call(s,e):n())}):o.to({y:i},t.PageSwitch.durationOut).call(function(){t.Tools.stop(e),n&&(s?n.call(s,e):n())})},e}();t.PageBottomOut=e,__reflect(e.prototype,"wy.PageBottomOut",["wy.IPageSwitch"])}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}return e.prototype.switching=function(t,e,i,n,s){if(e){var o=-e.width+e.anchorOffsetY;this.doAnim(e,o,i,n)}},e.prototype.doAnim=function(e,i,n,s){t.Tools.stop(e);var o=egret.Tween.get(e);t.PageSwitch.easeOut?o.to({x:i},t.PageSwitch.durationOut,t.PageSwitch.easeOut).call(function(){t.Tools.stop(e),n&&(s?n.call(s,e):n())}):o.to({x:i},t.PageSwitch.durationOut).call(function(){t.Tools.stop(e),n&&(s?n.call(s,e):n())})},e}();t.PageLeftOut=e,__reflect(e.prototype,"wy.PageLeftOut",["wy.IPageSwitch"])}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}return e.prototype.switching=function(t,e,i,n,s){if(e){var o=egret.MainContext.instance.stage.stageWidth+e.anchorOffsetX;this.doAnim(e,o,i,n)}},e.prototype.doAnim=function(e,i,n,s){t.Tools.stop(e);var o=egret.Tween.get(e);t.PageSwitch.easeOut?o.to({x:i},t.PageSwitch.durationOut,t.PageSwitch.easeOut).call(function(){t.Tools.stop(e),n&&(s?n.call(s,e):n())}):o.to({x:i},t.PageSwitch.durationOut).call(function(){t.Tools.stop(e),n&&(s?n.call(s,e):n())})},e}();t.PageRightOut=e,__reflect(e.prototype,"wy.PageRightOut",["wy.IPageSwitch"])}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}return e.prototype.switching=function(t,e,i,n,s){e&&this.doAnim(e,i,n)},e.prototype.doAnim=function(e,i,n){t.Tools.stop(e);var s=egret.Tween.get(e);t.PageSwitch.easeOut?s.to({scaleX:0,scaleY:0},t.PageSwitch.durationOut,t.PageSwitch.easeOut).call(function(){t.Tools.stop(e),i&&(n?i.call(n,e):i())}):s.to({scaleX:0,scaleY:0},t.PageSwitch.durationOut).call(function(){t.Tools.stop(e),i&&(n?i.call(n,e):i())})},e}();t.PageScaleOut=e,__reflect(e.prototype,"wy.PageScaleOut",["wy.IPageSwitch"])}(wy||(wy={}));var wy;!function(t){var e=function(){function e(){}return e.prototype.switching=function(t,e,i,n,s){if(t){var o=-t.height+t.anchorOffsetY;this.doAnim(t,o)}if(e){var o=-e.height+e.anchorOffsetY;this.doAnim(e,o,i,n)}},e.prototype.doAnim=function(e,i,n,s){t.Tools.stop(e);var o=egret.Tween.get(e);t.PageSwitch.easeOut?o.to({y:i},t.PageSwitch.durationOut,t.PageSwitch.easeOut).call(function(){t.Tools.stop(e),n&&(s?n.call(s,e):n())}):o.to({y:i},t.PageSwitch.durationOut).call(function(){t.Tools.stop(e),n&&(s?n.call(s,e):n())})},e}();t.PageTopOut=e,__reflect(e.prototype,"wy.PageTopOut",["wy.IPageSwitch"])}(wy||(wy={}));